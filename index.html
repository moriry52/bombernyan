<!DOCTYPE html>

<html>

<head>

    <title>Bomber Nyan</title>
    <meta name="viewport" content="width=400,user-scalable=no">
    <meta http-equiv="content-type" charset="utf-8">

    <style type="text/css">
        <!--
        html,
        body {
            position: relative;
            font-family: arial;
            overflow: hidden;
            width: 100%;
            height: 100%;
            background: linear-gradient(#80ff00, #208000);
            background-size: cover;
            padding: 0px;
            margin: 0px;

        }

        div {
            padding: 0px;
            margin: 0px;
            border: none;
        }

        .field0 {
            background-color: transparent;
        }

        .field1 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAANlBMVEWCrTiLtDqErziHsDmOtzt9qDZ/qjeIsjqAqzd6pjWRujyApzZ0nzN7oTSWvD1/pDV2ozRvmjLp3R8uAAAAv0lEQVQ4y+3SuZEDQQwDQIDgN8/qyT/ZO3mq2RRksdogCgZgCYtsy4GAUKexsXLRTUUwwk6jKM6Hu3N+vvI02FjL6hOdr6adRnYswMYOPo2t0wA4p3Wa5F5eN2sjKZkiMNA8jTS5sbCva4z3ttPoWVQJBBxyO422GB3jWv6gInUaXW0X9QToitfNn+uPqXReAVfc7NOJiI7/VgvbTgNeY1m8u5IYsptZLSmtmnROPw0GLHY8E4WX4ebfHn57+PYfTScURR+VsCQAAAAASUVORK5CYII=");
        }

        .field2 {
            background-color: #011533;
        }

        .field3 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAADFBMVEV/cm6UhYFgTUxWRkaAbKUrAAAAc0lEQVQY02PgVBH5AsIMKZz5qSDMcIFpijQIM0yQZGAEYYanKQyMIMwQN9OBHYQZeN2nRoIwAydD/QMQZmALnTgBhBkY9zmkgDAD67SAvSDMEOX4LQyEGb4wRTKCMNBkXjBmSE1gcwNhBvkLjDNAeLC5BwCIqlOBww2NEQAAAABJRU5ErkJggg==");
        }

        .field4 {
            background-color: #C0C0C0;
        }


        /*
        block0 --- 平地
        block1 - block999 --- アイテム
        block1000 - block1999 ソフトブロック＋アイテム(100ごとで下2桁はアイテム番号)
        block2000 - block 2999 --- ハードブロック
        block3000 - block 3999 --- 貫通ソフトブロック＋アイテム(100ごとで下2桁はアイテム番号)
        block4000 - block 4999 --- 貫通ハードブロック
        block6000 --- 通り抜けブロック
        */

        .block0,
        .block999 {
            background: transparent;
        }

        .blockbomb {
            background: rgba(255, 0, 0, 0.5);
            font-size: 10px;
        }

        .blockburst {
            background: rgba(0, 255, 0, 0.5);
            font-size: 10px;
        }

        .block1 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABelBMVEUAAAAAAADMczbKcjYAAADPdDe/ZinOaicAAAAAAAAAAAAAAAAAAADyrX7roG3vqHdzNAr0sYMAAAAAsFC0q2//wAD0sYPxrHyJgjRpgi/+vwAArk/ylgABp0wCn0jZTAAArE6gMAf9uwD5rAALhzxATh/8uAD2pQD1nwDlbgDjZgDhXQDgWwDOQAAEm0YGk0IKiz8JfzkLejeSKwa9MwHthwDncQAAqUwBpEoJejcnZSxsNxCFKwmcLgW0LQK/NAH5sADpewDndQDjYwDdVQDUOADHNgDWomoBokkUfTgZeDUZcjMdai4qYiooXCgvWic1ViRIRRtBQBlYQRdFOhZ0MA18MwyKLgioLgSsKgK1LgH7tAD1owDznADwkQDvjgDqggDrgQDiYgDiXwDdTQDVQQDPOwDkr34Kj0GVgTYOcjMNcTMTcDIbYStETB5PQBdjPxZdOxVeOBNqMQ9uLAtyKAt2JwmDJQiiLwasMwTBOQG8KgHqfgDTRQAv01FBAAAAE3RSTlNgF+7sAOniZFwmEQcB9/TznYJERZtyhQAAAZpJREFUOMuV0WVvwkAAgOGyde7SyVVpKVVs6Bguc3fDZe5u/30dkAwKZdn76ZJ7cgoNjWk30AHDUN/ZpGZzbV290PjEiGajLVD3X0BXC1DzfHNg2V7FmwGCDewtUdrA7fWTphkD2gCglumpqemr3S+XGLy5UMY2ohZQXp9er983CYmU7HhVhvdW1QqLfjIXzQqYMeQUo1GpeGtWncG6S2YS/PERAhiex1zvLK4C5i1TOAQAgiAAAF5881IqgLMOgUPK0VjMvqC+puVuVjgGZWDE5P011RYEeygljUgl5pNU3qsa4Cv+WJoBSCWad5Xe6xfYnuNyGGPo0jQ44lJC/mOTqAKGDfssKWY4unyEiFwI7KxWA5RYVIiE0cBII6E0ebizZsVrb4F6Ln15J8MlMYaLFLetVP1verYKEadLyoadomO50Xej60FJNgUcZC5mN6hAueWD+MHM+rUvGH80NwSGp4eVU/f8Avuy6WkIiHOL+2cr3GajVKC+f4H+uVHNTtoV0NHWqln7YKcOgrsg7TqHeyC4t1unXQ/8DfQhb2uQdjntAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABtlBMVEUAAAAAAADAajAAAADKcjYAAAAAAAAAAAAAAAAAAADmsH/0sYPyrX7roG3tpHLOdDe7YyayXCF1NQr0sYPMaCTLZR8AAAAAAAAAsFD0sYPxrHy3sXa0q2+JgjRpgi9jY2VERERFRUUAp0xlZWcArk9CQ0OXl5lfX2EArU7MzM5oaGpQUFEDr09MT09JSUoCm0gjpUU8PT01Njdra21ZWVsBqk4Cl0YDkkQ2PToKWS4YQSwNPyURMSG1tbednZ+ZmZuVlZeUlJaLi416enx3d3lvb3FVVVZUVFVsWFIOrEtHR0cLfkA/Pz84nj4qSDksQjhbkjMgPC4MRyiqqqyioqSWlpiSkpSNjY+BgYN9fYBzc3VwcHJiYmRyYVgHp04ugEwEjkM3Rz9AmzwJdDoKcDkMXTIQUS8UTC4mMCbwmAXJycvDw8XAwMK9vb+CgoTZpnDYomtek2pliWh9cGVahGEbplcRrlZTcVRcaFMVn1AmnlAuiVBaXk4KrU1IbE0Ao0omhEoXqUkBnUg2ckgIh0IwoUE4Qz4+nDyVgTYtODRvjS1+kCgMRCeJjCWsnyKcmx6tgBr8wgIxldbNAAAAGHRSTlMXWN9g7AAmEAcB/fz39PPp3tSdgmVkVEFR/hV9AAABvklEQVQ4y3XTZXPbMBjAcbebC2OehpJsy47tOHYazhaGhmFlxhXGzIxl+MbVpdcXdeT/K7343emeeyTu8ukbjp27yvPcmbW7jj3v7Orlbt4BAPwsAla3Oju6D0GjCiyLCbgWcLuLjep/QA9sYG0Ut1f35t+9/PbmLRN8tRqr+zufXhW+FD58ZF5hVTd3p6YKv6d/vH7vZoG/8+7pmZnPgdnIykok5GoHrQLmUs2jG7i2ZAZYQIjUjVw6NSYqnvpDoR18j3gnEgNxOZXRJvU+KuwgFNYGVPVpXB7xiX68HrQDYVkffaI+UgfltA9CnSwHbGB2zjcSU9XHcTmtQTFP6qHjwHUPZROJWGxwSM5MQrEfeR9INkAmhuVkUpafaZANEMwODyVTo/QCUSnhdlDRxfFMNgdhbkzrJ6iydRxIi/88CmzlG/cjYswtSLYxm+RI5BFBYk2wjekqh3HJUBTF78EEKcYfyQaAGa1ghGkEIX8++qt9WaGoFyMaxiUcDbLWHSw3w320cLMcBCwAJHPxPm3BdHgwNJdAk4AjYP+Lsy9uO3bqIgVXzp907MKlaxzHd51wruN6D8f3dnPO9fAHJ1SJO06Gx6gAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block3 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAA5FBMVEUAAAAAAADMczbKcjYAAADvqXfBZysAAAAAAAAAAADso3H0sYN2Ngr0sYPRczLFXBQAAAAAsFD///+0q2/0sYPxrHyJgjRpgi8Xt2DP8N6r5cYQtVvv+vTh9uq/69Nv050fumb4/ful5MGf4b2U3raP3LKJ265QyYcrvW1Uy4o8w3o0wHQOtFr8/v32/Pna9OWe4b2A16dhzpNazI5AxHw+w3ovv3Dao20ju2gJs1bo+O/T8uHJ7trG7djF7de+69O26M2s5caA2Kh51aN21KFkz5RIxoHksH4auGIZuGEUtl6TgDUr3nBpAAAAEXRSTlNgF+/sAPvkJRAJ9/Kfg15cQ6SExEAAAAEgSURBVDjLvdHHcsIwEIBhQ0RL3yUFIxnjDtjUUNN7ff/3iWxTJHuUY/6DdNA3Ws1IOzo4U1Y6JkQr/VwqWxQrRDu/AGX1olZVAjpLQCEHpq04t3eDnzKQo4yZ8g09SGq0eXzvoAcS6FoR0LHemTiO48YQn2Wgoz0eIi5hXYS+BHxM6q/i8Q2+TPBFBKGFaU1Pv7Zw4LmMfYnAx2wPbRCBnQNdEEHnPgeeJADmIAtuJcBzs2IU9HZg/mYzzNUPtsDDTXePOrOYYWBSsH2k3Xp9n48QdQppgWk6iDPpN68QhxSEopCKwDTQWMJKj5tujAAoPw8hmzziG9K6zTRfAHKNdTug6P/A/qKu7KPMwUlxT1n5kANS0f7otKYRUi2oq5FfV1tJBq8zynoAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block4 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAByFBMVEUAAAC/ajAAAAAAAADyrX0AAAAAAAAAAAAAAAAAAADroG3erHzJbjC0XSKpVyB3Ngrzr4HEWhHEWxIAAAAAsFDxrHy3sXaIgjSEPAz///9kZGYApEsAq01FRUVQUVJERETP6NqYmJp7e30Ap0w3ODjy8vLv7++hoqJ+foBoaGlgYGJdXl8AnEchXTwObzpJmTkWVjQAZi5TJgjS6N3MzM3Fxcezs7WXl5mGhoiBgYNdg25hYWNbW11Vflxfblg9dlIGqU5NTU4Qq0tKSkoAn0kgpUYClUUClEUHjEMAkkIIgkAAhjwFfTsQbDouQTcgSDMAbjIZTDEoNS8AWikHRx8qLA9/OQt6NwtzNAppMApfKwnh4eHY2NjPz8+30sO0v7m3t7moqKqgq6WIiIp/ioR4hH3iq3i3sHZxfHZqf3PgpnFubnBsbG5qamxOhWfmlmAiplhPWFV2fFEhj04fj00yeUpESkgAmEUAlkQpo0MQgUNAREJAQUEPdT4wTD1AnzyqgTotSDoYXzknTDkHajUzNjUxMC6neSuBjicKVSUDTyUHPiFKMSEfOBZJKhU8JBTDoxMpNBMiMRMNIRMiJg7ZnAxrMQo6GgVeTdJKAAAAFHRSTlMX3lcA8VtSJRAJ9/Xk18ieeV9dPmwVwBQAAAGbSURBVDjLddFlc4MwAMZxNuYu2ShQYJXVu8rc3V0rc3d3d3f/uqOhu1xp83/7/C5wCZESkYFtNY0kiYgziqJuqZAtJESTRAYFANivt4EQZYZFxkBgO/2+WysvrwoG4QQENba3jYrtygo8qK/a3GrqvrE3YoBYg5U3GEw7dhYD6s6Lx8ZVBqa6Uxka5JgL8vJVRYz5sCUksJwU6/MLVGqmlENHKA8QaNCqCwtVk0bGxPVo/DtbOYJA47VZXaQ2Li7xwj9gV3S5CGguqxmx5TKBt0qfsJTo6CwEQMtRbVmpiRdq15vg3jyfTQcATbfAcZzA8RfwgNZpcQ8AgG3v0Gq1Hcdwb5ui6UAAydXj54Oj2XcpEzQM/aTUvXdA4XJ+dLXraalRGXhWwDxG/67PkYEutyScw745e64NyIDySyH1OkjTupI9IAeg1ekXT3lDVhYEA9Dr8YsXe8Brovp+4O56Z2UACa+4D/TvAhwAjl+Fu78O4AGw9DpYgAUoBOJmMnHNxieJIDUMX2JyFEGQ0ZHh2KLSYwmSjCHwxZJ/UWRzhXQu0I4AAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block5 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABSlBMVEUAAAAAAAAAAADMcza/ajAAAADsom/MZiIAAAAAAADmsH/yrX7PdDe7YybGbTGyXCJ0NQr0sYMAAAAAAAAAAAAAsFD/AAD0sYPxrHy3sXa0q2+HgjVqgi7///8ALRQAGQv7AAD0AACVAAA8AAAAoUkAnUcAhTwDFQoGDwcZAwPuAABVAAAeAAAAq04AlEIAkEEAiT4AbTEAXisAJBANCgQDBwTlAADMAADGAAC6AAChAABnAABMAABDAAAnAAD8/PzAwMCSkpIAqEwAdDUAYSwAUCQATCIeEREUBgPhAADaAADWAADJAACqAACMAACIAAB9AABrAABhAAAzAADo6Ojc3NzY2Ni9vb2tra2lpaXZpnDZomxbW1sAgjsAgDqVgTY1NTU0MzNrgi4rKysARyAAPx0APxwaHBsZHBoUGBbpAADdAADBAACvAAD1mNG9AAAAFXRSTlMWYFfu3QD0ZFoH/fbp3t3UnYJCJybbpL1JAAABXElEQVQ4y5WSVXvCMBiFO+mAuWballIX3IbDcLe5u+//367tWJ+1NOzhvT1vki/JQVbmtqDM2FAU2bzZhXIxv64IextQdqYmkDEFFueJgBsqHJTSX2StF6QhAhNMkEChjVsLXj4OfpAKVoIvFAMDIiF6WPCG9sEvn9QzbRZoTl/vTFKdXqVoEh47+nqX5ARATAYMAiOQupDSzqoSBsHfBTqyqB0UNgglF9ChYsAZBe/GHYqq0KqquZgWUnICxJ8MQl5Sp5PbJKj3W2QjouxzbRDcnDpZJCHI6SZQiROma7KVhjaaCDSi5YeC6SV9/J85o0L28M1j+gsGT9UHebOcxbDL/NB3+/nuhxLXpLtjDMNuWYvCBLh+kgrnMkp+QrgtO+lhvXhOyY9erqClZbizzOmrf0SrPcEw7hun9vf/CDPn21BmFxTBtjgNZWnZjiDomn0SzqoDQVFkBA70Gw8mZU4IyU8QAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block6 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAgCAMAAADdXFNzAAACjlBMVEUAAAAAAADYgEPUejz0sYMAAAAAAADxpHDsonDMczbDai7YfD70sIJ6OAr3mFr0sYLLZyL0sYMAAAAAAAAAAAD0sYPFWhEAAAAAAAAAsFD/8szxrHyBfi++k1QloESipmVCQkOlq2yYmJpGRUReXl8ArU8onkMrKyyrjnFmZmifhGdVVVYAq04LrU1DREUCiUAwMDD1zdbMzM7978vw5MDIvqC7spaQkJKHh4mKhXZ0dHani29+eGdkZGZiYmNZWVpoZFaZcFJOTk9MTE1JSUkCjUFAQEAEeToZVzcEcjYxOjYXRy3wudvxvtr41dTIyMrt4b6xsbPUyaqfn6KodqK/t5u4r5OOjpCon4eCgYJ5eXuTi3Z0i2qAbWh2b2E5nV+ge168m12ZdFhSUlPAklJjXlIhlVBQbFA5e08Frk4Mnkw2eEsCkkMzRTxBPzw0QDpImTl0iSvrp+Dusd3jm9zzxtj53NLqu9L858/86c716cS7u73o3Lnl2bfb0K+lpafPxabLwKKsgp+hdJqebZqSkpSxsJGrm4+pq4ygo4WknIWkm4OclX6ZkXyXkHt5WneKkHTgpnFvb3F6lHBumW5qamyjhWl5dWlPlmbGnWK3hWJva2FffmCYhV9bW12ikFtSgll1XllfdViKcFhfXVhjYFfCklJBflEFq1BdX1BAeU5nVE4/c0wApUsXkEofiEpaVkoqfEjDi0dRTkcAmkbXi0YipUUkpEUOjUVWnUI/Pz9EQj49nT01WD0EfTw2MjdUjzUEbTUEbDUbXzU7OjUEbDSBazJjjjEVTzFojy+Afy8ZRC4PVC0bQC0fOCzYdyg2KSgmJiiChiceHh6znxjKhxHWiA3krwzclQv/vAAKysmAAAAAGXRSTlNgGPv7gAAIgPvv5eDRooGAe3JRRisnFhIBfx8mAwAAAhJJREFUKM910FVXG0EYgOGFsqHuNkNJt7Ft3IV4kxDF3SnFHeru7u7u7u7u7v033bCshLN5L2bOmec7c/EhY0YkRUseOiypb8ljURQZXJMa7fqXurpbp1Nj2jaIhyIp7/lEEr6k++kb4pTwmWoSR/KQlAkAgObuO11/f39XVh9s3CsGVBMTkQTSwW3+r39/7lVX1V891nSWw5UPu36+rrxw7nJLY2UDl79TNl9pam1QhD5+jYQUsU6neBwMq1SqcDCg4PL0SLvcarZsd8o7P6gZp/mTp0yQL1i1Sy51YZ/VfV381lu6QJddvGdpXvkBrz8iZrv6/M5HnY58XXZpIYxW72sPsLxtbdacNE/ZEl2uCfaUo/EHxbS3rIOZBR0isyDXsgiSVQnDAdqPajPgGlxULBCkwd4MQs0r2iu00+euwEVWM+Nwo+YZ7TsgzFqJe5xWy0naDT+e0741c8a8gidCkVR6eD2kcodob9XOmj1zi98ncjjkmylf3Eb7pQqoz1guVPlcTqnLRA2cYe3nmhHq3ZgQ89bWdlBeeIRxkF4EjQ+IAQy7v4EamMZycDcPGm9g0V5SPpXt4IUeGkpOaXD8Wwmng4vE0/xNdrvdzfE/kfg4JMspIu8psQ5uroZk5dwO1MtIWGhivP++SUyHJhPZbLYTMplst2z/AMKH94vbwCGEo6OR+I3iIej4cQlx46H/Aac4rxgVPNiFAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block100 {
            background: transparent;
        }

        .block101 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAHlBMVEUAAADUuYDCqGuOgSi1pjCLa0RsTCe1onCchFRYPDy+VJwUAAAA0ElEQVQoz42QMQ6DMAxFbaXAWli6Rz0ACrATpUNHIkS6dqESB6g4AfduMA5BYqnfZPPzhR5gDofJr+eDvnVxv+RfeLretLyLxzJC3XSlMNu0lRlADJVpSyCEaTpIPhATpXv7DquAE1gvI5VahQSVXppsFqYnXrNZO1Bm8wYWvgMAJRYeuQLr0EKncJBMsSfiiQ+B85OYOJcWewLz43+QQv5KOVJo9wd4Z4WaE6zQqiBIB4WafbBCjAnFCpH5W2HigsLEkcJ0StxGOoEfOhG0/gB1C0SfNU7AFgAAAABJRU5ErkJggg==");
            background-size: 100% 100%;
        }

        .block900 {
            background: white;
            opacity: 0.5
        }

        .block1000 {
            background-image: url("");
            background-size: 100% 100%;
        }

        .block1100 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEUAAAC1onCLa0SchFSLeE7UuYDCqGtsTCcQPoVBAAAAAXRSTlMAQObYZgAAAG5JREFUKM/dzTEOgCAMBVCvULwBi7OFEyCJMyawt/c/hAIJLXF1sn97+W2Xv03C1QCuKGCgRgM9QFOjkW4wmKSA6xJ92yhMTLqROV+Zi4DDGrQD7NajGj4c6AUypASwuwGxz/vG9CUGd8pKaGlwA0ODIXT8T5xZAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block1200 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEUAAAD/////q16MWSq9dDMZGRkAAABkNxBefSETAAAAAnRSTlMAGRL4ZfgAAABiSURBVCjPYxhuQMQFDBzhAk5KKi4uSkoqCIEgl9AQJ1UkASWXIBVXJWQB1SAXFAGgftdQdAElVAGlUDQBFSDGpyUIpAXFHWCAEAiB+MUVLlBsDAZmCIFkMN8MXQWmAJlmAADvuCIURn5oLAAAAABJRU5ErkJggg==");
            background-size: 100% 100%;
        }

        .block1300 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcBAMAAACAI8KnAAAAGFBMVEUAAAD////r6+3Z2d25uMSOgSi1pjDYwVk51K3bAAAAAXRSTlMAQObYZgAAAGpJREFUGNNjGDZAyRiFJyiExGcSFBRUMoBzFQUFhZTh0myCIFnnACg3SQjIFTINhWk1BHGVYbLpiiDFJqnIBivBZZNAao1NYHrZFIGyyq4ODDBpJSUlY1MYj9mtxNjELQQuy2Bs4uyCzWcAlJIOIV1CqSMAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block2000 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeBAMAAADJHrORAAAAGFBMVEUAAACWvCBPZT1wmgRliwQ6RD1NfyWy2DyyhtR/AAAAAXRSTlMAQObYZgAAAINJREFUGNPlzTELwjAQBWAJ6h4ukFWC5/5IcK8NcZVCdqm1e3DI3xfBXvMfett3j3u32+ZM6dQyIszNYo9Cxq1+2YrSXHSApfBcqHzVBXQTW/2pXXJSR3ddvHkvPgIgfZVc9dqgHyU/nL2PYWbJhyleksvyn3l0Az/EKjPzL5aGnP/8Aqv3FR9y5OuYAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2001 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEUAAACchFSLa0S1onBsTCfUuYCCOsw/AAAAAXRSTlMAQObYZgAAAEpJREFUKM9jGAVkAFYDVJohNBhG4xIQNUKlGQRVkGljY2NBFWEgCaUZBIFARRFIQGkGJSUVQRUXJSUYjWEGVgFFFVSagUkBThMDAKgKC9OHM4fCAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2002 {
            background: transparent;
        }

        .block2003 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABABAMAAABYR2ztAAAAGFBMVEUAAAAiIiIVMj06YIFUhKp/utiizeLF4O26zNoVAAAAAXRSTlMAQObYZgAAAS1JREFUSMftkUFOw0AMRSsEB0hOwHwX2Htc2KKxQw+QpOxbKDdIrk+mmzYai4hVN/1y9BZ5mXx5VrfccssfuTcRMzE1M3103ndMZDyNRIt4L4RGA+oYEEE8PVIIxqGqME2oA1CXgiJU54AKoePqUsD/BQ0zgZeEuPCLuixpc6HsEMNMcDtcfQ88LxmdExb2oKgus1zyGh3aJWGfSyJPHeDdpmpAzQExgCOcTUoHIgYpoEqO8NGxRGZRhml0hGaT1uMhEUums6hdl79m2ZzoCMeWeiUeT4QjDOnpKH27PdG0FHrQ4WXoTSc+951zm5BE415S5ndyhHWfKCGmTK9kanYtJVKe6Ap348CUNi0musLq8wBqfr6wnch4LIWmBb0NDElZWJV5UOBVkQXw+YBfSJ5fXxmrfcEAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block2004 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAIVBMVEUAAACjo6b////r6+3Ly8uLi4uYmJjZ2d25ubl4dn5sbGwnccfDAAAAAXRSTlMAQObYZgAAAJtJREFUKM/dzrENwyAQBdCscEUYgNuAvwFCstsUWKJ0wwAWEj1KkTaFs4H3zNGccZEFctKX0Cs+//ZvF2oorykUBUZjhwYFcHOAP8HaZnsUSp3Ks4aq4MHwzBgAvAEDSEOPgjTIjnlWkAYH9qzQG9xlh9uuOzKRWVa6KxgiWgV/Q84x7SbtCkQLEX3MAA+SDGDe/Z8T4hHl0tHfX/FQJmf/lpNEAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2005 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAADFBMVEUAAAC2ZR0AAABqPBHMlsqrAAAAAXRSTlMAQObYZgAAACxJREFUGNNjGCAQFhoWioOxCgjAjFCgECYDroZoc/7/+/8Pk4Gq5h9QCBsDADKyLoMA7mTGAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2006 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEUAAAC2ZR0AAABtPRH/1KuZf2dCgfITAAAAAXRSTlMAQObYZgAAAG5JREFUKM/Vz9EJwCAMBNCuEHEBr+0CZoJIJlDcf5WmP6IB6XcDB+F9HNzx84uqWqLKACGiIBQ+oHgISCtY774DBhdNoHAgCsgCpGWBAKRi2W9pzJwb5z3A4OYJOhy0DrQFuFcHnC0YkIGzWt7/AYTXHEZW4LK6AAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2007 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeBAMAAADJHrORAAAAIVBMVEUAAADr6+3Z2d3///8xMjO5uMQvPzc3TEVGalMpSTYtUDuba2MiAAAAAXRSTlMAQObYZgAAAINJREFUGNNjGJlAUEgBhWtsjCzAaGxsKCiE4AsFKwspKyIUCGssCgwMCkAoNwwUWqqqBOMzGRoaGwZNhBvAKSRkrKSoBOczaqgqNQmLqsLVizYaqgqGhcD4LJrChpKBpSkwPptbkXh4apoL3P6UtLI0txQHOJ/NJSUlBSQNN8HFBcoFAHA8FQDw8tZlAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block2008 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAElBMVEUAAACchFS1onDUuYCLa0RsTCdxbpcJAAAAAXRSTlMAQObYZgAAADRJREFUKM9jIBowK6AJGBsREhBWQRMQdCVZQEiUZAEndAEmAWoIDI7wIEPAEV2AxYHoWAcAPUMHPwOmCqQAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block3000 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAOVBMVEUAAABliwRNfyV6qQSr0Dz////Lfv+DAAJskwTVmP/Z2d2tAACwPf/F/wD8VVbpyv//AAC5ubn/7ACrTkvqAAAAAXRSTlMAQObYZgAAAItJREFUKM/tzzsOAyEMBFCbnwF7WbL3P2wsEgmBgDpF0BTgh4uB//ntE8JRUwoHvEO4tx9EXVXWioiSksBG7eVQJFqzcxcdXm7nYEx0FgEqEc/mW4yuFuJKdUSfWwCUmbjQuJz98/jcrlRL4Yn9y2s+/YgnRcyQNd9+1gz9+mzdr896v0Xn/upymr0BPR4EQpntIloAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block4000 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAABlVBMVEUAAAB6mjR9nTaQtzp8ozR5jD6KszmGsjd+pjR6ojKFrjeErjZcYThwpXVzoTGArTSLszaFsjeDrTR5pTGOuDufv2B1jH5qZEJogDx4qTiGrjORuDl+qDR8ojR3oDOPuTqCqjWKszZ4njCIsDeIszp9qTKJrj6UvFFor6tkradfqqBZp5ljrKRqsK5WpJVusrE6hHJ5b1CAqjhRoZFKl4eBpDqErTl1kTh+pjZztrhws7R9p5pFkoNSkYJzaUhmXTyKsjpfVDdwq6B1sJ9gpZdxoJNOnYxKjn5DjHtoaE91bU5bYEpuYUJ1gTpiYjV4ozN5tq+StauLrqKZrZ1qppqAo5Zpn5GRoo+VoIhbnIhXl4hpm4eOmYd3q4F/kX8+iHaJiXN+q3FeiGuElGWAfmVvc1uKqVp8mFZ3kEt4dUp9g0ZoXkN+jUF1dEB9mz1YVDt1iThpazdRSjVQUzBKQy2lvbN/saVao5R1p5J2mo2Pknpxfm14nWeHrWWJm2J5kWGCqliDh1JrdUuKsEaAnUJ/lUBoczYuN4+4AAAAKHRSTlMA/v79/f79/PXw5dr+/f369e+ymGwI/v7++/jt6OHZ2Mq8pph8VikTCPk3AAAAAaVJREFUOMtiGAWjYMQAQBl02ZwwDMYB/AoMnbu7NGnL2o7KhttwmLv7cJu7fu4l3O1NyEVe5Hf/J3na21SPSCWTOcEVTwu5UkJpaR0d6ySZSUfpEsmqN+OK97iica/gKmpaBywkM4i6hLdcLUQONveOziMZQXCXNHoDybSyUvHGDnY3nLzTbl++2RPc7qyiIZlKNZbP10PhUMjhcNh2NpZXI9FrpZlk4m/hKegM2+asDGO1Wu8Cayub10WZZFIlFtypIQgZBs2AM3jmlkjWG3vgHUhByLKA5mjIQN9qNEuyxu7DQ6wwml2Y5QCE/pWzBpJ9rvM2hqVpGjmOQydgl26P6tipnV+EqBiALACAxolLvq069ooZAizAgdzCPBprj2mS5bd4G/4ARAylcfh99x8mkhkvT8JziKE07PDynf6MkMwsvu8uMhAHcVxtZ/fzGjPJ2mTx6mSbwUVBraj/TaGah0lm6Vdl6WV/OwABbov/+ELSGy2TJJsaHzJptZ7vq+OmpufLiy81RRknOmdI1jXd0T6o1xrUlNTnEeWUp0Vn7uj6v/0DailfJapOU+sAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block4500 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA+CAMAAABEH1h2AAAANlBMVEUAAAAAAAAcGxI1MSAuKxwoJhlFQCo9OCUjIRZPSDAVEw5ZUjZkXD1yaEZrY0Gr0DxwmgRfWDrfEilOAAAAAnRSTlMAqdmZ1nQAAAFtSURBVEjH7MuhAQAgEMNAVGXb339ZPAb3KucicgAAwAKn9kSappHf/uy38HHJkRgGoaCax9ck97/uPEezYoNiYZdEqboLXt5wTjjQkxfdvb3vqftCTV509Iu3b5Kvdp+86PGUvk9olHpxTN71eCs8KtQJkzediSeYoaYPxcGLzoQzxvWvXIM33WAI8zZ/HO4xedHhoNENXDUwedGbDUMzdT/Y5EX3xjWetqBqNnjTEVqVWqGazcfkRVdkR2ooR5fG5EUvzQpGtfQmY/KuBzS1mrssT150iKmZeDlEeU9edBUzg8BhYiKYvOjcNdzDJg2dvOjs/P/ir2iTFz1DxSMllQrH5F1P17TUFCNM3nQmIpmhJuE6eNOZMOWR+Mo6eNOPHMljOBYmZjl5rQsNQJilKJMXHWwcAVP3kzN50Q1yjcBJqucM3nRJUT2iect8TN50bn1/kgMqZ/KuKzd5fckzeNPP+f2uxetnnJPH+h/B7Biz1FrKJwAAAABJRU5ErkJggg==");
            background-size: 100% 100%;
        }

        .block4501 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAQMAAACQp+OdAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABNJREFUKM9jGAU4wH8gGGUQYgAATCKDfQLz5fIAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block6000,
        .block6001,
        .block6002,
        .block6003 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0AgMAAAC4FvN4AAAADFBMVEUAAACX2RAblwYAAADKzb8cAAAAAXRSTlMAQObYZgAAAElJREFUKM9jGFyA/z8EfADzeEMhoADM41sVGrUKCDZA5KJCI7NWrZxZgMRblVowCORQ/cAA5UE9eHVpWNSqZeHIvJXTh5HcYAEAkTiHC0lyX+MAAAAASUVORK5CYII=");
            background-size: 100% 100%;
        }

        .block6001 {
            transform: scale(1, -1);
        }

        .block6002 {
            transform: rotate(90deg);
        }

        .block6003 {
            transform: rotate(90deg) scale(1, -1);
        }

        .block6004,
        .block6005 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0AgMAAAC4FvN4AAAADFBMVEUAAACX2RAblwYAAADKzb8cAAAAAXRSTlMAQObYZgAAAB1JREFUKM9jGGTg6tKwqFXLwpF5K6ePyg0ZucECAKHlflHyLJiLAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
        }

        .block6005 {
            transform: rotate(90deg);
        }



        .player0 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAKlBMVEUAAABPQi/n3c7cxqTRsH3////T0uDrlOvt7fKojWXgwjCukSW6dbqZjXy7XoXlAAAAAXRSTlMAQObYZgAAA/ZJREFUWMPtmL/KFDEUxee+wb2TKPinmRsXRaskA9aZGbRWWMFyVURLtfABBLG1ULC1tLS1Eixt9IlMFpwke8nKaiffhSnOnN85+80OX7KkO5u/H0zXCQDYdAm/DegrmC7hNwH1HLv+BQq/BcDt54Gml0H4LQBuOu/dTSv8FqAdpxlR+A1AMTEPvUHhNwDF55g3Wde+BEDxF+Ybnw0Jvwl8Yr7+sVUgAe14e+4uj7KgAcC8uf90a0LLr4E0dOvNm9cBhS+AlaA00m8Cyjx+/NCIgiYAbtpu7062XbC4CPAK6LGPWo+4FnDUYygCCZiGNRCSpmUN8JQKyodOQL8GANVma5DeroF9AXZ5EkBY6GWZ6cLbtXDvU1cBy4UyYMlf+JBv6Fhw4UOR6AcKsa8KlI0QiCk15ABUf6IOsJS6I2AEKhu7agA7Orjj8QD401B3Nv++P9BJAAQYUfptABYyQfjHgG/heSakL4Hv6qUh4bcB7fgmjyj8FgCO01jhtwBipqivoPAbwDnmO1EbFH4DuMRpff9hZEEDuMj86UiBBPRuyxG4IgsaALx/dzc/pPAl0NGTV94H6Qsg34iD0m8C3fknbKQvAMx6y5M98EMV2A6MYAtt4mIO60OkAoNVoDcyoNbvOerA1UfeYYtQbDEPvLJ1wLoyADuvSReBZQ5Eec+iB35U1Wq90KIXzIHgw+LLAj8SdpQ1xRvUVQGqtqRYEIqPXFCN1ddGSyXBeyRfIJQy9epeSUh5Ijy6/h/mz+bfB7DDkwBtIUi/DcA86CD9NqDds+Wr8NsAqKsvLn8VvgSyf9XxiNKXgFzepS8BHcXQ84DCbwAq6bu8QeE3ADX8jL/++YYsOAJc/8jXZUED0BHgzZ1HskAC+SG3799KvwF0NHv/Zid9AdTLu/QlkJ/q2uNjPsw1AG7a3MsaRYHiCNCKd8CqCIDt+iHqsnCYN/f0+i2iCCg+VwesrwNeuV22Q0duyIGEaO92lP+7iOalXOtJK1sUYEfajwUwj2G2odw9dNALFoVLmH39FqoAxEKrQ7G7WFTeHizvWEmPOhSFmIhjy3ukAU/ZAOBse/hPz5cYu96g8FsATBwoXsJvAeDYe8dW+hKQx0PSl4Di/RgUvgCO61YAfmsSfgtwe+1lQQPQfu+PsqABwOzTBOkLYP1N6f0YUPgCEMdDwm+eLzGbY+dLVAPgJmaebLtA9RFwQz5fSro4X2IX9RxyoE+AYlzXuaTz+VJv9gXFQ+8DtAYIFbNBWu1h7yc7L+AJKHac3s7Zh31BvSn6YcasiAz5EsgFeUcoNxDPFqoATMFVgX6Ag9cCCxayv5Kf8M/nS9qxoVPOlyC95d8FvwDcekTOQ8AgsgAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .player1 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAIVBMVEUAAACSkpxPQi+BgYpsbHPrlOtDnAApXgD///+6dbpISE1Q4rKTAAAAAXRSTlMAQObYZgAAA35JREFUWMPtmD2u1DAUhSPv4CbDj6ica4uf0nZYQG5MQweIBdDQU1HDEhANJYiFYk8x8c2RBw1QoWcpxcn5znnjJyWeucPd+vNl63UDYGK9wO8D/mTrBX4XcK/sML+x4PcA8+KV8PpWwO8B5nlIKTyP4PcAH6iuxYLfARwx0ThPFvwO4Ogp0cOiwe8CH4kefOgWIEDvie6/6xUgUD/zrPakfATMRo9e0iTod4CBc0qLoA/AheC60O8Cbsp5m6CgC5iwEtEa+wU5UFkXwC9zkX7/J5ztRZpABdbxEpCqOV8CtNaCdtMVmC8BYx3R5Pmi6VzQPnIVaG+48pn9rvns86CArAoip9b3taAl5pFlOATUQy9Mh4CxbcCLyeoGG2JWjYNaJc6HO8kegN8tHu7W358PfBNgxCwW/T5gMk8C/jXgq7zaCfQR+ObeTgx+H/CBntNiwQdAPfQUwe8BTMRFnyz4HeAp0eeiJwt+B3hC9HHX4CPwmOj9lQIEfKS6TljQAczP7/sm0Udg4C2lJOgDsN8oy6LfBQa/0YT+FcCfjwftiwrQSKz0NI97g6kFh8Z58vYQiLssWkj9yZFiGzBrclEHYmgDRpJXgbyJk13ymhbHDeAzZxWQJFkVpIVdbDSXG4MOsDowksgmTcC6RVqAs5ImJd4W2/g1M6iEkqbkmW94/9f83fr7ZexgbwJ8NIJ+HzDb6AX9PuDD6/wF/D5g3L03z76Aj8Du3wu0WPQRwNc7+gj4IsaZRgt+B3BVf6KHFnwAdv3gAz3AgivA/Xd0Hws6gKe6xgULAGg3+fMH+gDA6x38f3U+OJryNd9sGjBhpRMUKF0AbgrJqYCZR63DuNHJ75uMh4B3NOtATDqQXFCPB4exDbDzKQg3W+Itq4B3sdEmsU+LAmSLOiA+26ZQZNM/F1gHjE/RS1OQxKV4eL1bJZNtA4ZtIa693gtt7C0HgLk7Hv7T+RLZYZ4s+D3ArCRcLvB7gAmUUqCIPgI4HkIfAUfn1ZkvAdDX/zAQzjphoAP4dPYXLOgAZkt1CfoAwHgI/H82XyKaJigAAOZL3YKNCxDG7nyJQtHtN2mhQjiynfnSPM3H+VKYC0CXxvN4yPI+uTnOl8wmLVCJuNlBD6j0V7zUAoM7TZzaQncu0MeqOg+SmKSmSauERuN8idlk9Qgv+w778yW1xxvnS3wp+AVptg9Fs4G1DwAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .player2 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACACAMAAADDApyIAAAANlBMVEUAAABPQi/iqSP////KiBXIlSKfeiCyeBTT0uDo5++OYhPrlOtLzv81kLhQQi26dbqEhIyLZCJp7vmyAAAAAXRSTlMAQObYZgAABLFJREFUaN7tmouu0zAQRJmtd/0Ilwv//7PsxgkVWjurWCoPqVORgMZzPLcVsEnz5a23/qxwnl8EAOM8R/klAIQE5znKrwDAG+0+bYyFfASAbJsmofltE4T5GODzTJn1RewIYT4GQJiIkr30zIIofxeAnIi+ER3HjDB/F8BqPMj00AUcF7gHgAE+PtQkPRkAUX4B8PUrPR4PPS0UiAFNCWpDF2i+xQUigP8Uq6a/l+96rHIvHwM6o5RqKsXSUT4EeOGpL2F+BZCpFlOlHBYIAIyhLY8uGe4Avi6AInwAUmJ4mxsOH40LPD+lw2cx2xPKCRBljOzTB4onwHJd3XbCE2AbeFvfpd3O+js0+A2eBab/J+4+A5j4UkoR80XgGzzzM0DeAQ0y8zNghyYNI7/t+QxpguECSgAKjrT3K1vNOm9YACQCJhX2936a7h90P8wEdIhRhg3rPNvz58Erhrjsmgzy1lt/T7BfeB0AAvv3DlF+GQARgFgQ5ZcBnyLYbEGUXwV8foI3XQBE+SUAGidKvO1jVZRfACCT2tTFiPK3Afh2TOaUTA1RfghIcwAefTIfE+ICMeCjT+YG+IGU4wJ3AV/7ZL5YIAb0uYwsb4AWFwgAfoFN5qaVfAzo43ntEqgd5WOAl5vOg3wM8G9D1YZZ/SgfAzD03dXBMC/dnwBApD4yJn5FonEDnAUSTxsYPxkbPN9AF/kG5nZfQLpotoGmGZZvGC+otc+G4NkGjNo3GAIsLef87/1WCgtM7BsAVoBzw5TfpADSjuHbC4KseWmcBUO/MLNgMiSjqMWavZr/mQswX8C9gDx/Rjf+Z7bTREBR92p0Z1YGOHMTDOLnNnMBF+6v7WF6xXyP98XBW/+AADu8DgBh6AGLeQ/wNgEiWMx7gLc3tT/jAksAQO2NbUoP8ysAtJxo20f0hii/ANB0V9JXRpS/DUBLJjru4X9DnI8BPm92n9Mxz6dRPgbkhB8G6PfwP+ICq4B+D/9rXOAuoBnACGqjlLhADPAE8/o9/Nt5D3ACpHYVODvKx4B4PI/z8fVB1obVfvzFvDjA8BuEoY+4ADidAIzzlFAnGyDDFhBO30uzBOmAglFew/MNGLYqEa42qODJBj2/XxuM82i2AKwdJhtYHi2zAQCfZ5iES2mY3YyCWIcRfyfueeYiY8A+L7ec0X1fQZr+Aoq0ST/pAL76O1CYUeYLJKsP8SsUzkrGFzDXiuvxHBcuZ9gJ436/EIvj+YkGggn//dXBW/+z3s8XBQAw0e4TMeJ8DPB5ogag6VkQ5e8DkBMdj/dQygjzASB+vijIrzxflBIdr+QIYT4GMD0BSogL3ANAAWZ01wCI8rcBTH2Fnfh2gRjQMtMpzi0uEAL84KJiZjvJvXwM6AwRNom4dJCPAfHjPXE+BuSUk0nPCwXMvwQgk1CXUMZlAcaQn3EAmNL4+aLUNX6+KBGfBXg8ANMJsMd8RvedzwKwP/jHVvKZP2xf4QkYbADYm2DKGIxwFnnmMbtbBUwAOL4WIYbwMP5bgbFgI3YywGx3UAbyBOAKTK8BMNudkmZRLwCSGnKa+/bWBxfR+6c9cymJ+/zWny/y34ZTBl71fBG6POQn8Qc3zq483X0AAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .player3 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACACAMAAADDApyIAAAANlBMVEUAAABPQi/h39J7b3NaUVRsYmXT0L3Hw6vrlOs4SD////+6dbo7NzjSkZtHtJKWjn42im29XGtZxiBxAAAAAXRSTlMAQObYZgAABDNJREFUaN7tmo1u2zAMhHcmKXrr1m3v/7IzKbvpIMkHCeh+gBwQu+jpPtIJ6jCpPj311J8VrvMHAWC4ziy/BICK4jqz/AoAtkv6shtofh4A3fcjiSO/7wqa54A2b1sJbdYQaJ4DoLZtUrVtpmD5WQDSfiwAzc8CyiafP4cZp63wBuYACP/Hl/S//AwfLL8AeH1N/9u3hQY4wEuayGNx3sAEIFUXfNWvaU/mOaAy1EKaaZangFZ46BPNrwDKVjx0nGkDBGDo2Lb5VuWDBfcNQLVsp6R7q1Ccdv7c8uWKFw27JbwBVAQ9+/KBDgEievppt8IDEAVaO57EUMEnQNEWuPKjF+EBAPq+ecjQvwQ88kOABkChI9+AOOjgOVAPVb+7QARAw28KjDtUICGDFvK5H6Uzr6iHkYAKCcqgw093ylQTJZAGMK0W8tRTf0+IBz4OAEXcrsDyywCoAmIKll8GvKhijwUsvwp4eYHtxwKA5ZcA8Hg/sV3EHCy/AIDVuTkPBSw/DYBUbVUOlp8F4PM1macKaH4W8KVO5uF/R+PTPAe81sl8tQEOUIWEKsB5AxOAFHIyX8pzQApQsxKK8ZzmOaAVmc5JngDSdy+1PZrnAHT97ZCL4T7v4w7fRmsYBn6BSL8DnA1sNx0k32iB7gJo9T0RowJpIlf3F5QCs9sCBXZzCZF2ADoo4G6KkLULgGygOIZ8dU+2Xvy2SbOwzQYNHE5xDIbkQMMiezP/pz1eYLUBfVxjM/6bxWkgNBfX8O1gwPoU4CozFnDjvpVH6CPmezw/HDz1DwiIw8cBoIbjAJangLEtgCpongHG9n7YL7yBJQBw2LvFlE7zKwC4iezWfVfneQ5AOUdzOWRg+WkAfKuSKrA8B7T5tD/XOR00zwCtj+/h/6hzOm9gFfBa53TewCzAT0AIqrwBChgR8jv82TwH5OhZQmaKsEmeA/h4zvMc0DZZ3MNfyvs9ACZ1PkfPjAfNbycA/bwISvq9MOqC9Ed8gVeAos3zAhVxV8BQbgtYLOjnM4JaYfwUwUsCgDZvCKm5DwoocH28GH7pDS9mOgAcjsYRitHcm1XcddCfVoDd/Q1kgfGCjEN7Fap1Dvj34zlu3Aj37xOhN8TieH6hATLhP/918NT/rOf+IgKAiaQvYuB5DmjzciRxnnmeA9q8WCklz6D5WQA0fr+Fwlew/CwAJe1rQQHNzwLK9l6FNzAHQOOD5acB5b093QAHeCnvbOcNUEA7uT7kk3kOqAyvZqZZngDY9h6SX95ftIWW9xfhBCzvL7pvADCcgCKysL9IpFwNhN0IkAuQ90W2v6jlG8j+InkAOgV+31/UuwCQ/UV1xh4AYMiDGNz68fcN9JXTtwRgVD34w80xpIEQUopR9bzPnwXG77omY18Oj3yIzld75Ipo8/qt7y9q327EgI/aX4SqFvILhGIugf1wDVEAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .player4 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAMFBMVEUAAABPQi/////iqSPo5+91dXXT0uDIlSJjY2NZWVmfeiDrlOuEhIy6dbqlnpSXdCl/2SZyAAAAAXRSTlMAQObYZgAABFdJREFUWMPtmL+qE0EUxue8wTnJ3o0JWOy4aGOjo1y0Sxy2l+vCFauNy1Y2QUW9VkGCilVA8V8VLEQ7EVGw0sJ3sLDQNxBfwJkU88fDeLkq2NxzSXHm+31fNrtk5uaI/frzQvvaAwBz85oxPQ0Mz6MYnUamJ4EDb1D03yLTUwA8fbOkZ+9XTE8BcG9x59rlmzOmp4Dhot5SSu0g0xPAgbpWpjaR6QlgYJpDrmc6AyBTdFwe658gpieATMqe+St5QALIJ3ZBVjwgAUArj16SZZPSY8AWdVpXDTKdAY4gW1xPAlnZdW3JApIATKZSyuk4HdBNpCkH5FXPtHnl7sparprAYIFp4QyN7alzBjm1AeGHtkDPGQAzKUuklTOsA1D4sgBh0JtrptHKBa51EhHQDUPDmPTwsV/ITcDoceDoFdSsRGwIE6EhScOXGBggusS8gS7sBYFEoDBRRAUo6JcVjb8AuxWJ/fr784H2BMASdpDraQAe0+aK6b8DPi9fe4LrHPgyeL9JTE8Dw1vqprqBTE8BcEuZOjlnegoYqXV/HpmeAAbH1wvbyPQEMJCHSKnvJ3hAAiBZSFMlD0gA+di2Xw/zgAQAnz76rZPrHBDUaq0brjPAL5hCricBkbey5DoD0PfuePB6ExlkIRFmQV+azRzch7ABJUaGXskNA3efTd/I6C0LOUZYuh6mOhvHhvEkNECjcxoFhq5tiO66B0NTXWXRJXXUmd08DGieXAsDdEUoyPdkFkhEBoqOJBOwoh10Bsyq6LZRF7WgNdK1u0uvW4+IHFEL1k+Eu+z/sX+//r4ABe4JGM5hxfU0AI/OjlZcTwPDxauXr5ieBuDAhXcHXzGdA16/sKh3kOkpAK7Wdb2lZkxPASNleqVOI9MTwEDZOr6JTE8A2bEf6lhfHuEBCSCTpgpZ8IAEkBff7EIVBhw65nQPxP86f/rAdQaw7Z3p/+p8yGTZ/U6H1gHuB8Rh3yMLyKQByOECZBYYYCZ6henDwKKVh3P3nJAZMtmLDWMdG3Q2aby8FDQpQoPIcj1pyH+7iNouMDyhPBsHPQrKdRUsPNxZtgEgRi/yJu/QtTN6uWx1/BQiA5jAcd649vHtGWZ6/Mv2jlGr0Rh8IFrid9u7oQH3cgDA/vHwX+ZLM/OaMz0J2NGQHRExPQkMFIqNbWR6CoBnakUP6iXTUwBc3bp2Z1HPmZ4CRmY8dLKu7yLTE8DA7u4n621kOgN87+ZJTOcADE7WW7YnpieA7LLp6voKD0gAuVbmCs5VPCABQKttNVznAB8Pef2fzpeOmJv4u/kSxQBMLqp6azpOBwz6BpgUfr60oZQK5kvyjNHbxhv6Fsgkun1uw9x3P1/qlVYP50sba8AZCA+oehvJT27WupX9iWCB4MTZmN/3OqwDoq/o8+tnDeA6om3SIeAD/InQBG94R80gMsBiOYkMvQJ+eSzQYdD2T/lPuPt8aXS13qTd50vxG7rfFz8BnMWyuzil1ywAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .player5 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAIVBMVEUAAADDlj5PQi+8iS6xeyTrlOvBZf+bKuv///+6dbpaPxTEYXkaAAAAAXRSTlMAQObYZgAAA35JREFUWMPtmD2u1DAUhSPv4CbDj6ica4uf0nZYQG5MQweIBdDQU1HDEhANJYiFYk8x8c2RBw1QoWcpxcn5znnjJyWeucPd+vNl63UDYGK9wO8D/mTrBX4XcK/sML+x4PcA8+KV8PpWwO8B5nlIKTyP4PcAH6iuxYLfARwx0ThPFvwO4Ogp0cOiwe8CH4kefOgWIEDvie6/6xUgUD/zrPakfATMRo9e0iTod4CBc0qLoA/AheC60O8Cbsp5m6CgC5iwEtEa+wU5UFkXwC9zkX7/J5ztRZpABdbxEpCqOV8CtNaCdtMVmC8BYx3R5Pmi6VzQPnIVaG+48pn9rvns86CArAoip9b3taAl5pFlOATUQy9Mh4CxbcCLyeoGG2JWjYNaJc6HO8kegN8tHu7W358PfBNgxCwW/T5gMk8C/jXgq7zaCfQR+ObeTgx+H/CBntNiwQdAPfQUwe8BTMRFnyz4HeAp0eeiJwt+B3hC9HHX4CPwmOj9lQIEfKS6TljQAczP7/sm0Udg4C2lJOgDsN8oy6LfBQa/0YT+FcCfjwftiwrQSKz0NI97g6kFh8Z58vYQiLssWkj9yZFiGzBrclEHYmgDRpJXgbyJk13ymhbHDeAzZxWQJFkVpIVdbDSXG4MOsDowksgmTcC6RVqAs5ImJd4W2/g1M6iEkqbkmW94/9f83fr7ZexgbwJ8NIJ+HzDb6AX9PuDD6/wF/D5g3L03z76Aj8Du3wu0WPQRwNc7+gj4IsaZRgt+B3BVf6KHFnwAdv3gAz3AgivA/Xd0Hws6gKe6xgULAGg3+fMH+gDA6x38f3U+OJryNd9sGjBhpRMUKF0AbgrJqYCZR63DuNHJ75uMh4B3NOtATDqQXFCPB4exDbDzKQg3W+Itq4B3sdEmsU+LAmSLOiA+26ZQZNM/F1gHjE/RS1OQxKV4eL1bJZNtA4ZtIa693gtt7C0HgLk7Hv7T+RLZYZ4s+D3ArCRcLvB7gAmUUqCIPgI4HkIfAUfn1ZkvAdDX/zAQzjphoAP4dPYXLOgAZkt1CfoAwHgI/H82XyKaJigAAOZL3YKNCxDG7nyJQtHtN2mhQjiynfnSPM3H+VKYC0CXxvN4yPI+uTnOl8wmLVCJuNlBD6j0V7zUAoM7TZzaQncu0MeqOg+SmKSmSauERuN8idlk9Qgv+w778yW1xxvnS3wp+AVptg9Fs4G1DwAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .player6 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAJ1BMVEUAAABPQi/////o5+/T0uDDlj68iS6xeyTrlOtUzP87j7O6dbqEhIxmQDanAAAAAXRSTlMAQObYZgAAA+hJREFUWMPtmL2u1DAQRu038MSGFVBlsiBANI4DovUmIAoaFhnqFb9thIAaEIiajpaSDomOCsSDYVPE9o5m0QISDSNtMTlnvntzpbtORvyv3y+VPkcI0sbPjnBeMGslVncV4aygXypx4o0inBPkjZcenr6dCecEebV37sHjHeGcYHpEPBseKcIZQSMgtiduq5KHzImgsYlG09EAVviIePFDRwNY4T3ihXdcABVMjylzoAGMIEe8dBM7TzkjCJicGzzlRFgMSEU5K+humsaOBLCC7DeIuLF8wNRjrEUwQxNbk/8IP/Hgi4EkbNplwKcepmUANymgvOkkNMuAVBqxM7D0mDiU/3JJKC/o+Dub3MNPDqISpirAgiu5SQGl0bTgxd5AGSA94N6ALLkwXiacCyQCVImiqjgOe1ec2hN+VSD+15+fD3CUIL18pCjnBTnBnZnwQ8Jn/zoblFPhy8m3d4BwXjCXw+MQDcIZQfYYYu0I5wRAhNivFeGM0CC2iNgpwhnhNOLH3BNOhVOI7w8EUMFYTLWmAYwgv39LvaWcEQSMzjlPORHyhViKclYQZsSO8gOCWY6HzL2ohBah6rumzQkyBewlNp1RewM2t7H3WP3IFm05IDdO23rA9uWA9M5UA9PoT/rcwsYNGgrBTDCtVBXgn1cBbgBtix7iBVEPlL3Qzs+jLwaUHnwpwFS10jl4dl8VPM2IaqJqZZwHOOL7P83/rz8vqYQ6SjBWzpTzghzb1Uw5L5j+xfNPhPOC1OdfnflEOBUyP9+ffaQIJ0L1UBh2hHOCiV3b4C1FOCPo1MePqvjZyBnhJKanf7xIAxjh5DY9/eMFGsAIq9jHzIEGEKG8ye9fKScCcz5k/tfOB43ddIjLsRbSC8SaBFR9FKAIRF0NyKat+74dcW3yTdq9AaOxqQesqwec7r0oBqBvywHQxvUecsB1GKdqwGhb9NKBcUMprObRVr3x5cuAHP081q8LUA9I46wpLpiHs3Z27+tdVa1T5YAEFY1DX+/RluqYA0D+Px7+yX5pFz+WcF5IqyGzVoSzwsmgRNMpwjlBPg0zbNATzgnyQXh4r0dLOCesHoSwRRwU4YygQwj5WZtwKuizkeeecCpgrLBlA6jQpw1YcDSAEYyLPNwZaAAjyNG5Kw/vecqpQNdDmf/V/dK5EG53JIAVZH8tBNxYPmCEKPRtsV8K23K/hJcjL5+kPZ7YokbF7Jea7mdAedN9NACXRNAYbivIm5v9/ZIc50JIxondE5Wx+hkgilo9LAWh13fAlYF6CcjHanUeuFm6apv0dO5jz++XAKrXA42PAHPP7pfKM+rI/RIsAT8A4nRNJ+bQJBYAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .player7 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAMFBMVEUAAABPQi+tmnN5a1D///+fjm2IfGJvY0zT0uDo5+9fV0TrlOtDnAApXgC6dbqEhIyyeupsAAAAAXRSTlMAQObYZgAABGtJREFUWMPtmL+LE0EUx3f+g3lrdjdZVMhsoohauFECdjlGVBBko4m/qonGnGeVCzFw3YIne5UETnDLWKitB1Z21lb2FjaWgmBh6azgzsw9JhLt5AZSvP183jeZ+zFDnnOw/n7R4rWCQJLihbhd8I/R4oW4VfD2qOO+pYjbBPJwT8DgnUDcJpA73el0806CuE3wuyyOY9aniFuEIAYW1902RdwieKzCWMNt4gCr8Imtnf5oDcAC+9Dgp97bArAQThivrEVbOMAikAf86lN+WWBuERzI8vx5ijkSSgOKhblVCE5k2c5xHGAKak9k8x7nfDAuubc/4Ml1KbTKX331dkXW4U36m187K+t+qhqyQrjXKRvSooasbODFO1ZTbVOFUCkbCA04v+hDWfOCg/4v53F+AahWr2fDUNVQcHPX69kG1esxzHQermcj/6VmuGcgdbRVS+CWHkBSiI2GSofoXG6bZMYDIBxAT5w7xpLtsO9JTvcJf1rgHKx/vx9gJYEI0qeY2wVyH5oC8WXCF7GnDMyx8NV71wTE7UJ4Lbqjzi3EkUA245gxliBuEyBiwFqt8xTxUogMocJYRwpNigIswpEG+ySFNg6wCIf52oclAViozjmL1EdAHAnkx3fO1SYRR4IDO3meC8yRoB7IRTG3Ck51hx/HHAuqLq8HxYVjCB0GRn35UF0lkCLgnJnotn1qNFQ6iSplLRpzvaHDk1BrII/z2nxsNCS7egNJc9/XG15vC0+oEh4/26oB1c9/2DDeQcwWG3q93uuDl2i3IvQegfGOvVSvHW+2WIyE4hkNbqa6AJlRkrwHo9tU40WPebobJZH9AKuc/7L/YP37ItShKwl+QgTmdoEM677A3C743Tf3PyNuF4h38u3Rz4jbhXBy8lp0myJuE0iXMRbHY8RtQthqxXU3qlPELYIneX2NNajODymOhEAKpz82TuOAJcKp9/wKDkBC+RFarNF5jgOQUG6ywfmPb5hbBAceyOM9xRwJ6HhH3CI4QeNytoyTUSmUXyAuLQvwYimAFhjVjAbi1s16t/6AX6qqTSbcbPCDuGI2zG8ZDeO8tpvqf5xwvaM3QC2c7qagAoYwzBZag+/X5loA6YHfuyn0RPFqbNShqGrXBRmJxaup8VOD7STVa3+a+KkWcEN4t+b7jndqlDdoNdUDqTSWHe/SJnSVC4AcXA//6XyJUcdtUsRtAhmwBbxgAnGbQCZMjoeiMeZYwOMhzLEQtGK5Wrb5EhY89kto4gCrIB+wyBqAha58EMU9HGARwimTq7mFAywCGc2mvdlMYG4RHLjf6/UF5khA4yHELULQbrXabXuA45kC2RwwxgZjM+CcFrANUuieUfOlQ/Ia1OZLcVfyYaoaUiaNgNPynHOloOZLlYtFgDFfmkgDeJkIQfE1D9Tk5leAvunhQhcct+4mQ6owLQJkrZ/fuuAE54/DTA/0ygB1rRr3wQ1BnmmCW7+7mGg1ni8BkEx/x/iR2qF9vmTsccX5EpQBPwG0frWn2k6aBQAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .player8 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAHlBMVEUAAACSkpxPQi+BgYr///9sbHPT0uDo5+/rlOu6dboki/teAAAAAXRSTlMAQObYZgAAA75JREFUWMPtmEGP0zAQhS3/A6dFcHTGdSuOsUnhSteCcx3Kcs5C9l5W5Lxw4YzEgX+L3UPG7shBZSUOaEfKYfK+95rsquPdYY/19yXjdQHATbyIXgb0ExkvohcBdS9Z/U0SvQTwD/ce9t890UsAf9VY27wyRC8BuhGxWkn0AqDEqRaS6hSY74sAiNdVPWOgwNLNBCCAz+xWr0VLAwoAv3ZXN+6tp3oBYDCM45ee6gSYCIhF9SKgng7D7YIEFAHevHPO7U054NOLAIgJWLer0OutnAKWoW97NAwReLebDH3sYZgMLn7iGg0MIrCaDFwq5640TL2LOkiGFYH0hno/dBp7OOnAMuCQBRiwqa5jQErUFfQsqY2Bl9mXvgeRGVY7furwtfmQ3QDuANLEI8sq2OHszijPgD8VsMd6+PkAFwHc81ZSvQzwAyw80eeAn/4eCapT4Jf6vgCqUwAn1yuBBOoFgDciliF6CajFqZ7IYgACqWEhiV6Y/7AUgD3RKVC717MBTJ0B66PDR6A6Bfg2jE58SaITgMHtOI6e6gTAG6Ek1YsAW9+6BdUpgP10PKDuWQbsBGT927rCBB4DzhLrhZaZYbUz2IbeL4+pYedMauAfx80xN5i71MD7UWeG9zdeeWzh4+d2AzKd/3DIDN76QxZgW1AG+08QbmSfaPu0Z8p633nUB6m2fQrAkLV8tNC1MtGjJ5/uWcuDH+CC+R/9j/Xw4pLJiwBtuKd6GeBdpT3Vy4Buvh5+EL0McPXs2/MfRKcA6s8a0UqqU4COd6pTQF96PqhLz4fYV/WyogGzgLuiARTAR1juvpQCEMCXXDq3NVQvAAyuw3jvqU4AMt6JXgCYWr4d5nTe5UD8B+LNXIASAQDsQWwyA6+rvL+rrt2bNb6kcblBK7HKDceXuWHc3KWzVcOLXWqAjbZ3PSSvBN3gU4PeHJMAbkHbbQb4zuQGvz7IJND7zmY/Nbgxfdpra3RyQ1uvXh7PxrvMWivXfRooAzE33gPN5SUHAH88Hv7T/ZKQDPceRCcA3wsP4SI6AXAOWdsIQ3UK0PUQ6v9yv/RwQ3PqLTUUAG1PeksDCgDvbCxP9QLA4GBt66lOALIeInoBUIvwBHS/VAR4sxdC7E054AYC0FS4X6pDn+yXRBP6rkdDLwKhnJzmXDTgfml1Fftsv9TUAZgMHFT8NQFubk4BUcb5nQKsrmrTSZRlDMj/xLMpwNSTBdg0UE0BeKxm54H1/HO2ftr7JunpfgmAD9lXuMU3nN0v4TteuF+CKeA3TT5BMlp+tZUAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .player9 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACACAMAAADDApyIAAAANlBMVEUAAABPQi++vr6FhYWwsLCcnJx7e3ttbW3////T0uDrlOvo5++6dbqEhIyAgP9CQv/ZtACphQBdALfYAAAAAXRSTlMAQObYZgAABINJREFUaN7sl1uO4zAMBF0tUnI87/tfdi05QT7WNGEDs/uTDiYeoFMlIvMwM73yyr8Nj+svCTAe14y/JMDlPK4Zf0WALRq9FiPlzwvwZVEDmpbFyfhUsMebqq0Prd+R8mcFuEkq4yGZk/FnBVQJRg9SJeXPCmoRszo+o1JJ+bMCk35+1PP1JRkpf0Hw/T36z88LA+SCVkvRPDPPKqU2Uv6kYMJtrT9uH/Ms81N8LhgBv7313BymlM8EO+GZKeWvCGqxW4+VSsZfEFDViub+FjdVzg+Ae70Lyo4At4ZKj2j7f6nlzld3dg94CFxir6aop8COAcnv/Kj/Dk+BxE49UYeg4uz00oOPfghPAez35j1GNOCTJzhgCNraBn2F8RT0bfC1X9l9gQqwdkEwA8ziFzhQdHCA6O91zDvbUxQYEiCccDrK4AI4lwRsnFjyyiv/L/Qvfk+AM2FOxl8W4A4yJ+MvC97dWWROxl8VvL9jyyKDjL8koFlRsUWlNjL+goCqtdYWI+NPC+CxmW97ARl/VsDc6ZleD0PKnxX8bJt5MGLK54LvbTO/OkAu8LexmW+1nJQ/KZjYNvOes3wuGIF1O7cehynlM8Feou0853PBCLfbm0pfzjP+quDW32RX5Zj3QwFSvHuWIqMEL2AboKnYgQCVSjACLqkiYey12wCOZKFglLR4gloxiw4YA1RMFgo63Q4OcDeH4N8lY4C1NCDiwRvxPYvOt7j37bcUM3br3lTn4K678fFqPQagmROt/9XcYwHe29i/Btyiex6PY+LAQXs/HuCX9nteHw7+tGsGu24CMRTV8dieJq+L9v9/thkPNJXAsRgpUp8UK7Ax93BFNhfjT/0HBeP0PgCmPE5U+lUApgJmlPoKkLfvmP2sDSwB4NG+60jppX4FQPcm94jonUq/AEAlKkK6U+kvA5gTv32GD6W+Bhz1re0z/B+U+gqQGfw9c3ptYBXwa+b02sBVgElcMGf4X1YbKAGZxZjhX9LXgCgwHfWY3xPtQl8Ainhe6gtAPnqWr9st+it6ew3AxcYjvi0aQJv0AGTxXxoqrfUMgAi5AVQEmwDjrD/0LiJGmoybkBpARfEAZDdQxb3l2Z4wmRgAlO4BgFO9g6lZfoP99SKf3Jtqnq2xPhyQ9+kGiQNMOwHIZ+fTAUbaN1cFs+QJqDED/ut4zouuOmn+B9gQi/F8R0OR8D+fDj71neuzX1QAUJHoiygL+gpAb7Kt90jr1PoacNRv6z1BKPU14Jj+W5N58k6lvwrg0Zbnzyn1VwHbflIwwmKlXwCMXhwLBmqA6z999drAVYCp/u2rWm2gBBwvcFePQ+2SvgZEQe8+qneiXegrQL3ek+uX94u8jfLV/SLNAfvbwSwT56UBTcIjTIBKS/aLopL9oia6G0gGy4gwAS7C6X7RrLP4iYgjUfl+kQobQIRj+7necxLhhuRpIB23GBlgRzim2eD7aSApunoAslegLg6eAUBzA1FE5fnf3ci3bxDBWsdb9Jf2i4B8/I9KU9v/v3fsF9G989b9Ik4M/AGuZS+xUJyKuQAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .playerA {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAIVBMVEUAAABPQi91c26ujUulfzxnZWGYcTBWVVHrlOu6dbpISE2phnZSAAAAAXRSTlMAQObYZgAABBpJREFUWMPtmD2v0zAUhuN/4JPmQ4yxW0BsjW9hThvaOW0DrL606RwoH2IDCYmVCTHCwt/E7hDb93AKhQ1dX2Vwnue8SSrZ1j3R7fj7we11gcAaeyFOC/k9bi/ESSH9wKP4I0ecEtjbDz28+NQjTgns2aauF88axCkhXygppVpxxAkhKYX9u+KIE0IiTmOMA0gBhCjiXwTQQixiMgAL2dzeEEscQAhsVz54J6405oQQQVfXS405EgYD7MCcFJJx1+3GKIAU2OZaqfJ5Qwcc5kYoByFbjaSSufsR1qXhK+0KOiu8nA4FOjYCdEOBeml45n+0FUZDAeOJKMc5DHNlOfhLzgr+jbTr9pmbw4lDFAiHIKCBrc9zE5D7xqgAHfkFFdTBotcgw4Ip87n5bNYFN4ApgCAxCoYphxt3an5D+N2A6Hb8+/kAFwmsZ0855rTA3sCkR/yc8KX/4AzMsfA1/TQBxGkhW6hnwhiIEwKb20WvGsQpIRNSSaXuccQJIRFCCVXOOMGd4OZghDEOIAQQBRFACHkjhHsFxLHAfnw307LBnBAi2NX14x5zJLgbZnDMSSHKdmqC+RkhM8dDdYPrKBCmKthL1TguXAKzATMeCPE4537AbDRt3NQEaBk8cqqqzCtg19ukqhw2Ac2iCpZUneV+wetdn/ZuCtfbZQKekHdwCJ6gW/06CHj8FNLGzTton0BwHtQ6WPZpq/uj9gp4stS+AF0wZXUN+xX3uK0Jd/dgykw9wAX7v62/Hf8+GI/4RULesB5zWmCvirzHnBby9fs3nxGnBZbe/3jnM+JYcPz+Ri054pTANnZ7LyvEKSGXSkkl7nLECSEtVSlLMeaIE0JihCK2c8xpYSoKHIAE9wpCFE9xACGwtTI3fnzDnBAieFXXtcYcCWh7R5wQolRedec424cCW1yrh+cCUmUE8AJFIh/5AaNpEMAWxU4+ytxHNioNhDwRoyBgUbXqoVdQ1cla+8cHLKZ+ACRZvdbgLRc4dsF6ypLKm7MW8nbpC1m/b4In5Do7cFew6/t9G/xqsKu0P8/aJvNu5I91Ulc3tnceTGvuFzDgxji3vRub8UsOAHZ7PPyn/SXBo3jCEacE9kL0YC7EKYGtxbZeiwZxSsjmp+19yREnhERJpZS84ogTQiJPDagxDqCEshRClGQAFjZSCCm3OIAQsseiLMvJEgcQAjtu7egxJ4QIDm37VGOOBNQeQpwQkolSM9xfIgW2eS6EfN7QAa/ACPPC9Zdst8frL4mF4fveFWgxUmWq+LDP2X6T6y+NZjYg6C9tRkZQQyKk5hU4uM7NKYD7Z5z2hSgu4ubIHeY2IPynaesLUfroClo/MBkC3LEanAfbPuj2xMVLvTZzur8EwDr/ieXKfuGf95fYsb+wvwRDwE8sa2KPo4R1RwAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .playerB {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAHlBMVEUAAAD///9PQi/o5+/T0uDrlOtUzP87j7O6dbqEhIxQmVPkAAAAAXRSTlMAQObYZgAAA3VJREFUWMPtmLGu1TAQRCP/wSYXEJ2ztoDWdviArE1BCYgPoKGnokcUtCA+GCfFjTcjX3SBCr2VUkzmzECelPi9HR7mz8du1x2AidsFfh/wF7td4HcB98YO8zsLfg8wr94Ir+8F/B5gXoaUwssIfg/wgbZZLPgdwBETjfNkwe8AjubqVw1+F/hM9ORTtwAB+kj0+EOvAAEfaOtcsKADmExPX9Mk6HeAgUtKi6APwJXgbdDvAm4qJU9Q0AVMWIlojf2CEqjOFfDLXKU/fgi7vUgT2IB1vAZk01yuAVq3gvahN2C+Box1RJPnq6a9oH3lNqC94UrJ/tC8+zwooKiCyKn1/VbQEvPIMpwC6qUXplPA2DbgxRR1gw0xq8ZBTY3z6U6yJ+B3w8PD/P35wHcBRsxi0e8DpvAk4N8Cvsqbg0AfgW/u/cTg9wEf6CUtFnwA1EtPEfwewERc9cWC3wFmorHqyYLfAZ4TfT40+Ag8I/p4owABH4mO/wL4CJif34+HRB+BgXNKSdAH4LhRx6LfBQafaUL/BuD340H7ogI0Eis9zePRYLaCU+M8eXsKxENWLaT+yZFiGzBrclEHYmgDRpJXgZLFySF5TYvjBvCFiwpIkqIK0sIuNprrjUEHWB0YSSRLE7BukRbgoqRJifNiG3/LDCqhpKl55nu+/zX/MH8/xg72LsBHI+j3AZNHL+j3AR/eli/g9wHjHr178QV8BA7/UaDFoo8Aft7RR8BXMc40WvA7gNt0vSz4ABz6ySd6ggU3gMcf6DEWdABP24wLFgDQPuTPH+gDAJ938P/V+eBoKrd8kzVgwkoXKFC6AtwUklMBM49ahzHTxR8PGU8B72jWgZh0ILmgXg8OYxtg51MQbh6Jc1EB72KjTWKfFgVIjjogvtimUCTrPxdYB4xP0UtTkMSlePq8WyWTbQOGbSVufd4rbew9B4B5OB7+0/0S2WGeLPg9wKwkXC/we4AJlFKgiD4CuB5CHwFH+3T2SwD09T8MhF0nDHQAn3Z/wYIOYHLaRtAHANZD4P+z/RLRNEEBALBf6hZkrkAYu/slClVnOQJClXBkO/uleZrP+6UwV4Cujft6yPKxuTnvl0yWHWiImO2gF1T6V7zUAoO7TJzaQrcX6GNVnQdJTFLbpFVCo3G/xGyKeoWX4wn7+yX1jHful/ha8AvFQArFxQVcgwAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .ghost0 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAHlBMVEUAAAD///+Xl5nr6+3JycvZ2dwuHiL9jI9cLgCSioybCW+cAAAAAXRSTlMAQObYZgAAAo1JREFUWMPtmDFu20AQRYm9wUhO7HSr4fIA1loHyHJ1AJGU+zTpU7lOFbdpfN5Q5Dojzd8V4MaADU738Z5+QUAzIKsPM4aZ3yIY5/0DAy8L7p6IHizwkmBaGmcdgKMgXAzgKNREk2GB5wXzPeUAPC+YA83TAS8I9ylvgaOQ8k+irz8kCy8Jj0RfJAsvCi9E30oFImAj8JLw9Ex09+cXFqCQMo1zmzJwFHx67lhQEPrNDdEN1R3wgtBuVkQrqgPwvFA19XbMvrHA80Llutp7z4Nlq7gWUjZ7P84ucAyKa+E1x37MQ4yBreJKsKnDxeNxjNEqznMWIYRXY5qgeGoQQRSeQsJS4CYuAvN/hVmCFJhQKQFGcVsts9yHz3AfUgaeFx4LBUXhpVAAAjQCLwjPt0/ZgqJAkoGj0LS0lvUOHIWmps2UO+B5wdUr6g5EPgDPC6bZrjcj31ngICSjZz/OYJkVVwLeh2gVV4Je75FZcSUEo9a/5lbvf2dlved40Ps/2qv3gWcuguHr96Fy9o33wVTLLPfhw98HKr0/oCD5kC8oC38LBSJgI3AUZFvf/c4UoIDrHTkKfnrqtN5b4Hmhp9Ns1o0FnhfasbI7rNYOC7JC1Zwq69WOkWcEw9addu+2HpCnuRBcDJzWO/CU+Vww7GKc13tAPhlGCac8rXebfMWdE0GM82uiuIvnAl4HFxQ3LEJu+TuruBJgTOLLq8NyHz7Rfcjl5QfjwPcl4AWhT7kDXhDaudIH4Hmhaua8s8CzArPrp8LBAk9zIZi95/3JkPugC8yFwNzSzAPweWytBNeP3B+jTb7iZus9iTBdhKMf4+XfR7hph70IeB/Mjvf9BWe+eh9Md/0+4Nh3vg//AKgMivi49GMMAAAAAElFTkSuQmCC");
            background-size: 300%;
        }

        .ghost1 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAHlBMVEUAAAB/f39LS0x1dXZkZGVsbG4uHiJcLgDZ2d2SiowUNadxAAAAAXRSTlMAQObYZgAAAn1JREFUWMPtmD1u3DAQhQXeYFZGfrrZEXUAL70HCEUdYCXtAdKkT+U6jfs0Pm+0Ep3ZnSEJGAYM2NB0D9/n15nPcvVhzhDRawRjnXsgyQuCvQeAB5Q8K5gO5qu94lpgzobiWmgAFgMVTwvmR8xe8bRgTrDeoHhGuI/5oLgWYv4F8OUnZ+Y54QngG2fmWeEZ4HuugAXdqHhWeAT4+jtRkBXW0wUZwa2x1gUZYdzfAdxBMyieEbr9DmAHjVc8LVRtc5iza1HxtFDZoXHO0YSEgkshZtO7+Y6eghdcCi85jHOeQvCEggsBY4cN5/McAwpOa2bB+xdjOS94bGCBFVpCxFxgF84C0X+FiAMXGF8JQZ7kWG237cNn2AfOgieFp0xBVnguFLCgGxXPCo+ZgqwAhQIttB3UhX3QQtvAfsmD4mnBNjsYTgDOK54WTHuo9zM/ouJKiMZIbr4JiQQXgt6HgIILQT7vgUhwIXgjnn/JUb7/Fvl5T3Ev3/+AxX2glbNgqLwPlcVX7oOpttv24cPvA+S+H7TA+U+ioCj8zRSwoBsVzwv857/geQFAFZS/H2qoe5Q8I4wL3tctKp4WurlyOO1qqwuSQtVeKpvdkTRPCIbQXt7eQzNpHu9GsMFTfN4Vj5muBUM2hPV595ovhhHCJS/PO0ZfcGtZYON6TQS34VrQ62C94IZYSD3+FhUvr4OJfPt02PbhE+1DKm8/8Kb/L8U8KJ4RurXSecXTQtWu+YiKJwUiOy6FEyoe70YwvaP+YvA+yAJzIxB1sHIveczYCMGOM3fngNEX3BycAxaWRTi7Od7++jA33dSzoPfBHKkfbzhRcR/MUN4HffjO+/APORCCDe4C4qAAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .ghost2 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAKlBMVEUAAAD/22L///ynhTqPjIr/zVresE3r6eLRzsPxwFMuHiJcLgDZ2d2SiowgL01nAAAAAXRSTlMAQObYZgAAAz1JREFUWMPtmLFqG0EURQ2TH3hIcuEkjRq1I4Yd2E4iBqk16y1UD1pQKwTyByzYrVkkUJnWXWpXadOlzddkdmfsZ+2dWWNMUhg9jOHqnH3luyudRebycsIhLnC83ZYT4ChwHA5H/gPkKHyysf4AeEyYr4f13EyAg8DcGcBBYO4N5CjMnvJ2ghwFu3A7HA3t32hbIkfB5nK9WQ83681tCTwo3E1n09nI/pvjgqBQXvWpv6E+XeMCFOx8u6IHml58p2wCHAU74op+EX2xGTkIPv8h+sqZeVR4ILoILYgKj0SffwQWRAU3uCAi5C4OcEFE2I3Pic4pqYBHhOW4R9SjxAAHwU2aZDbnqQQOghtdJXmeq71UMshZ8FmscjsLowoT5Cw85WJn874ojJIhzoL0O3RxONhYyBb3T7BgzJPRjGlxv4EFVlQTPOYFuuEsKPWsKMWBFwj7AAo4zFn5d3Pqhw/YD1ubgaPA531+UyJHgc97v8QFIPB5J6JLXAACn3c72QQ4Cv68u4w8JjxwBh4UHiMLogJ1LEAhXdKgox9QSBMaN7kCHhZ00qPqnig3wMOCSLPB2PKFBA6CN3Yqt2P7QYU4C9gPhQxxFtrnvVAqxFkwonX+21y277+WfN5D3LTvfyE7+0E5zoJQ3f1wpuUb+0EAiM+pH079YHPn9wcU7m749R94SChLfv0HHhLKKZF//QcOgu8DOxc/KUOOgh3h8m/KkKPA2W4EHhf49R94WIC+eP37w4AGKwk8LOwaPB6kEnhYWNqV1X1voHEBCM2k9cqkt1DIA4JQUte3N0v2yP0cCbowyp935G7US0EoXRTuvBvkjSFaQp2b8y693+Jas8DGyzZpcV28FLAdtGlxoVgIHX8tgXe3g2D+xjn1w8frh+dcAkfh9YzC3cwXyBwfCArltS+Qa1wAgrvWvkCyCXAQ3Gn0BZIhbwt8S+sSyYCDAMcXOAjR/K4H3v/7ks8V8IiwdCtzAxwEN6nLCwk8KCild83CvQTuhwX37q9WtcH90F4gjgSlluS4Ae5GJiz4hZbnh0J6v8VFlufEQtMIh9xG46PzmYvlfsUC9oNYqNXuiCvV2Q+i6u4HHPmf++EvuA0lfZxwF0UAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .ghost3 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAHlBMVEUAAACA2vFMgZF2yeBlrMBtutEuHiJcLgDZ2d2Sioy7o5tTAAAAAXRSTlMAQObYZgAAAn1JREFUWMPtmD1u3DAQhQXeYFZGfrrZEXUAL70HCEUdYCXtAdKkT+U6jfs0Pm+0Ep3ZnSEJGAYM2NB0D9/n15nPcvVhzhDRawRjnXsgyQuCvQeAB5Q8K5gO5qu94lpgzobiWmgAFgMVTwvmR8xe8bRgTrDeoHhGuI/5oLgWYv4F8OUnZ+Y54QngG2fmWeEZ4HuugAXdqHhWeAT4+jtRkBXW0wUZwa2x1gUZYdzfAdxBMyieEbr9DmAHjVc8LVRtc5iza1HxtFDZoXHO0YSEgkshZtO7+Y6eghdcCi85jHOeQvCEggsBY4cN5/McAwpOa2bB+xdjOS94bGCBFVpCxFxgF84C0X+FiAMXGF8JQZ7kWG237cNn2AfOgieFp0xBVnguFLCgGxXPCo+ZgqwAhQIttB3UhX3QQtvAfsmD4mnBNjsYTgDOK54WTHuo9zM/ouJKiMZIbr4JiQQXgt6HgIILQT7vgUhwIXgjnn/JUb7/Fvl5T3Ev3/+AxX2glbNgqLwPlcVX7oOpttv24cPvA+S+H7TA+U+ioCj8zRSwoBsVzwv857/geQFAFZS/H2qoe5Q8I4wL3tctKp4WurlyOO1qqwuSQtVeKpvdkTRPCIbQXt7eQzNpHu9GsMFTfN4Vj5muBUM2hPV595ovhhHCJS/PO0ZfcGtZYON6TQS34VrQ62C94IZYSD3+FhUvr4OJfPt02PbhE+1DKm8/8Kb/L8U8KJ4RurXSecXTQtWu+YiKJwUiOy6FEyoe70YwvaP+YvA+yAJzIxB1sHIveczYCMGOM3fngNEX3BycAxaWRTi7Od7++jA33dSzoPfBHKkfbzhRcR/MUN4HffjO+/APORCCDe4C4qAAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .ghost4 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACACAMAAADDApyIAAAAOVBMVEUAAAD///+Xl5nr6+3JycvZ2d2jZADcnwC0iwj//wBTRyH6uwDBqk2ISAD/3ADd2tP/AAC6tab/CQrnuB8iAAAAAXRSTlMAQObYZgAAA3BJREFUaN7tmNtu2zAQRK3h8iLrEif//7FdMWrWNmEOSMNoEWsTFAWG55BxXmZzapygXy+cEEb9Cq8TjCEuMYyU7xbERfklUr5TAMRpWZcpAoTvE0BcvKxf6yU6Aee5oIyHIU6XKQ6DHeA8F1hsUxxgPBcgx3YAlG8TQCwrDJznAvjhdjwo3yZwd7njD2CCJ/P/8IKP8/kzR5/n80fPBVygJ/RfTRseQATkhYTv+IzTPM+p63fABS7HKaR8wDU+gAu8QxpylOYhwXn+gDaBOAwpBc1DSgOc8AdQwZ0BTo9ss/2ngScCM3hokAfwygMgPBGUB9zf0RgQEdR4Kihy8T9xHujUeCbACfcHxG8ju5/xeqAqEEh5g41lJW9HSkFNAliSoxoPZP6hIE/pyGNJ9QEQIuBDeJzecIJ+v0ygydbNR8p3C8YQYwyR8t2CuCxazkeA8N2Cy7Su6xSdAITvE0Di1zRF64WEbxRYfbYDnOeCMuYHjv3g2A/+4QW5l/dfwAWaNj2ACOgLKd8o0Gbe/TvgAngJWsydxU0P4AJ4uNzLf3LPH9AkEM2RkoffeQHnucAG8A6Dw4438Fxg5Rmw+gxFgBrPBHw/0EGFpwKw/SAfqvFMgBPq9Z7xoP1eUKvndD8QsH4veGY/AFswADy1H+iNeN1+8L4Lwqs2BJutoGtPZ3y/IOaOPlK+TwBgXMK4LJHyPQJAnIu5o18o3yqwehun6SuC8kxA632dP/aDYz/4vftBnvxX/K4LuMBONDyACMgLCd//Gc9z4g9oFDhjhzmF4MH4NoG3PGFODh6UbxLIbtgKekqDg/AHUMGdYVfA6bdHA88E0Lkuz4DVc8LbVATYm6YdsJjxFheC2+h7rJ438LlBggj23Or5XVznIZCqwBSPVo8qn/OKgO4GGqDOA6gIaLWHoPIALuCDW/49l4KrCS8RWBjWwI48IxjJckB4LojLqOU8Ur5TAGg3X9YpAoTvE0BciJPGwQkY3yaw+pw/AmuelOcCXs9L/tgPjv3guOCNL3C3ceMFXODvcs8fwAVlPTde+AOooDB08lyAvTxfxU18nopgi5zdYDHnbfBYkJ+fI4s5f1cuQQT5h/gOnS9j1Hk4OJ2hFNhAxOsdOS39mX3MQ7Y7vQnYflD4PZDvf8RDp30/sMDjtfvBCb96P/gDYgtAEa4EMbkAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .ghost5 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAHlBMVEUAAAD/0oSZfU/twnrLpmnds3EuHiJcLgDZ2d2Siow1XminAAAAAXRSTlMAQObYZgAAAn1JREFUWMPtmD1u3DAQhQXeYFZGfrrZEXUAL70HCEUdYCXtAdKkT+U6jfs0Pm+0Ep3ZnSEJGAYM2NB0D9/n15nPcvVhzhDRawRjnXsgyQuCvQeAB5Q8K5gO5qu94lpgzobiWmgAFgMVTwvmR8xe8bRgTrDeoHhGuI/5oLgWYv4F8OUnZ+Y54QngG2fmWeEZ4HuugAXdqHhWeAT4+jtRkBXW0wUZwa2x1gUZYdzfAdxBMyieEbr9DmAHjVc8LVRtc5iza1HxtFDZoXHO0YSEgkshZtO7+Y6eghdcCi85jHOeQvCEggsBY4cN5/McAwpOa2bB+xdjOS94bGCBFVpCxFxgF84C0X+FiAMXGF8JQZ7kWG237cNn2AfOgieFp0xBVnguFLCgGxXPCo+ZgqwAhQIttB3UhX3QQtvAfsmD4mnBNjsYTgDOK54WTHuo9zM/ouJKiMZIbr4JiQQXgt6HgIILQT7vgUhwIXgjnn/JUb7/Fvl5T3Ev3/+AxX2glbNgqLwPlcVX7oOpttv24cPvA+S+H7TA+U+ioCj8zRSwoBsVzwv857/geQFAFZS/H2qoe5Q8I4wL3tctKp4WurlyOO1qqwuSQtVeKpvdkTRPCIbQXt7eQzNpHu9GsMFTfN4Vj5muBUM2hPV595ovhhHCJS/PO0ZfcGtZYON6TQS34VrQ62C94IZYSD3+FhUvr4OJfPt02PbhE+1DKm8/8Kb/L8U8KJ4RurXSecXTQtWu+YiKJwUiOy6FEyoe70YwvaP+YvA+yAJzIxB1sHIveczYCMGOM3fngNEX3BycAxaWRTi7Od7++jA33dSzoPfBHKkfbzhRcR/MUN4HffjO+/APORCCDe4C4qAAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .ghost6 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAKlBMVEUAAAD///+Zl5ft6+vLycnd2NpgNADUeQwuHiK7agCiXADvkyzZ2d2SiozSoaFSAAAAAXRSTlMAQObYZgAAA2ZJREFUWMPtmDFPGzEYhiMP2Z0g1KGVnO+c7sSke50LO5dkv0bVodA9CJi6de4AYmUg/wDmbqzd+Dl17kyN77UtoSJY+m2fnievBJHe7y6d+HTLCIgJx2vgSaF7eQs8LjCij5frEnhMYFKp/WpzCzwmyD3O+f5qXQEPC2zCzfQPNnclchQsN8bRWQk8KGSc18bqAnlIYJ/tfoA8KLBD3kyBPCzs2X0EHAW7/+D83XezA48J95y/NzvwqPDA+YdQAAiQCDwiVJzvfgkEoIB/JHIUlP2/Y0BEmA12ON/hWQE8IkwGPc57PNPAQWhmmI3MroYCOAjNyCJTStFckADuC3ZnU2VmrCnXwH3hcc9nZp/nuSYB3BOEzZD5YmHWXLS4/YQTtH406tEtbhOc4BSqF4tdgKy5E4j+KkRucQFMd0CA8TgorzrVM4XupgSeFFbnJfCEwGh1hgFxgUn1aXNbIkfBte/x+Ro5Cq7ed09ugIPguNmvvgrkKLh6r/oCOAh+vWvgIEC9A3+x+2B34DHhPhIQFR4iASBAIvCIUEUCogJPBKAwnPB+4j6gMMz4oN4L4GFBZj1emC9LaeBhgQ1H/YHhYwEcBGvMSJmZCyLgnoD3IRfAPaFd7zkRcE/QrFX/bS7a/S+FV+/Adbv/c5G8D2S5639K34eOFM+8D6zzVvP8d4ejG+Bp4dtpCTwpLIkIeEJYbh//CXhU6DaP/wI4CP7rgQYeE2puDeAouMd/ARyE1H3gb3sfeOz9AQW3/woEJIXfgQAQIBF4TLCP/8DjghkISL8/9Hl/KoCHhVmNB/2hAB4WJiayOOz1JQaAUM9wG5n1xoQ8IDASctu9o2yO3I4nyFyTrXfkzdBTgZHM86beNfLaYC1hu9f1Lqzf4lI6wRlPr0mLy9wT4DpI3eKMPAHKXwrg6evA4jw9b/zucFYCTwrduwvgSaE6+UlEwEFw/NrVO3AUutWpq3fkKBzdXbt6R47C8YlX78BB6F65egeOgpmlq3fkKGC9L1/0PqT3/x/4p9+X7F4AjwiTJlJp4CDYem/2sQAeFIjkrA6cC+B2PIFNFU33tlyHeK14AtGEN1wDb0ZkTrCBhqtFLqzf4mykFHdCfREWyqz+45XjbDKfOgHvAxvTdOZxouR9YEX6PuCIV74PfwBy4OrXqzPE4gAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .ghost7 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAJ1BMVEUAAAD///+Zl5ft6+vLycnb2dy3t7t2dnguHiJcLgCSioz/1gDHnQBnJkhCAAAAAXRSTlMAQObYZgAABDRJREFUWMPtl7GS0zAYhIOb1D9BDlDpFIfUEBgamhgDLTqQwwwNhrHcOoHYNR0tJSUdL0DHG/BS/NYvRSaKCsrMsHeZy3q/3bv45uzc5GKUCCH+BUiy9fqhCPI4kN0HgIc8yGNA8hRQszzMQ8DnnvB5DFgAGIIH+Xkg2VifB3kAkJdAug7yCHDf+gdhHgLkvwDc/ow+yGPAGwCGPsijwA+Au7EBD4SLQR4FvgHc+RobCIEOjNJ9kJ8APflpVRlfNdb7gVOgNX5fwi3Az/SafD8aOAEa8k+XwGpgi9wUpu9HAycAFbrlon77W31Y3rOF0YA5oI+Abk0hu16s12vx+p7gg/V5Q4XaASvdGr9/tkY9ykWRD4XG5Utb8IArFK/Qvy6KXPChcMxtQR2Be9z4PiuUQluszE+4PeaCCrJxQJ5TYV8Y5dshP2yPAwWnAk5Y5cb3vTDmyhXcQEZ/Qru5BYTgVMAGarUzhen2OLC3BWgnmCPdkqcv7gkepYEraDm9iPnEiXzwhOQ5GorLc5ek//eHy70/kA/yCPAmMhAFfkQGosCXyEAU+BYZiAIQGTgPLJ/CzJz3yEAALBdwBaD72XWQnweyRSoH4GMe5mNAOSBZPvmpSmBzPs6ZpNwBCtiWu4VXYo1KuRDhgAful61boMt7uqerrxtgJvfA/XTPrafLO/tUCDEaqBrKHSBZkyd0gC7v6P8a2JS06IANa4qMW2IQM4t+4HlKCw7YMP2psIigwsTndABzD2xKvRcOESgq+IGcNRkfAVclAU49nRU/sGJtMgZulAQ4TW3fH0gjQFT95JL0//5wofcHiP3/EALey8hAFPgeGfBAuBjkcYDe/gd5FCCFAxFgbc46zJ7x0zwCvJp3FcDVbMmD/DzwdDcQ5SwLBxygPIBaMUiV+vVIuPwgfR4AieD3ZnjtfbB4fcwVMMqtDmMgK/KO0dt/l3fyZKCqPZCIrDjcMpd3VxAd+ByJpJPFGEhe1LfM5Z1b/kUN4zxb6bSwAGmFBZTrF1gY59kwSIDV1BzIXZ53NYzzZFXfNJ77wk0hhLMZ77Sk3OkwFwT4A603yWSq5d95N6ev0Qt/J09y3IuLBi5Q/+8Pl3t/OOcvqPCY7DwsRIBuZ3y3D/LzwFQ3w4FeN0EeAORrrbSuy7oJ8ghQp7VSSrNwgNTVJQFb6yWrAfBRtlRQNKB0eywoAHwwc0BgIQVImSscgJUSH76gBq8YQGsu3loCSPwA+1Z5B4yZRfcdtVISFKDeoRUrjfAgmVKhAgCGhLIDKywA6R29RlegV51UFDJbSB7r0gAM4KUt1MZXVFhIjAaVtvDCF7ZUYFSoWWMGfcH9SNoUlISGCmUtB6+VKWwrjEzB/eZ6U8BTx1o6a7hgcm08P0CpTKFBT43avCTdO48VVG/zaWdOC0PeCZ8NQPT+gAN4Ag3/B6WlE8bBTzJ5AAAAAElFTkSuQmCC");
            background-size: 300%;
        }

        .ghost8 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAKlBMVEUAAAD///+Zl5ft6+vLycm3t7t2dnjZ2d3d2NpTRyHCvLB9dFj/1gDHnQAWAoZOAAAAAXRSTlMAQObYZgAABD5JREFUWMPtl71y00AUhY0K9xcjLz+NvFaM22CGoaGwIhhKBLMSpWyQ3KJC3oaG8DO0KQMVJSUlT0DFG/AwXO3d9Qqvt6AjQ07iie6e75xYm5mVM7gwCjjnfwME8WJxlzu+H4iPAeBu5Pg+IDgB1ChxfRewviWs7wOmAIqIHP8wECz1nDj+YSB4A6RTx/cAx3q+4/gewD/7gFtnOH32B1zgK8CNLwcKfADcPINPcKDAB9w4/wJfz30FLlCBUrh2/D2gpnmYZWrOcj3bgn2gVPP6PVwD/A5Paa57BXtATvPJbWAFsGmiAsOnvYI9gALVfFq8/iWfzY90oFegFsQOEKUKxKfTxWLB3x3xqButn1OgMMBMlGpeP16g7ic8TbpAbvzbOmABE0jf4vwuTRMedYGdrwNyBxxFaq7j9ONHHNOZeofbnc8p0OQGSBIKrFOlZNv5m60uQEUUwAqtRM11zdUwMQFTEKOPWo01wHlEAUygZisVGG53BWsdgHKAPtIlzfTDXOAqFUygjOgmxuQbDZ0LkuWoyC/LXSRdPh/+k+cD3PjmCfiAT54CH4DPAk+BB7h5fuYp8AAAnoLDwPwERmrfPQUOMJ/CBEDUo1PHPwzE07AB1IvE9fuANEAwf/BDtsDGUd9nDfkGkMC2kWl4yxeoMOLcLbDAcVuaBjrewzWdvqaAKd8Cx+E60jMd7+xlynmvIMvJN8AblicBLdDxjvMfBcuWGg2wZHkaR5pAYeAPP30YUoMBlky8TDXCKTCwPi2gb4FlK9bcIBxFAVuQsDyOesCkJcCopl2xBTNWBn3gSkuA0VDn7ULoAbyqBxdJl8+H/+X5gPruCXiBm2eeAh8AXz0FPuD8k6fAC4CvwAUWatdh9Dja9z3A23GVAUxG88jxDwMnK0C1o9gtMIC0AGrGIJTy531u/E1jfQcIeHQ0wrP3zvTdzpfAyNfa9IE4Tarr9PHf+FWzV5A9t0DA43RzTR3vJsArsD4SQdWkfSB4VFxTx3uk+UcF9P14JsJUA6QZBlAmn2Kg78ddIQFaQ7WQGD+pCuj7way4mirABq5yzs0YR5VoyDfajDkBdqG0QzAYiuZPv6L/C/wHf9Xs+djnFxVcQF0+H/6j58O/FbhH49gNeIBqpeZq7fiHgaHIu4Va5I5/GBgWQgpRtEXu+B6gCAsppWBuAakqWgK2em5YAYCvtqSApAIpyl1AAuCLqQWOgRAgZCawAdY2+LIB2c2SAZTq8BYNQINfoD8qr4Ax1Wh+o5CyAQmoJzjymUC4UxNSIMNrhoTUBTMMAOkJ3aMJ0F0HGZlMB4J7olUAA3ilA4WaMwpMG7Q6tTrwyAa2FGAUKFiuCm3AvCWhArKBnAJt0XSzkCrwIUNLBcxfrlYB3DpW0q5hg/JpG6MNtFIFcpwpUahbErWZMYKqtT+s1LYw5I3wqgMGrkxC4AYq/jcVaCnitbFyigAAAABJRU5ErkJggg==");
            background-size: 300%;
        }

        .ghost9 {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAKlBMVEUAAADExMR1dXW1tbWbm5uoqKguHiK4m5utfnpcLgC1lJK9rqzZ2d2SioyyUplZAAAAAXRSTlMAQObYZgAAArZJREFUWMPtmDFu20AQRYm9wUiGAcsIMBouDyCthQTpslwdQKR0ADc6g04Q1SmNVD6FmzRp3KfxeUKR66w0s7uAm8AJON3gPX0IBDRfUvHPjCKitwhKG3NHnGcEvQCAO+Q8KagauplawaUQeDAEl0IJ0BsoeFxQX/xuBY8LagPDNIInhP4dzACWgkvB73u4/XoPS8GTwjMcfoQ98KTwMjt+iAUkhf3h8ToWkBQejnDzLRKQFJ6gm1SAFIx/7jIgIbTzK4ArKBvBE0I9nwBMoLSCx4WiKpfdbioUPC4UuimNMbRFQsa54He1Nt2sLDnLOBded9d2+9Y5S8g4E9BnaLfbdatDxv0rgmDtq9GPZdwnBCEo1C8ehwDd8yAQ/VGIwhIClC2YwIdzLMYZ++G99cMsHC7JpbC43fud85RweM4FSOHz8SUXIIVPj/tcgBQ+wkMuQAoLgEyAFKoapuG8Cy6FqoR5vzeCxwVdTqDZABgreFxQ1XI67/gKBReCN1oy3WyRiHEmyH5wyDgT+Hl3RIwzwSp2/jlHfv81hvMe45bff4fZfiCH7P5Tvh8KjW/sB1WMM/bDe+sHSPSDFMLuv2sznhGuf0YCssKvmQzICvcHGZATbr4fZUBOgCeQAQnB9E8dpmvkPCG0vTCfVih4XKi7yGYzmWoZEBWK6hRZTlYkeURQhPp0e5flVnI/F4J2lvx5l3wYOhcUaeeG824l7w3FhNPen3f0PuNaByEY523CuHbngmwHbRlXFITY8dcoeL4dlOfjT4exH/6jfojt4wtS/y9JLoXW743gCaEeIo0VPC4U1bCvUPCoQKTbPnCLgvu5ENTa0Hpx4jbGe+VCIKph4FbwYbBkgm47bnYOvc+4WhoDQegbYWe69fLjE7iqt+sgyH5QK1q3F5wo2w+qyfeDHPzL/fAbRNueFftHPWIAAAAASUVORK5CYII=");
            background-size: 300%;
        }

        .ghostA {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAG1BMVEUAAADly5yIelzTvI+1oXvEr4VTRyGxm3F3Z0ARRViJAAAAAXRSTlMAQObYZgAAAnhJREFUWMPtmEGO4jAQRSPfoEgLZllUnAOAmwOMYw5AEg7ABmbbG/azmXOPSdzjTpUdic1ILVK70nv+CyTqC4pvM4qInhGUNuadBM8LegcA78h5VlAN+Cmt4FKIPBqCS6ECGAwUPC2on2G3gqcFdYJxWsEzwi7se8mlML/nhB8Xv/3KP5DCHWD9kQjICbC5wA0SATlhff2A+zURkBXGkQEZwYTPXQZkhG77BvAGVSt4Rmi2K4AVVFbwtFDU1d7vpkbB00Kh28oYQz0SMs6FsKuj8XOw5CzjXPjcXef33jlLyDgTMGRodz771SHj4UUUrP00hrGMh4QoRIWGJeAYoAceBaJ/ClFcYoCyBRP4cI7FMks/vFw/wPr37AMp3DIBOcF3QTogJ2yul3RATgCYCZBC3UA50w9SqCvYDnsreFrQ1QraE4CxgqcFVe/LrecHFFwIwejI+OmRiHEmyH5wyDgT+Hl3RIwzwSp2/jlHfv81xvOe4pbff4ez/UAO2f2n+X4oND7ZD6pYZumH1+sHP3/mH0hhc0kG5AW4JwPywvWWDsgLIALmfz+UUB6R84zQDXhb1ih4Wmh8ZHtalVoGJIWifkRWqwNJnhAUoX7c3n3VSx5mImhnKZx3ycehr4Ii7dx43q3kg6GY8NiH847BZ1zrKETja5swrt1EEO2gLeOKopA6/hoFn28HFfjy02Hph1fuh1d78Pz/S2FvBc8IzRhprOBpoajH/YCCJwUi3Q2BPQoeZiKoo6Hj7sFtig/KRCBqYORW8HGwYoLuPDdnh8FnXO2NgSgMjXA2fp1+fSJXTX+MguwHdaBjN+FEs/2g2if7ocD/3A9/ARmKgGAAwqfsAAAAAElFTkSuQmCC");
            background-size: 300%;
        }

        .ghostB {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAACABAMAAAAG8nGJAAAAIVBMVEUAAAD///+YmJfs7OvKysna3NkuHiKPd3JcLgDZ2d2SioyO97JiAAAAAXRSTlMAQObYZgAAAp5JREFUWMPtmDFu20AQRYm9wYiGnaQaDZcHkNY6QJarA4ikDuBGqd0kdTq3adynyTlDkeuMuTOrwAgQyACnG7ynXwjQfKyKdzOGiN4iGOvcPQmeF+wGAO5R8JxgGhim9IJLgTkbgkuhAhgNFFwXzOe4e8F1wRxgmlZyXdjAN4C7R9hKrgubu9MjfP3CO/Oc8Azw8UEN0AX4BfCJd+ZZ4QRwqwVkhSeAD9/1AF2YRgZkBBe/dxmQEbr1DcANVK3kutCsVwArqLzgulDU1XbYXY2C60Jh28o5Rz0SqpyFuJu9G2bnKXiVs/Cyh27Y+xA8ocZZwJhhw/E4rAETHj/Bgvcvxjg+4TGBBVZoXCLmADtyFoj+KES8cIDxhRC0YY7FMks/XGE/ACj9IAQ+77wLrgnPmQAh8HnXA7LCKR+gC0/5AF2ATIAu1A2UmX7QhbqC9bi3guuCrVbQHgCcF1wXTL0t1wPfoeBCiEZHbpgeiTTOguyHgBpnIT3vgUjjLHiTnP+UY3r/LfJ517hP73/Ai/1AE2fB0OV+KCy+sR9MsczSD9fWD5B5PwiB9/nzgHleuP2hBuSF2596QF54UALygngeMNcF0Rd/fz+UUO5RcF3oRrwuaxRcF5ohsj2sSisDVKGoz5HVakeSK4IhtOfbu616yePMBBs8xfMu+TT0WjBkQ5jOu5d8NEwinPfxvGP0E24tC2y8bpOE2zATRDtYn3BDLGjH36Lgl9vBRL48HZZ+uN5+UN8PUri8Lx/4p/+X4t5KrgvNFOm84LpQ1NO+Q8FVgch2Y2CPgseZCWbvaL85c6/xUZkJRA1M3As+DVYsxMCBu2PA6CfcbJ0DFsZGOLphnf98mJum37Mg+8HsaN/NONHFfjBtvh/0wf/cD78Br4uNj9C/nCUAAAAASUVORK5CYII=");
            background-size: 300%;
        }


        .bomb {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAAgCAMAAABzRoe3AAAAP1BMVEUAAABkZGZERESXl5kQEBL/XwB9fX/IJwAyMjTJycuIGwD/uwD/WDMgBgD/7ABYPDz6MQBwVlRkFAD/qJefh4ElQHfgAAAAAXRSTlMAQObYZgAAAvtJREFUWMPdl9Fu2zAMRRPHVtQ0blKn//+to0S5B8p1QHgr+jBuaR8OKZ4roUB7+M2a+GzRqAG8e3HcETU1PtEm49M0vdvX8pmkUed/OERcbX3x4zRQ1X+3/+UzTa4bzv+7fvyy9JgYcspM/cM/pSue1/r6vH1t7y5jcK368PH1f98vWcFF/aOURwjm1d0+t0/7t7nb5uBbDdYRJ7DdplgV9IDJEGVN9c6DecrutsrdLMnmbrhCb+heSJs8JXITyDcYHFut/vE8VW63fr9tLleu8/JCes3uh1wP83CsNeRXLXMtoJQvOPwNlxfSMsPmJ2oFHtPpdEqpZigtojkvl7PVZZnDBRHfHxDD1Q/7Sg16eYJhXBH65/v1er2XDC2C6iWbV8WYxwExTO73TE9vb2+agJqr/prgMuuCqtfmB8Yj3ge0IoIaSgLSGYWzAv/r4/HoEojfugHDmMcB1TCpX66HE8Afsr//RykCPCfIbHCDHHHxL1QTqGHCj3h9AIm42AMQoCZY5IIRFIOY5+cbzs4xhONHvFP/M7DeEQ/QB+AJuGAEGQ85/iuGI9gbJvy4HcpwayDicjZx9yfA0l8wGxiPueZTQTXsD4gDzBcL0IoAl7kX1PNjDk7cMPv7cebhjIODAO6vAZKeH3HB2gAHC1esAe74vwhwTN16xiMOVkEdB8MVa4CW4I7/U4ByRvL5lDg/4hgQEEEZd5rgin1Dqg0EKAmsXP++GYDoZZrxiIMRJCGcSnDBrwNQlkMCHHI7g+s75kPIEQRvJsydYfPPYA3Qb1gsANX8F2eq4NvTuINn8HZCMHwUTBXeGvQJ3P88N4jCgN6QMizm44rp4FdmfUEOAIt/17C0BPjfFydcQldpGEOuCShbP3acgBygmI5j3zAXZ+zNX38d7fYzHXNNYC55xwUoxp8ElPirAusjDh5z/sZ51Avo8qEnWBo0AX8OPCt6obeLj3Aa4gtQvN0wLyRY5p/9ox5Mw84LANOgEbzQ/93afwEaodbhv6o/t+U469lVpz8AAAAASUVORK5CYII=");
            background-size: 600%;
        }

        .burst {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAABlVBMVEUAAAAKAAC7HwAAAAAUAgAHAAAMAAARAAAHAACmIQB/FABuDwB/EwAgAwA8BQADAAAtBAABAAAeAgAAAAAAAADINADHLwCrIAC+JwB/EQC7IQCFEQCrIAC1HACVGAB6EwCaGwCWGgCOFgBsEABDCABdDABuDgB2DwBlCwBYDAA5BgBtDQBOCQBZCwBRCQBWCwBJCQBVCQAWAwAtBAAKAAA1BQAiAwAlBAANAACuIgCcFQCaFABkDgBhDQB3EgB2EgApBQAlAwArBQAqBgAbAgAZAgAyBQAwBQD/wAD+vgD7tQDbUwD5rADrgQDdWQDRNQD6sQDrgwDXSAD9uwDqfgDiaADWRQD8uAD1oQDxlwDlcADkbQDeXAD3pgDshgDhYwDaUgDaTwDZTADONADALgC5KQD3qAD2owDymwDwlADwkwDujQDtiQDmdgDlcwDfYADcVgDXRgDVQQDQOwDOOADNMQDOLADMKACyJAC6IQDznQDvkQDtigDpewDjagDdWAD5rgDneADeWgDRPQCzHQCKFgCGEwB8ADvZAAAASHRSTlMAevMFRhwhDwv96OXelnhrQDQxJQf+/v78+/f39fPv7uzr087Dwb+7ubCspqOhnZGRhWJcS0pJPRT+/v7y797eqaWOin15Z2VQa1GfAAAB8klEQVQ4y62SVXfbQBCF1dqOGeMwMzOWuRVYYFmSZUlmZqZg+XdXrlVZjU7ylO9p9ty7Z3buDvDYaA4PNQ8atGaz9iGHa2V8fMV1v67bna4x07u6+3S9baFRDtcXbPq7ypD9SQ+rZaRyjWIjFuvfo31INjhXZ56KTI5Gi5mLb8joZO80s+oc9N5KkhEEQW65LOwPlDCxjJDJrcFb3AfGGId6vd7LrxBE5MQCLUWNB25A5st8jQ94PB7CB4IQIRYZrjr/WZnPYiOc9YMy/gBdX9QqDMNrCeyKGBjgvJBYG1bOuZ6MoCnonw55QpXkusJgsM3Wy1ce2QAS+fCPWZtB/sIjUxyjggMdhFKo0DAduSX9bCkRKWZ8oALfxTWSWDrT9B+w8YyhQyzsU+gwG6LJzkY/7E8TLQbjqWwQhqQGcDCA8gLTmvjYD2HH1MFJjPOyful+OsQJJN4x7UhR6E6257p4jM7B4m2oFxMfw7tz2yc6eQy9Y3MKFwoEBKfERkS+jE9tOvT/7967NkKx6RxKXaZZtNJ6q1on+0+yVKD479gNVSjGunaVwfm7Fr7ByHi8ekvTzC+nymB4hUercaPFYmwyUfylAVCx3G6Ovd47Pd17M9ZsLwNqPrww7zvOAeDcsW9+/h5Qc2x16aVuLusx8Hj8AZoqh5lfxK/HAAAAAElFTkSuQmCC");
            background-size: 100%;
        }

        .burn {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAAgBAMAAAC2tmq2AAAAGFBMVEUAAAD/7AD/uwD/XwD/jwD//ADHPQD//9ieuLG9AAAAAXRSTlMAQObYZgAAAcxJREFUSMfskrFOwzAYhIOCMvNH4gHiVsxVHXlGrdWdIWK1cNU3QHl97r/adQgpgs69pTo3/j/f2dVNak5QWPaUhf41UQdMnKVOxXsI/lY10UIuJBttb6C9dcn3ntonby85fu0gFGPtzpi1teFs4TqRFiuBHvP1FwT6uozZXG2kx9eXxLE3VDph5HwSHD3nk+BmU+vFE3MEhO1Ug/kCgRBoMf+pqh6kxQID5H2MUIYSlktmxdnlCkLGCUUkLeYrgQvRv+aNj97NaqnzfK3kQjjmCg4pgMgAifDEFv9WFL7ANWqAEmEZEL1eonc5QCfPw/AmLSPU204GStrVBjwGYAQlNj0DpAgscS7sOXee/q2NzleC2bCSDnYcsdCikga8vBHE0PgpwC8DvDF6hz6khvKJ2VFUO0K64DQQAzACItV+Osr/fJjlFvOz+egYQE/8AmsBeFfAJwAWH0vZKWsXvwPcMuB8qQmwLYCV9gc7UljYh2imAOOO2lDp6DCLUKeHTUB65zsZkmQdtPMCQOdRGyod/REg1FUAGmJHd8DXyLFgUEQybZMp1TMazYsKehd2NC+uaV7h0LzKpHmlT+tmC80bXrRuOg6axi8lzXcAzu0erDyjLN4AAAAASUVORK5CYII=");
            background-size: 600%;
        }


        .dialog {
            position: absolute;
            background-color: #FFFFFF;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #aaa;
            box-shadow: 2px 2px 4px #888;
            display: none;
        }

        .btn {
            display: inline-block;
            padding: 0.2em 0.2em;
            background: #206020;
            color: white;
            box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);
            font-weight: bold;
            font-size: 14px;
            text-align: center;
        }

        .grey_btn {
            display: inline-block;
            padding: 0.2em 0.2em;
            background: grey;
            color: white;
            box-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);
            font-weight: bold;
            font-size: 14px;
            text-align: center;
        }

        .pressed {
            transform: translateY(2px);
            box-shadow: 0px 0px 0px !important;
        }

        .grey_btn:active {
            transform: translateY(2px);
            box-shadow: 0px 0px 0px;
        }

        .btn:active {
            transform: translateY(2px);
            box-shadow: 0px 0px 0px;
        }

        .titlems {
            position: relative;
            top: 10%;
            left: 9%;
            width: 250px;
            font-size: 35px;
            font-weight: bold;
            background: #206020;
            color: white;
            box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.4);
        }

        .titlems::before {
            position: absolute;
            content: '';
            top: 100%;
            left: 0;
            border: none;
            border-bottom: solid 15px transparent;
            border-right: solid 20px rgb(149, 158, 155);
        }

        .drum {
            position: absolute;
            display: none;
            border: solid 0.5px;
            border-color: black rgba(200, 200, 200, 0.2);
            background: linear-gradient(to bottom, rgba(200, 200, 200, 0.5),
                    rgba(255, 255, 255, 0) 10%,
                    rgba(255, 255, 255, 0) 90%,
                    rgba(200, 200, 200, 0.5));
            width: 60px;
            height: 100px;
            overflow: hidden;
            text-align: center;
            z-index: 10;
        }

        .chara_outer_frame {
            position: absolute;
            display: block;
            padding: 1px;
            border: solid black 0.5px;
            font-size: 25px;
            font-weight: bold;
        }

        .chara_inner_frame {
            display: inline-block;
            border: solid blue 0.5px;
            width: 30px;
            height: 30px;
        }


        .arrow {
            color: white;
            display: inline-block;
            width: 75px;
            height: 60px;
            background: gray;
            border-radius: 5px;
            box-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.2), -2px -2px 2px rgba(0, 0, 0, 0.4) inset, 2px 2px 2px rgba(255, 255, 255, 0.4) inset;
            position: relative;
        }

        .Left::after {
            content: "";
            display: inline-block;
            width: 0px;
            height: 0px;
            left: 14px;
            top: 10px;
            border-top: 19px solid transparent;
            border-right: 38px solid white;
            border-bottom: 19px solid transparent;
            position: absolute;
        }

        .Right::after {
            content: "";
            display: inline-block;
            width: 0px;
            height: 0px;
            left: 20px;
            top: 10px;
            border-top: 19px solid transparent;
            border-left: 38px solid white;
            border-bottom: 19px solid transparent;
            position: absolute;
        }

        .Down::after {
            content: "";
            display: inline-block;
            width: 0px;
            height: 0px;
            left: 17px;
            top: 15px;
            border-top: 30px solid white;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            position: absolute;
        }

        .up::after {
            content: "";
            display: inline-block;
            width: 0px;
            height: 0px;
            left: 17px;
            bottom: 15px;
            border-bottom: 30px solid white;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            position: absolute;
        }


        .arrow:active {
            transform: translateY(2px);
        }


        .playername {
            position: absolute;
            display: block;
            opacity: 1;
            color: white;
            font-size: 15px;
            text-shadow: 2px 2px 2px black;
        }

        .bomb_icon,
        .bombkey::after,
        .bomb_button {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAgCAMAAAA7dZg3AAAAdVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////li2ZAAAAAJnRSTlMAwBCD9ejVz4/57+OgSEAvA9zHubizqZlTUDoqGgzJw52LfWw1ICDcTAsAAACxSURBVCjPddLZEoMgDEDRUAT3fa/avfn/T2xpcUY0uY+cCfAQoBsEA6cEo4ymBIMTLU8M4Nj5osouUoeZYnlHaPLd4+zue7gmNpJqdBo2n931sDJr3DfamQYP6T/dkKg1MiJZ+iVBkwbIkWkCyZGElqMaYo4UeByFPHlQchRDxdGV/3wAM0c5gE9LYzaFpt8edvRLpoK4Uth1WypKbL0rvZG1V70ZScFtkkKFYSxkDrYPPddQluDmf9YAAAAASUVORK5CYII=");
            background-size: 70%;
            background-repeat: no-repeat;
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            top: 0px;
            left: 0;
        }

        .bomb_button {
            content: "";
            width: 50px;
            height: 50px;
            display: block;
            position: absolute;
            top: 14px;
            left: 23px;
        }

        .bombkey::after {
            content: "";
            width: 50px;
            height: 50px;
            display: block;
            position: absolute;
            top: 5px;
            left: 27px;
        }

        .punch,
        .punch_icon,
        .punchkey::after {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAArlBMVEUAAAD9/f3////9/f3////////////////////39/f////9/f3////9/f3////////////////////////////////////////+/v7+/v77+/v8/Pz6+vr5+fn////39/f////////////+/v7////////////////////////////////////9/f38/Pz////8/Pz////////////////////////////+/v7///9Hklv5AAAAOXRSTlMAAv0L+fK0nzsYB0tGQBD15d7Uy7+8pJN+bjcyKyMfBe/ZuK6okIaBWC/r58bEqp1zZFlSiXh0Z2WofbqXAAABSklEQVQ4y5WR6ZKCMBCEMyByIyiiyOV638e617z/iy0hhiNI1e73gxqqOzPJNPkfoK3Vyaxbj/sS5gR6x/GbggwvfaXrYywZym1dc7FGAKJ+H2Ad6SGMn0rY5E1u6OumKq1sGer6pqn3dqB9qFsr44Zvof+VsImeyfRUEQbEcY9VA7bUq3i/auSK6o4iGPpkycsRNVjYMgS8XFLDu2iYO3be1Avzz7QyjNVB2cEguq0ZTp5NRA0JUkJIA6l4g2rsx6Flblx6hYIzUk427Ncjr2+CdeTvfe4hUdjvwjIIkHTS47NUvm57joyD749KGc9VXvEQ2/hydCktMu9bsXK0A30QZ3ZqBroFk15tX8v8UZsznMFX0TMiNbKdL7G07kayKCo3Iw0g+Zmonxro2+dab+Q1F2Qssg6DfmRZyqSLyM1DnQLpRg93Dvkbv/6jZh1PGQtHAAAAAElFTkSuQmCC");
            background-size: 100% 100%;
            background-repeat: no-repeat;
            position: absolute;
            width: 50px;
            height: 50px;
        }

        .punchkey::after {
            content: "";
            width: 50px;
            height: 50px;
            display: block;
            position: absolute;
            top: 5px;
            left: 20px;
        }

        .punch_icon {
            background-size: 90%;
            background-repeat: no-repeat;
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            top: 1px;
            left: 112px;
        }

        .bomb_num {
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            color: white;
            top: 0;
            left: 16px;
            font-size: 15px;
        }

        .fire_icon {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHHSURBVDhPlZJLL0NhEIbPOSipIm5JaVwSRCVEY2/jD9hJRCLBxsZGxMrOhqXLxsYP8CP4Cy6NSkpUWrXRqksiglPPe/q1lJCY5OnMOzPfdM75jvWXua47A1NG/s/y+fwwhxOQJo6Y9A+zjS8zDjTCAUi6dsFG4clr+GLeABrHYFWhNKYBlfgYKBfmsPIZ/WAOegX2HZM4hX4O+cCGHPoSriAhyGVNzYfugzh8PgLPekbxjlD/+qiU4zjJQsntxFdAALRNE7UBYqu4gewY/FBJQ4qGQ2JtkSA+IqdhGqKeKHjmDeCfa3AhoM+uwmtNbXMOF5CFKlPT1iG2Uk9pg3WGBPFJ/DWNt8Qv8A5vipWjljY9regNYsth0ixMEKdJ3itHQzO+zdAur0OqwQPccGYcpnUdHUDOCtHUiw/ju/EN0APKNZDrUs3oEGde8R3F76AFt4CfgxzFE3ScWG8daetWetFDxPWwi97GZ0rXKKNhkrXWCPXWc2gNJvSev444wo0so/fUL/s+IAhR0LdQDd4A0Et95qC+gRFIoT0rGyBjgxgD/DS5yB38K3oefMSPbDBY6PzFGLAJSxyoNSltFiC3CFsmZcyyPgDjJP3kcu8NzQAAAABJRU5ErkJggg==");
            background-size: 95%;
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            top: 0.5px;
            left: 32px;
        }

        .fire_num {
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            color: white;
            top: 0;
            left: 48px;
            font-size: 15px;
        }

        .speed_icon {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAaCAMAAADhRa4NAAAAmVBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VHQRUAAAAMnRSTlMA598vIBzvgI/sDwvPK9eoW0AmGffyzMbDtrChclNQMxMC29K9mZaJhHhkT0g94shtIirZwbIAAAERSURBVCjPfdLpdoIwEAXgBDAUBdl3qeCu1S73/R+uIRCgJfr9muOdY4ZMyIzx1rnwytLJXGh2NlsGvJMXbFg3WS8V+Qr4kLVPRYfu1b7WykVDBKfPmy94fLgigk50QfxMse0bKiApjgzAgkzsZEO4Q49OcwfyiBwSc5qguh5d97wgvgarm93HBJOFHYH1H2FC7SBv0YWa0efBJ9ROsuHZP6xJr9xDySKDjQaV0lituk3dbKjF7U2UKcNzaUViTNinzAJH6TiJF2N9OHuPfZvX4siaH3038ywDkPC9B2JQAOsf8pd+TU25OgYwfrdGZ/a6LgnP77wqNOH/W3XA85cP+NumDyItF4NwbGnGMqQDvo9fPWpEUMI/jJ0AAAAASUVORK5CYII=");
            background-size: 95%;
            background-repeat: no-repeat;
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            top: 1px;
            left: 62px;
        }

        .speed_num {
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            color: white;
            top: 0px;
            left: 80px;
            font-size: 15px;
        }

        .kick_icon {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAQCAMAAAARSr4IAAAAWlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////9ZMre9AAAAHXRSTlMA73D128+QZD4Q5t+/rEAgyK6hiYWAfFxQSzowKBuYkmQAAABuSURBVAjXVc8JDoAgDATAVhDxvm/7/2/KVkN0EwhDSmhJk9EvyU+bpxg/pbaJalhEyshOkPfxRUZZq7ylUumglZkyiE/8ZoTDXphqD1pwjaKZuT8cqiw44FSElbZgK0/q/J1ANcZeHCrzz0imUt0uqQgsOEUP2gAAAABJRU5ErkJggg==");
            background-size: 90%;
            background-repeat: no-repeat;
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            top: 0;
            left: 96px;
        }



        .powerglove_icon {
            background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAgCAMAAADUt/MJAAABUFBMVEUAAAD///+Xl5fx8fH////////8/Pz9/f3l5eXk5OSRkZHKysrz8/Pw8PD7+/vq6urx8fHW1tbp6enNzc3v7++NjY3///+3t7fo6Oj8/Pzq6urw8PDh4eHa2trm5ub8/Pzs7Oz5+fnz8/PGxsb////s7Oz6+vro6Oj////09PSLi4vY2NjPz8/7+/vl5eXR0dGvr6+UlJSdnZ2VlZW6urqvr6/t7e319fXh4eH8/Pz39/fp6enh4eH19fXY2Nj09PTk5OTNzc24uLj29vbu7u7n5+fa2trOzs6/v7/x8fHf39/Q0NC+vr7t7e3h4eGzs7PU1NTMzMz09PTa2tq5ubmRkZFkZGT////39/fPz8+/v7+fn5+Li4v19fXj4+O+vr51dXVKSkp6enqioqIzMzNxcXHz8/NMTEwoKCgQEBD////6+vr8/Pz29vbw8PDq6uoD0wSfAAAAanRSTlMA7yjfrxDvj49wQSjv78/Pn4+AYEA9MCjv39+/v7+vn5+AgIBwcG5gUFBGQEAwMDAwMCAYExAN7+/k4t/fz8+/v7+/r6+vn5+fj4+Pj4CAgHBwYGBgYGBaUFBQUFBAQEBAQDAoKCQgIBAQEYUHFwAAAVdJREFUKM+V0tVywkAUgOGkCRFC8eJQKF5c6+7u7t6eAH3/u26T3Q0M5aL/RTZzvsxkzswy/8100RxIYyZmUM7q33PRMluK9Y/r+ZRUUcH+kHP3/cQHAHIEVD461UseDn5jPRJ6TvbQjQA4sZLOnpe7qDkNpDYX9rPCh2EpSja3S37O8mFKLywWNn45jA7hOvSOqbEPuJM1/E3xSCdzbAVTIAO44JNGZ4LM4UnICaR7zayQJJYJULNo1oLEAh64VaDJiD5Z4EXQS1sM8yGrArAlstwVGOURooWOZ0DPcWAYj8wFMGEG3PKdgXWEp36IHAJud5SaV78E4IjjQeexx1CbsOSZBy37BjGF0VuF4eSttGi1BndMKrYRbF82gBa/tZfYnhMlargGB7hWsU2MVO4QjDr008zQcsTUQpsYzUXQvq4d40xXdO3CNzXaEMqrKEqthl7eXn8A3QqvQZQJ34oAAAAASUVORK5CYII=");
            background-size: 85%;
            background-repeat: no-repeat;
            width: 16px;
            height: 16px;
            display: block;
            position: absolute;
            top: 0px;
            left: 129px;
        }
        -->
    </style>

</head>

<body onselectstart="return false" oncontextmenu="return false">

    <!-- ～～～～～～～～～～　ドラムロールとそのダイアログ　～～～～～～～～～～-->
    <div class="dialog" id="drumroll_dialog" style="position:absolute;display:none;top:175px;z-index:20;">
        <div id="drumroll" style="position:absolute;top:10px;left:9px;"></div>
        <div id="drum_bar" style="position:absolute;border:solid 1px;border-color:blue transparent;left:9px;"></div>
        <div class="btn" id="roll_cancel" style="position:absolute;left:20px;bottom:15px;width:45px">Cancel</div>
        <div class="btn" id="roll_confirm" style="position:absolute;right:20px;bottom:15px;width:45px">OK</div>
    </div>

    <!-- ～～～～～～～～～～　ヘルプとそのダイアログ　～～～～～～～～～～-->
    <div class="dialog" id="help_dialog"
        style="position:absolute;display:none;top:175px;left:75px;top:155px;width:250px;height:200px;z-index:25;">
        <div id="help_message" style="position:absolute;left:15px;top:10px;width:220px;text-align:left"></div>
        <div class="btn" id="help_confirm" style="position:absolute;right:20px;bottom:15px;width:45px">OK</div>
    </div>

    <div id="whole">
        <div style="position:absolute;bottom:0px;height:250px;width:100%;overflow:hidden;z-index:2">
            <div id="err_layer" style="position:absolute;"></div>
        </div>
        <!-- ～～～～～～～～～～　フィールド　～～～～～～～～～～-->
        <div id="field_layer" style="position:absolute;top:0;left:0;display:none;width:100%;height:100%;z-index: 1;">
        </div>
        <!-- ～～～～～～～～～～　アイコン　～～～～～～～～～～-->
        <div id="icon_layer" style="position:absolute;top:433px;left:230px;display:none;z-index: 2;">
            <div id="bomb_icon" class="bomb_icon"></div>
            <div id="bomb_num" class="bomb_num"></div>
            <div id="fire_icon" class="fire_icon"></div>
            <div id="fire_num" class="fire_num"></div>
            <div id="speed_icon" class="speed_icon"></div>
            <div id="speed_num" class="speed_num"></div>
            <div id="kick_icon" class="kick_icon"></div>
            <div id="punch_icon" class="punch_icon"></div>
            <div id="powerglove_icon" class="powerglove_icon"></div>
        </div>
        <!-- ～～～～～～～～～～　Hurry! フィールド　～～～～～～～～～～-->
        <div id="hurry_layer"
            style="position:absolute;top:180px;left:110px;display:none;width:100%;height:100%;font-size:70px;color:white;opacity:0.5;z-index:2;">
            Hurry!
        </div>
        <!-- ～～～～～～～～～～　タッチエリア　～～～～～～～～～～-->
        <div id="touch_area" style="position:absolute;height:100%;width:100%;display:block;z-index:3;"></div>

        <!-- ～～～～～～～～～～　コントローラーレイヤー　～～～～～～～～～～-->
        <div id="controller"
            style="position: absolute;bottom:0;left:0;width:400px;height:124px;display:none;z-index: 4;">
            <div id="left_key" class="arrow Left" style="position: absolute;display:inline-block;left:0;bottom:32px;">
            </div>
            <div id="right_key" class="arrow Right"
                style="position: absolute;display:inline-block;left:154px;bottom: 32px;"></div>
            <div id="up_key" class="arrow up" style="position:absolute;display:inline-block;left:77px;bottom:64px;">
            </div>
            <div id="down_key" class="arrow Down"
                style="position: absolute;display:inline-block;left:77px;bottom: 2px;"></div>
            <div id="bomb_key" class="arrow bombkey"
                style="position: absolute;display: inline-block;right:20px;bottom:64px;width:90px;"></div>
            <div id="punch_key" class="arrow punchkey"
                style="position: absolute;display: inline-block;right:20px;bottom:0px;width:90px;display:none;">
            </div>
        </div>

        <!-- ～～～～～～～～～～　コントローラー変更ボタン　～～～～～～～～～～-->
        <div class="grey_btn" id="controller_change" style="position:absolute;left:210px;bottom:0px;z-index:4"></div>
        <!-- ～～～～～～～～～～　デバッグボタンとアイテム説明ボタン　～～～～～～～～～～-->
        <div class="grey_btn" id="debug_button" style="position:absolute;right:0px;top:0px;z-index:4">Debug</div>
        <div id="item_help2" class="grey_btn"
            style="position:absolute;display:none;font-size:10px;left:240px;top:410px;z-index:4">&nbsp;アイテム説明&nbsp;
        </div>

        <!-- ～～～～～～～～～～　スライドコントローラー　～～～～～～～～～～-->
        <div id="slide_controller" style="position:absolute;width:100%;height:100%;display:block;z-index:2;">
            <div id="slidepadback"
                style="position:absolute;display:block;left:30px;bottom:50px;width:100px;height:100px;border-radius:50%;border:2px solid white;opacity:0.3;">
            </div>
            <div id="slidepad"
                style="position:absolute;display:block;left:57px;bottom:77px;width:0px;height:0px;border-radius:50%;border:25px solid white;opacity:0.3;">
            </div>
        </div>

        <!-- ～～～～～～～～～～　ボムボタン　～～～～～～～～～～-->
        <div id="bomb_button"
            style="position:absolute;left:300px;bottom:60px;width:80px;height:80px;border-radius:50%;border:2px solid white;opacity:0.5;z-index:4;">
            <div class="bomb_button"></div>
        </div>

        <!-- ～～～～～～～～～～　パンチボタン　～～～～～～～～～～-->
        <div id="punch_button"
            style="position:absolute;left:215px;bottom:60px;width:80px;height:80px;border-radius:50%;border:2px solid white;opacity:0.5;display:none;z-index:4;">
            <div class="punch" style="left:15px;top:15px;"></div>
        </div>

        <!-- ～～～～～～～～～～　フェイドレイヤー1　～～～～～～～～～～-->
        <div id="fade_layer"
            style="position:absolute;width:100%;height:100%;background-color:black;opacity:0.5;display:none;z-index:5;">
            <div style="position:absolute;display:block;left:150px;top:200px;color:white;font-size:20px">Wait...
            </div>
        </div>

        <!-- ～～～～～～～～～～　フェイドレイヤー2　～～～～～～～～～～-->
        <div id="fade_layer2"
            style="position:absolute;width:100%;height:100%;background-color:black;opacity: 0.5;display:none;z-index:8;">
        </div>

        <!-- ～～～～～～～～～～　ダイアログレイヤー　～～～～～～～～～～-->
        <div id="dialogLayer" style="position:absolute;z-index:7">



            <!-- ～～～～～～～～～～　ゲームオーバーダイアログ　～～～～～～～～～～-->
            <div class="dialog" id="end_dialog"
                style="position:relative;display:none;left:50px;top:50px;width:300px;height:360px;z-index:1">
                <div id="end_message" style="position:absolute;top:10px;left:30px;font-size:25px;font-weight: bold;">
                    あなたの順位は...</div>
                <div id="ranking0"
                    style="position:absolute;left:80px;top:55px;height:50px;width:130px;display:block;font-size:20px;">
                </div>
                <div id="ranking1"
                    style="position:absolute;left:80px;top:105px;height:50px;width:130px;display:block;font-size:20px;">
                </div>
                <div id="ranking2"
                    style="position:absolute;left:80px;top:155px;height:50px;width:130px;display:block;font-size:20px;">
                </div>
                <div id="ranking3"
                    style="position:absolute;left:80px;top:205px;height:50px;width:130px;display:block;font-size:20px;">
                </div>
                <div id="ranking4"
                    style="position:absolute;left:80px;top:255px;height:50px;width:130px;display:block;font-size:20px;">
                </div>

                <br>
                <div class="btn" id="end" style="position:absolute;left:130px;bottom:10px">&nbsp;&nbsp;終了&nbsp;&nbsp;
                </div>
            </div>


            <!-- ～～～～～～～～～～　タイトルダイアログ　～～～～～～～～～～-->
            <div id="title" class="dialog" style="left:50px;top:50px;width:300px;height:400px;">
                <div class="titlems">Bomber Nyan</div>
                <div id="code_help" class="grey_btn" style="position:absolute;left:85px;top:143px;">&nbsp;?&nbsp;
                </div>
                <div style="position:absolute;top:145px;left:115px">
                    対戦コード:
                </div>
                <div id="battle_code_input_num" class="chara_outer_frame" style="top:170px;left:35px;">
                    <div class="chara_inner_frame" id="battle_code0"></div>
                    <div class="chara_inner_frame" id="battle_code1"></div>
                    <div class="chara_inner_frame" id="battle_code2"></div>
                    <div class="chara_inner_frame" id="battle_code3"></div>
                    <div class="chara_inner_frame" id="battle_code4"></div>
                </div>
                <div class="btn" id="battle_code_input" style="position:absolute;top:175px;left:235px;">
                    変更
                </div>
                <div style="position:absolute;top:220px;left:10px">他Playerと同じ数値を入力してください<br>(好きな数値を決めてください)</div>
                <div class="btn" id="user_wait" style="position:absolute;left:115px;top:350px;font-size:20px">
                    &nbsp;&nbsp;Start&nbsp;&nbsp;
                </div>
            </div>

            <!-- ～～～～～～～～～～　ニックネーム入力ダイアログ　～～～～～～～～～～-->
            <div id="nickname_dialog" class=" dialog" style="left:50px;top:40px;width:300px;height:440px;">
                <div id="player_help" class="grey_btn" style="position:absolute;left:30px;top:23px;">&nbsp;?&nbsp;</div>
                <div style="position:absolute;top:25px;left:60px">ニックネーム:</div>
                <div id="user_name_input_num" class="chara_outer_frame" style="top:55px;left:30px;">
                    <div class="chara_inner_frame" id="user_name0"></div>
                    <div class="chara_inner_frame" id="user_name1"></div>
                    <div class="chara_inner_frame" id="user_name2"></div>
                </div>
                <div class="btn" id="user_name_input" style="position:absolute;top:55px;left:150px;">変更</div>

                <div style="position:absolute;top:10px;left:225px">ねこ:</div>
                <div style="position:absolute;top:90px;left:195px;">変更はねこを<br>タップ</div>

                <div id="player_kind0"
                    style="position:absolute;top:35px;left:215px;width:50px;height:50px;border:0.5px solid black">
                </div>

                <div id="stage_help" class="grey_btn" style="position:absolute;left:120px;top:118px;">&nbsp;?&nbsp;
                </div>
                <div style="position:absolute;top:120px;left:20px">ステージ選択</div>
                <div id="item_help1" class="grey_btn" style="position:absolute;left:115px;top:352px;font-size:10px;">
                    &nbsp;アイテム説明&nbsp;
                </div>
                <div id="stagescroll"
                    style="position:absolute;width:270px;height:200px;top:145px;left:15px;display:none;overflow:hidden;border:1px solid black;z-index:21;">
                    <div id="stage_roll" style="position:absolute;"></div>
                    <div id="stage_bar"
                        style="position:absolute;top:-1px;left:60px;width:150px;height:200px;border:1px solid blue;z-index:1000;">
                    </div>
                </div>
                <div class="btn" id="stage_left" style="position:absolute;left:15px;top:350px;width:40px">&lt;</div>
                <div class="btn" id="stage_right" style="position:absolute;right:15px;top:350px;width:40px">&gt;
                </div>
                <div class="btn" id="stage_cancel" style="position:absolute;left:20px;bottom:15px;">
                    &nbsp;&nbsp;Cancel&nbsp;&nbsp;</div>
                <div class="btn" id="stage_confirm" style="position:absolute;right:20px;bottom:15px;width:100px">参加者待ちへ
                </div>

            </div>

            <!-- ～～～～～～～～～～　参加者待ちダイアログ　～～～～～～～～～～-->
            <div class="dialog" id="join_dialog"
                style="position:relative;display:none;left:50px;top:50px;width:300px;height:330px;font-size:25px;font-weight:bold;">
                <div style="position:relative;top:20px;margin:auto;">参加者：</div><br>
                <div id="enemy_names0"
                    style="position:absolute;left:15px;top:70px;width:120px;height:50px;display:block;font-size:20px;">
                </div>
                <div id="enemy_names2"
                    style="position:absolute;left:165px;top:70px;width:120px;height:50px;display:block;font-size:20px;">
                </div>
                <div id="enemy_names3"
                    style="position:absolute;left:15px;top:180px;width:120px;height:50px;display:block;font-size:20px;">
                </div>
                <div id="enemy_names1"
                    style="position:absolute;left:165px;top:180px;width:120px;height:50px;display:block;font-size:20px;">
                </div>
                <div id="enemy_names4"
                    style="position:absolute;left:95px;top:125px;width:120px;height:50px;display:block;font-size:20px;">
                </div>
                <br>
                <div class="btn" id="decline" style="position:absolute;left:20px;bottom:20px;font-size:15px">
                    &nbsp;&nbsp;Cancel&nbsp;&nbsp;
                </div>
                <div style="position:absolute;right:15px;bottom:50px;font-size:15px">参加者がそろったら</div>
                <div class="btn" id="join" style="position:absolute;right:20px;bottom:20px;font-size:15px">
                    &nbsp;&nbsp;スタート&nbsp;&nbsp;
                </div>
            </div>

            <!-- ～～～～～～～～～～　スタート待ちのダイアログ　～～～～～～～～～～-->
            <div class="dialog" id="wait_dialog"
                style="position:absolute;display:none;top:175px;left:125px;top:155px;width:150px;height:100px;z-index:2;">
                <div id="help_message" style="position:absolute;left:15px;top:10px;text-align:center">
                    他の参加者待ち</div>
                <div class="grey_btn" id="start_cancel" style="position:absolute;left:45px;bottom:15px;width:60px">
                    Cancel
                </div>
            </div>

            <!-- ～～～～～～～～～～　ポーズダイアログ　～～～～～～～～～～-->
            <div id="pause" class="dialog" style="left:50px;top:60px;width:300px;height:350px">
                <br>
                <div style="font-size:35px;font-weight:bold;">Pause !!</div><br>
                <div class="btn" id="controllerSwitch">&nbsp;コントローラー&nbsp;<br>&nbsp;&nbsp;on/off&nbsp;</div>
                <br><br><br><br>
                <div class="btn" id="TouchSwitch">&nbsp;タッチ操作&nbsp;<br>&nbsp;&nbsp;on/off&nbsp;</div>
                <br><br><br><br>
                <div class="btn" id="Pause_end">&nbsp;&nbsp;もどる&nbsp;&nbsp;</div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>

    <script>
        window.onerror = function (message, fileName, lineNumber, columnNumber, error) {
            err_ms(message + " " + lineNumber + " " + columnNumber);
            return false;
        }
        function err_ms(ms) {
            document.getElementById("err_layer").innerHTML += ms + "<br>";
            let height = parseInt(document.getElementById("err_layer").clientHeight);
            if (height > 250) {
                document.getElementById("err_layer").style.top = String(-height + 250) + "px"
            }
        }

        var url;
        if (location.href == "https://bomber-nyan.netlify.app/") {
            url = "https://battletetris.mydns.jp/bomber";
        } else {
            url = "https://battletetris.mydns.jp/bomber";
        }
        console.log(url)

        var socket = io("/bomber");

        stage_roll = {
            display: function (width, num, callback) {
                let scrollstart_x, scrollmove_x;
                this.scroll_size = width;
                this.scroll_offset = -width + 55;
                this.move_x = this.scroll_offset;
                this.scroll_max = Math.floor(((-width * num - this.scroll_offset * 2) + (this.scroll_size) / 2) / (this.scroll_size)) * (this.scroll_size) + this.scroll_offset;
                this.callback = callback;
                document.getElementById("stage_roll").style.left = this.scroll_offset + "px"
                document.getElementById("nickname_dialog").addEventListener('touchstart', function (event) {
                    event.preventDefault();
                }, { passive: false });
                document.getElementById("stagescroll").style.display = "block";

                document.getElementById("stagescroll").addEventListener('touchstart', function (event) {
                    scrollstart_x = event.targetTouches[0].pageX;
                }, { passive: false });
                document.getElementById("stagescroll").addEventListener('touchmove', function (event) {
                    scrollmove_x = event.targetTouches[0].pageX;
                    this.move_x += scrollmove_x - scrollstart_x
                    scrollstart_x = scrollmove_x
                    if (this.move_x > this.scroll_offset) {
                        this.move_x = this.scroll_offset;
                    } else if (this.move_x < this.scroll_max) {
                        this.move_x = this.scroll_max;
                    }
                    document.getElementById("stage_roll").style.left = this.move_x + "px";
                }.bind(this), { passive: false });
                document.getElementById("stagescroll").addEventListener('touchend', function (event) {
                    this.scroll(0);
                }.bind(this), { passive: false });

            },
            scroll: function (offset) {
                this.move_x += offset
                if (this.move_x > this.scroll_offset) {
                    this.move_x = this.scroll_offset;
                } else if (this.move_x < this.scroll_max) {
                    this.move_x = this.scroll_max;
                }
                this.move_x = Math.floor(((this.move_x - this.scroll_offset) + (this.scroll_size) / 2) / (this.scroll_size)) * (this.scroll_size) + this.scroll_offset;
                document.getElementById("stage_roll").style.left = this.move_x + "px";
            },

            confirm: function () {
                let a = -this.move_x;
                let b = parseInt((a - this.scroll_offset + (this.scroll_size) / 2) / (this.scroll_size)) - 1
                document.getElementById("stagescroll").style.display = "none";
                document.getElementById("nickname_dialog").style.display = "none";
                this.callback(b)
            }
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～～　ドラムロールで文字入力　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        document.getElementById("drumroll_dialog").addEventListener('touchstart', function (event) {
            event.preventDefault();
        }, { passive: false });

        drumroll = {
            display: function (characters, length, width, height, initial_value, callback) {
                this.click_F = false;
                this.timeoutID = 0;
                this.scroll_size = height + 1;
                this.timeoutID = 0;
                this.scroll_offset = -this.scroll_size * 1.5;
                this.characters = characters;
                this.length = length;
                this.scroll_max = Math.floor((-this.scroll_size * (characters.length + 1) - this.scroll_offset + this.scroll_size / 2) / this.scroll_size) * this.scroll_size + this.scroll_offset;
                this.callback = callback;
                document.getElementById("fade_layer2").style.display = "block";
                drums = "";
                for (let i = 0; i < length; i++) {
                    let div_tag = '<div style="display:block;width:' + String(width) + 'px;height:' + String(height + 1) + 'px">'
                    let char_roll = '<div id="roll' + String(i) + '" style="position:absolute;">';
                    char_roll += Array(3 + 1).join(div_tag + '</div>');
                    for (let j = 0; j < characters.length; j++) {
                        char_roll += div_tag + characters.substr(j, 1) + "</div>";
                    }
                    char_roll += Array(2).join(div_tag + '</div>') + '</div>'
                    drums += '<div class="drum" style="display:block;left:' + String(i * width) + 'px;width:' + String(width) + 'px;height:' + String(this.scroll_size * 4) + 'px;font-size:' + String(height) + 'px"><b>'
                    drums += char_roll
                    drums += "</b></div>"
                }
                document.getElementById("drumroll").innerHTML = drums;
                document.getElementById("drumroll").style.display = "block";
                document.getElementById("drumroll_dialog").style.height = String(this.scroll_size * 4 + 80) + "px";
                document.getElementById("drumroll_dialog").style.display = "block";
                document.getElementById("drumroll_dialog").style.left = String(200 - (width * length) / 2 - 10) + "px"
                document.getElementById("drumroll_dialog").style.width = String((width * length) + 20) + "px"
                document.getElementById("drumroll_dialog").style.top = String(100 - this.scroll_offset) + "px"
                document.getElementById("drum_bar").style.width = String((width * length)) + "px"
                document.getElementById("drum_bar").style.top = String(-this.scroll_offset + 11) + "px"
                document.getElementById("drum_bar").style.height = String(this.scroll_size) + "px"
                for (let i = 0; i < length; i++) {
                    document.getElementById("roll" + String(i)).style.top = -characters.indexOf(initial_value.substr(i, 1)) * this.scroll_size + this.scroll_offset + "px"
                }

                for (let i = 0; i < length; i++) {
                    let touchstart_y, touchmove_y, speed, timeoutID;
                    let scroll_y = parseInt(document.getElementById("roll" + String(i)).style.top);
                    let click_F = false;

                    this.clickstart("roll" + String(i), (y, mouse_F) => {
                        touchstart_y = y;
                        click_F = mouse_F;
                    });
                    this.clickmove("roll" + String(i), (y, mouse_F) => {
                        if ( (click_F && mouse_F) || (click_F == false && mouse_F == false)) {
                            touchmove_y = y;
                            speed = touchmove_y - touchstart_y
                            scroll_y += speed;
                            touchstart_y = touchmove_y;
                            if (scroll_y > this.scroll_offset) {
                                scroll_y = this.scroll_offset;
                            } else if (scroll_y < this.scroll_max) {
                                scroll_y = this.scroll_max;
                            }
                            document.getElementById("roll" + String(i)).style.top = scroll_y + "px";
                        }
                    });
                    this.clickend("roll" + String(i), (mouse_F) => {
                        if ((click_F && mouse_F) || (click_F == false && mouse_F == false)) {
                            click_F = false;
                            let afterscroll = speed => {
                                scroll_y += speed;
                                document.getElementById("roll" + String(i)).style.top = scroll_y + "px";
                                speed = speed * 0.97;
                                if (scroll_y > this.scroll_offset) {
                                    scroll_y = this.scroll_offset;
                                    speed = 0;
                                } else if (scroll_y < this.scroll_max) {
                                    scroll_y = this.scroll_max;
                                    speed = 0;
                                }
                                if (speed > 1 || speed < -1) {
                                    timeoutID = setTimeout(() => { afterscroll(speed) }, 10)
                                } else {
                                    scroll_y = Math.floor(((scroll_y - this.scroll_offset) + (this.scroll_size) / 2) / (this.scroll_size)) * (this.scroll_size) + this.scroll_offset;
                                    document.getElementById("roll" + String(i)).style.top = scroll_y + "px";
                                }
                            }
                            afterscroll(speed);
                        }
                    });
                }
                this.callback = callback
            },
            clickstart: function (id, callback) {
                clearTimeout(this.timeoutID);
                document.getElementById(id).addEventListener('touchstart', event => {
                    callback(event.targetTouches[0].pageY, false);
                }, { passive: false })
                document.getElementById(id).onmousedown = event => {
                    callback(event.clientY, true);
                }
            },
            clickmove: function (id, callback) {
                document.getElementById(id).addEventListener('touchmove', event => {
                    callback(event.targetTouches[0].pageY,false);
                }, { passive: false })
                document.getElementById(id).onmousemove = event => {
                    callback(event.clientY, true);
                }
            },
            clickend: function (id, callback) {
                document.getElementById(id).addEventListener('touchend', () => {
                    callback(false);
                }, { passive: false })
                document.getElementById(id).onmouseup = () => {
                    callback(true);
                }
                document.getElementById(id).onmouseout = () => {
                    callback(true);
                }
            },

            confirm: function () {
                let score_name = [];
                for (let i = 0; i < this.length; i++) {
                    let a = -parseInt(document.getElementById("roll" + String(i)).style.top);
                    let b = Math.floor((a + this.scroll_offset + 0.999) / this.scroll_size);
                    score_name[i] = this.characters.substr(b, 1);
                }
                document.getElementById("fade_layer2").style.display = "none";
                document.getElementById("drumroll").style.display = "none";
                document.getElementById("drumroll_dialog").style.display = "none";
                this.callback(score_name)

            },
            cancel: function () {
                document.getElementById("fade_layer2").style.display = "none";
                document.getElementById("drumroll").style.display = "none";
                document.getElementById("drumroll_dialog").style.display = "none";
                this.callback(null);
            }

        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　タイトル画面のヘルプ表示　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        display_help = {
            display: function (message) {
                document.getElementById("fade_layer2").style.display = "block";
                document.getElementById("help_dialog").addEventListener('touchstart', function (event) {
                    event.preventDefault();
                }, { passive: false });
                document.getElementById("help_message").innerHTML = message;
                document.getElementById("help_dialog").style.display = "block";
                let height = document.getElementById("help_message").clientHeight
                document.getElementById("help_dialog").style.height = (height + 60) + "px";
                document.getElementById("help_dialog").style.top = 230 - (height / 2 + 30) + "px"
                document.getElementById("help_dialog").style.display = "block";
            },
            confirm: function () {
                document.getElementById("fade_layer2").style.display = "none";
                document.getElementById("help_dialog").style.display = "none";
            }
        }

        button_set("code_help", function () { display_help.display("同じ数値を入力したPlayerと対戦できます。初期値はランダムですが2回目から前回のコードが表示されます。(数値は何でもかまいません)") });
        button_set("player_help", function () { display_help.display("他のPlayerの画面にこの名前が表示されます。(他のPlayerと同じ名前でも対戦できます)") });
        button_set("stage_help", function () { display_help.display("ステージを選択してください。参加者の中でステージが一致しない場合は、選ばれたステージの中からランダムで決まります。") });
        item_help = '<table><tr><td class="block1" style="display:inline-block;width:25px;height:25px;"></td><td>爆風1マス延長。</td></tr><tr><td class="block2" style="display:inline-block;width:25px;height:25px;"></td><td>爆弾置ける数が1個増加。</td></tr><tr><td class="block3" style="display:inline-block;width:25px;height:25px;"></td><td>移動が早くなる。</td></tr><tr><td class="block4" style="display:inline-block;width:25px;height:25px;"></td><td>爆弾おすと爆弾が移動。</td></tr><tr><td class="block5" style="display:inline-block;width:25px;height:25px;"></td><td>パンチボタンで爆弾3マス飛ぶ。</td></tr><tr><td class="block6" style="display:inline-block;width:25px;height:25px;"></td><td>爆弾ボタン押し続けると爆弾を持って,離すと5マス飛ぶ (持っている間は爆発しない)。</td></tr></table>'
        button_set("item_help1", function () { display_help.display(item_help) });
        button_set("item_help2", function () { display_help.display(item_help) });
        button_set("help_confirm", function () { display_help.confirm() });
        button_set("start_cancel", function () { start_cancel() });
        button_set("decline", function () { start_cancel(); });
        button_set("user_wait", function () { user_wait() });
        button_set("join", function () { start() });
        button_set("stage_right", function () { stage_roll.scroll(-stage_roll.scroll_size) });
        button_set("stage_left", function () { stage_roll.scroll(stage_roll.scroll_size) });
        button_set("stage_confirm", function () { stage_roll.confirm() });
        button_set("stage_cancel", function () { location.reload() });


        button_set("battle_code_input", function () { get_battle_code() });
        button_set("battle_code_input_num", function () { get_battle_code() });
        button_set("user_name_input", function () { get_user_name() });
        button_set("user_name_input_num", function () { get_user_name() });
        button_set("player_kind0", function () { get_player_kind() });
        button_set("roll_confirm", function () { drumroll.confirm() });
        button_set("roll_cancel", function () { drumroll.cancel() });
        button_set("end", function () { location.reload() });
        button_set("controller_change", function () { controller_display = (controller_display == "block" ? "none" : "block"); controller_change(controller_display == "block") });
        button_set("debug_button", function () { debug_F = (debug_F ? false : true); localStorage.setItem(game_name + "debug_F", (debug_F ? "true" : "false")); Field.refresh_field() });

        active_button_set("left_key", function () { keyboard(37) }, function () { keyboardup(37) })
        active_button_set("right_key", function () { keyboard(39) }, function () { keyboardup(39) })
        active_button_set("up_key", function () { keyboard(38) }, function () { keyboardup(38) })
        active_button_set("down_key", function () { keyboard(40) }, function () { keyboardup(40) })
        active_button_set("bomb_key", function () { keyboard(32) }, function () { keyboardup(32) });
        active_button_set("bomb_button", function () { keyboard(32) }, function () { keyboardup(32) });
        active_button_set("punch_key", function () { keyboard(78) }, function () { keyboardup(78) });
        active_button_set("punch_button", function () { keyboard(78) }, function () { keyboardup(78) });


        function insert_chara(id, characters) {
            for (let i = 0; i < characters.length; i++) {
                document.getElementById(id + String(i)).innerHTML = characters.substr(i, 1)
            }
        }

        function get_battle_code() {
            drumroll.display("0123456789", 5, 50, 25, battle_code, function (input) {
                if (input != null) {
                    battle_code = input.join("");
                    insert_chara("battle_code", battle_code)
                    localStorage.setItem(game_name + "battle_code", battle_code);
                }
            })
        }

        function get_user_name() {
            drumroll.display("ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789._", 3, 80, 30, user_name, function (input) {
                if (input != null) {
                    user_name = input.join("");
                    insert_chara("user_name", user_name)
                    localStorage.setItem(game_name + "user_name", user_name);
                }
            })
        }

        function get_player_kind() {
            let players = '<div style="position:relative;width:130px;height:50px"></div>'
            players = players + players + players;
            for (let i = 0; i < 12; i++) {
                players += '<div class="player' + "0123456789AB".substr(i, 1) + '" style="position:relative;left:40px;width:50px;height:50px"></div>'
            }
            players += '<div style="position:relative;width:130px;height:50px"></div>'
            drumroll.display("0123456789AB", 1, 130, 49, player_kind, function (input) {
                if (input != null) {
                    player_kind = input.join("");
                    document.getElementById("player_kind0").innerHTML = '<div class="player' + player_kind + '" style="position:absolute;top:-5px;left:0px;display:block;width:50px;height:50px;"></div>'
                    localStorage.setItem(game_name + "player_kind", player_kind);
                }
            })
            document.getElementById("roll0").innerHTML = players;
        }

        function user_wait() {
            document.getElementById("title").style.display = "none"
            document.getElementById("nickname_dialog").style.display = "block"

            for (let i = 0; i < field_data.length; i++) {
                let stage_data = JSON.parse(JSON.stringify(field_data[i]));
                stage_data.display_size = 15;
                stage_data.block_size = 7.5;
                stage_data.background_block = "field0"
                Stages = new field("stage_roll", "select_field" + i, (i + 1) * 150 + 25, 25, stage_data);
                Stages.refresh_field();
                document.getElementById("select_field" + i).innerHTML += '<div style="position:absolute;top:145px;font-size:10px;">' + stage_data.title + '</div>';
                delete stage_data;
            }
            document.getElementById("stage_roll").innerHTML += '<div style="position:absolute;width:100px;height:1px;left:' + (field_data.length + 1) * 150 + 'px;"></div>'
            stage_roll.display(150, field_data.length, function (input) {
                get_enemy_names(input)
            })


        }

        function get_enemy_names(stage_num) {
            document.getElementById("nickname_dialog").style.display = "none"
            document.getElementById("join_dialog").style.display = "block"
            my_username = user_name + get_date()
            users = { [my_username]: { users: 1, rank: 0, stage: stage_num, player_kind: player_kind } };
            socket.emit("call", { [battle_code + "join"]: users });
            joining_F = true;
            console.log("my name", my_username)

            socket.on(battle_code + "join", function (doc) {
                if (joining_F) {
                    let write_F = false;
                    for (i in doc) {
                        if (doc[i].users == 0) {
                            delete users[i];
                            write_F = true;
                        } else if (users[i] != undefined) {
                            users[i] = doc[i];
                        } else if (Object.keys(users).length < user_num) {
                            write_F = true;
                            users[i] = doc[i];
                        }
                    }
                    users[my_username].users = Object.keys(users).length;

                    if (write_F) {
                        socket.emit("call", { [battle_code + "join"]: { [my_username]: users[my_username] } });
                    }

                    let usernames = Object.keys(users);
                    let userorder = usernames.slice().sort((a, b) => parseInt(a.slice(3)) - parseInt(b.slice(3)));
                    document.getElementById("enemy_names" + userorder.indexOf(my_username)).style.border = "1px solid black"

                    for (let i = 0; i < user_num; i++) {
                        if (i < userorder.length) {
                            let user_list = '<div class="player' + users[userorder[i]].player_kind + '" style="position:absolute;top:-5px;left:0px;display:block;width:50px;height:50px;"></div>';
                            user_list += '<div style="position:absolute;left:50px;top:0;display:block;font-size:17px;">' + userorder[i].substr(0, 3) + "&nbsp;" + '</div>'
                            user_list += '<div style="position:absolute;left:90px;top:5px;display:block;font-size:11px;">' + users[userorder[i]].users + '</div>';
                            user_list += '<div style="position:absolute;left:50px;top:17px;width:70px;text-align:left;display:block;font-size:11px;">' + field_data[users[userorder[i]].stage].title + '</div>'
                            document.getElementById("enemy_names" + i).innerHTML = user_list;
                        } else {
                            document.getElementById("enemy_names" + i).innerHTML = "";
                        }
                        if (userorder[i] == my_username) {
                            document.getElementById("enemy_names" + i).style.border = "1px solid black";
                        } else {
                            document.getElementById("enemy_names" + i).style.border = "";
                        }
                    }
                }

            });
        }

        function get_date() {
            let dt = new Date();
            return dt.toJSON().replace(/\:/g, "").replace(/\./g, "").substr(-10, 9);
        }

        function shuffle_array(array) {
            for (let i = array.length - 1; i > 0; i--) {
                let r = Math.floor(Math.random() * (i + 1));
                [array[i], array[r]] = [array[r], array[i]]
            }
            return array
        }


        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　フィールド　　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        var field = function (layer_name, field_name, position_x, position_y, original_field_data) {
            let field_data = JSON.parse(JSON.stringify(original_field_data));
            this.layer_name = layer_name;
            this.field_name = field_name;
            this.position_x = position_x - field_data.block_size;
            this.position_y = position_y - field_data.block_size;
            this.field_size_x = field_data.field_array[0].length;
            this.field_size_y = field_data.field_array.length;
            this.block_size = field_data.block_size;
            this.display_size = field_data.display_size;
            this.softblock = field_data.softblock;
            this.ground_block = field_data.ground_block;
            this.background_block = field_data.background_block;
            this.wall_block = field_data.wall_block;

            this.hurryblocks = [];
            this.hurryblocks_time_ID = [];

            /* ～～～～～～～～～～　フィールドとブロックを生成　～～～～～～～～～～ */
            this.field_array = field_data.field_array.slice();
            this.bomb_field = new Array(this.field_size_y).fill(0).map(value => new Array(this.field_size_x).fill(0));
            this.burst_field = new Array(this.field_size_y).fill(0).map(value => new Array(this.field_size_x).fill(0));

            let spaces = shuffle_array(this.get_spaceposition(0));
            for (let i = 0; i < Math.floor(spaces.length * field_data.softblock_rate); i++) {
                let [x, y] = spaces[i];
                this.field_array[y][x] = this.softblock;
            }

            let softblocks = shuffle_array(this.get_spaceposition(this.softblock));
            for (let i = 0; i < Math.min(field_data.items.length, softblocks.length); i++) {
                let [x, y] = softblocks[i];
                this.field_array[y][x] = this.softblock + field_data.items[i];
            }

            /* ～～～～～～～～～～　フィールド表示領域の生成　～～～～～～～～～～ */
            let field_tag = '<div id="' + this.field_name + '" style="position:absolute;width:' + String(this.block_size * this.field_size_x)
                + 'px; height:' + String(this.block_size * this.field_size_y + 0.5) + 'px">';
            for (let j = 0; j < this.field_size_y; j++) {
                field_tag += "";
                for (let i = 0; i < this.field_size_x; i++) {
                    field_tag += '<div id="' + this.field_name + String(i + j * this.field_size_x) + '" style="position:absolute;"></div>';
                }
            }
            field_tag += '</div>';
            document.getElementById(this.layer_name).innerHTML += field_tag;
            document.getElementById(this.layer_name).style.backgroundSize = String(this.block_size) + "px";
            document.getElementById(this.layer_name).className = this.background_block;
            document.getElementById(this.field_name).style.backgroundSize = String(this.block_size) + "px";
            document.getElementById(this.field_name).className = this.ground_block;
            document.getElementById(this.field_name).style.left = String(this.position_x) + "px";
            document.getElementById(this.field_name).style.top = String(this.position_y) + "px";
            document.getElementById(this.layer_name).style.display = "block";

        }

        field.prototype.put_array = function (x, y, block) {
            this.field_array[y][x] = block;
            this.draw_block(x, y, block);
        }

        field.prototype.put_bombfield = function (x, y, block) {
            let old_block = this.bomb_field[y][x]
            this.bomb_field[y][x] = block;
            if (debug_F) {
                if (block > 0) {
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "blockbomb";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = String(block);
                } else if (old_block > 0) {
                    this.draw_block(x, y, this.field_array[y][x]);
                }
            }

        }
        field.prototype.put_burstfield = function (x, y, block) {
            let old_block = this.burst_field[y][x]
            this.burst_field[y][x] = block;
            if (debug_F) {
                if (block > 0) {
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "blockburst";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = String(block);
                } else if (old_block > 0) {
                    this.draw_block(x, y, this.field_array[y][x]);
                }
            }
        }

        field.prototype.set_hurryblock = function (time, reverse_F) {
            let hurryblock_start = time * 1000;
            let width = Field.field_size_x - 6;
            let height = Field.field_size_y - 6;
            let left = 3;
            let top = 3;
            let right = Field.field_size_x - 4;
            let bottom = Field.field_size_y - 4;
            let x = left;
            let y = bottom + 1;
            while (left < right && top < bottom) {
                while (y > top) {
                    y -= 1;
                    this.hurryblocks.push([x, y]);
                }
                top += 1;
                while (x < right) {
                    x += 1;
                    this.hurryblocks.push([x, y]);
                }
                right -= 1;
                while (y < bottom) {
                    y += 1;
                    this.hurryblocks.push([x, y]);
                }
                bottom -= 1;
                left += 1;
                while (x > left) {
                    x -= 1;
                    this.hurryblocks.push([x, y]);
                }
            }
            for (let i = 0; i < 3; i++) {
                this.hurryblocks_time_ID.push(setTimeout(function () {
                    document.getElementById("hurry_layer").style.display = "block";
                }, hurryblock_start + i * 1000))
                this.hurryblocks_time_ID.push(setTimeout(function () {
                    document.getElementById("hurry_layer").style.display = "none";
                }, hurryblock_start + i * 1000 + 500))
            }

            if (reverse_F) {
                this.hurryblocks.reverse();
            }
            for (let i = 0; i < this.hurryblocks.length; i++) {
                this.hurryblocks_time_ID.push(setTimeout(function () {
                    this.draw_block(this.hurryblocks[i][0], this.hurryblocks[i][1], 900)
                }.bind(this), i * 400 + hurryblock_start + 3000));
                this.hurryblocks_time_ID.push(setTimeout(function () {
                    let [x, y] = this.conv_xy(player_array[0].position_x, player_array[0].position_y)
                    if (x == this.hurryblocks[i][0] && y == this.hurryblocks[i][1]) {
                        call_emit(battle_code + my_username + "end", { died: true, items: player_array[0].items, player: my_username, ghost_F: false, position: [player_array[0].position_x, player_array[0].position_y] })
                    }
                    bomb_array.forEach((value, index) => {
                        let [x, y] = value.field.conv_xy(value.position_x, value.position_y);
                        if (x == this.hurryblocks[i][0] && y == this.hurryblocks[i][1]) {
                            value.misfire();
                        }
                    })
                    this.put_array(this.hurryblocks[i][0], this.hurryblocks[i][1], this.wall_block)
                }.bind(this), i * 400 + 200 + hurryblock_start + 3000));
            }

        }

        field.prototype.draw_block = function (x, y, block_number) {
            if (y >= 0) {
                if (block_number >= 100 && block_number < 900) {  // --- 通れる地形 (平地と同じ扱い)
                    let field_tag = '<div id="' + this.field_name + "thru" + String(x + y * this.field_size_x) + '" style="position:absolute;"></div>';
                    document.getElementById(this.field_name).innerHTML += field_tag;
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.zIndex = "0";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.width = this.block_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.height = this.block_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.left = x * this.block_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.top = y * this.block_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).className = "block" + String(block_number);
                    this.field_array[y][x] = 0;
                }
                if (block_number >= 0 && block_number < 1000) {  // --- 平地とアイテム
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.zIndex = "0";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "block" + String(block_number);
                    if (this.block_size > 10 && debug_F) {
                        document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.fontSize = "10px";
                        document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.color = "white"
                        document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = String(block_number)
                    } else {
                        document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";
                    }

                } else if (block_number >= 1000 && block_number < 2000) {  // --- ソフトブロック
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.zIndex = String(y * 30 + 10);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size - (this.display_size - this.block_size) / 2 + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size - this.display_size + this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "block" + String(block_number - block_number % 100);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";

                } else if (block_number >= 2000 && block_number < 3000) {  // --- ハードブロック
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.zIndex = String(y * 30 + 20);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size - (this.display_size - this.block_size) / 2 + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size - this.display_size + this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "block" + String(block_number);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";

                } else if (block_number >= 3000 && block_number < 4000) {  // --- 貫通ソフトブロック
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.zIndex = String(y * 30 + 10);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size - (this.display_size - this.block_size) / 2 + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size - this.display_size + this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "block" + String(block_number - block_number % 100);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";

                } else if (block_number >= 4000 && block_number < 4500) {  // --- 貫通ハードブロック
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.zIndex = String(y * 30 + 0);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size - (this.display_size - this.block_size) / 2 + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size - this.display_size + this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "block" + String(block_number);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";

                } else if (block_number >= 4500 && block_number < 5000) {  // --- 貫通ハードブロック
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.zIndex = "0";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.width = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.height = this.display_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.left = x * this.block_size - (this.display_size - this.block_size) / 2 + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).style.top = y * this.block_size - this.display_size + this.block_size + "px";
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).className = "block" + String(block_number);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";


                } else if (block_number >= 6000 && block_number < 7000) {  // --- 通り抜けブロック(土管など)
                    let field_tag = '<div id="' + this.field_name + "thru" + String(x + y * this.field_size_x) + '" style="position:absolute;"></div>';
                    document.getElementById(this.field_name).innerHTML += field_tag;
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.zIndex = String(y * 30 + 71);
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.width = this.display_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.height = this.display_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.left = x * this.block_size - (this.display_size - this.block_size) / 2 + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).style.top = y * this.block_size - this.display_size * 0.87 + this.block_size + "px";
                    document.getElementById(this.field_name + "thru" + String(x + this.field_size_x * y)).className = "block" + String(block_number);
                    document.getElementById(this.field_name + String(x + this.field_size_x * y)).innerHTML = "";
                    this.field_array[y][x] = 0;
                }
            }
        }

        field.prototype.refresh_field = function () {
            for (let i = 1; i < this.field_size_y - 1; i++) {
                for (let j = 1; j < this.field_size_x - 1; j++) {
                    this.draw_block(j, i, this.field_array[i][j]);
                    let bomb_id = this.bomb_field[i][j];
                    let burst_id = this.burst_field[i][j];
                    if (bomb_id > 0) {
                        this.put_bombfield(j, i, bomb_id);
                    }
                    if (burst_id > 0) {
                        this.put_burstfield(j, i, burst_id);
                    }

                }
            }
        }

        field.prototype.collision_detect = function (x, y, offset_x, offset_y) {
            let ux = 0;
            let uy = 0;
            let [sx, sy] = this.conv_xy(x, y);
            let [tx, ty] = this.conv_xy(x + offset_x, y + offset_y);
            let bomb_id = this.bomb_field[sy][sx];
            if ((this.field_array[sy][tx] >= 1000 || this.bomb_field[sy][tx] > 0) && offset_x != 0) {
                ux = offset_x + x % this.block_size - (offset_x > 0 ? this.block_size : 0);
                bomb_id = this.bomb_field[sy][tx];
            }
            if ((this.field_array[ty][sx] >= 1000 || this.bomb_field[ty][sx] > 0) && offset_y != 0) {
                uy = offset_y + y % this.block_size - (offset_y > 0 ? this.block_size : 0);
                bomb_id = this.bomb_field[ty][sx];
            }
            return [ux, uy, bomb_id]
        }

        field.prototype.collision_detect2 = function (x, y, offset_x, offset_y) {
            let ux = 0;
            let uy = 0;
            let [sx, sy] = this.conv_xy(x, y);
            let [tx, ty] = this.conv_xy(x + offset_x, y + offset_y);
            let bomb_id;
            if (((this.field_array[sy][tx] > 0 && this.field_array[sy][tx] < 4500) || this.field_array[sy][tx] > 5000 || this.bomb_field[sy][tx] > 0) && offset_x != 0) {
                ux = offset_x + x % this.block_size - (offset_x > 0 ? this.block_size : 0);
                bomb_id = this.bomb_field[sy][tx];
            }
            if (((this.field_array[ty][sx] > 0 && this.field_array[ty][sx] < 4500) || this.field_array[ty][sx] > 5000 || this.bomb_field[ty][sx] > 0) && offset_y != 0) {
                uy = offset_y + y % this.block_size - (offset_y > 0 ? this.block_size : 0);
                bomb_id = this.bomb_field[ty][sx];

            }
            return [ux, uy, bomb_id]
        }

        field.prototype.conv_xy = function (x, y) {
            let sx = Math.floor(x / this.block_size);
            let sy = Math.floor(y / this.block_size);
            return [sx, sy]
        }
        field.prototype.std_xy = function (x, y) {
            let [sx, sy] = this.conv_xy(x, y);
            sx = sx * this.block_size + this.block_size / 2;
            sy = sy * this.block_size + this.block_size / 2;
            return [sx, sy];
        }

        field.prototype.put_block = function (x, y, block_num) {
            let [bx, by] = this.conv_xy(x, y);
            this.field_array[by][bx] = block_num;
            this.draw_block(bx, by, block_num);
        }
        field.prototype.put_conv_bomb = function (x, y, bomb_id) {
            let [bx, by] = this.conv_xy(x, y);
            this.put_bombfield(bx, by, bomb_id);
        }
        field.prototype.put_conv_burst = function (x, y, burst_id) {
            let [bx, by] = this.conv_xy(x, y);
            this.put_burstfield(bx, by, burst_id);
        }

        field.prototype.get_block = function (x, y) {
            let bx, by;
            [bx, by] = this.conv_xy(x, y);
            return this.field_array[by][bx];
        }

        field.prototype.get_conv_bomb = function (x, y) {
            let bx, by;
            [bx, by] = this.conv_xy(x, y);
            return this.bomb_field[by][bx];
        }
        field.prototype.get_conv_burst = function (x, y) {
            let bx, by;
            [bx, by] = this.conv_xy(x, y);
            return this.burst_field[by][bx];
        }

        field.prototype.get_spaceposition = function (block_number) {
            let p = [];
            for (let i = 3; i < this.field_array.length - 3; i++) {
                for (let j = 3; j < this.field_array[0].length - 3; j++) {
                    if (this.field_array[i][j] == block_number) {
                        p.push([j, i]);
                    }
                }
            }
            return p;
        }

        field.prototype.softblock_position = function (softblock_num) {
            let x, y;
            if (softblock_num < this.size_x * 2 - 3) {
                x = softblock_num + 2;
                y = 0;
            } else if (softblock_num < this.size_x * 2 - 3 + this.size_x - 1) {
                x = (softblock_num - (this.size_x * 2 - 3)) * 2 + 2;
                y = 1;
            } else if (softblock_num < this.softblocK_max - (this.size_x * 3 - 4)) {
                let sx = softblock_num - (this.size_x * 2 - 3 + this.size_x - 1);
                x = sx;
                let sy = 0
                while (sx > (sy % 2 == 0 ? this.size_x * 2 : this.size_x)) {
                    sy += 1;
                    if (sy % 2 == 1) {
                        sx -= this.size_x * 2 + 1;
                        x = sx * 2;
                    } else {
                        sx -= this.size_x + 1;
                        x = sx;
                    }
                }
                y = sy + 2;
            } else if (softblock_num < (this.softblocK_max - (this.size_x * 2 - 3))) {
                x = (softblock_num - (this.softblocK_max - (this.size_x * 3 - 4))) * 2 + 2;
                y = this.size_y * 2 - 1
            } else {
                x = softblock_num - (this.softblocK_max - (this.size_x * 2 + 1 - 4)) + 2
                y = this.size_y * 2

            }
            return [x + 1, y + 1]


        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　スプライト　　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        var sprite = function (field, sprite_name, sprite_kind, position_x, position_y, off_x, off_y, size, zIndex, shape_array, shape) {
            this.field = field;
            this.sprite_name = sprite_name;
            this.sprite_kind = sprite_kind;
            this.position_x = position_x;
            this.position_y = position_y;
            this.original_off_x = off_x;
            this.original_off_y = off_y;
            this.off_x = off_x;
            this.off_y = off_y;
            this.original_size = size;
            this.size = size;
            this.zIndex = zIndex;
            this.z_adjust = 0;
            this.shape = shape;
            this.shape_array = shape_array;
            this.magnitude = 1;

            let sprite_tag = '<div class="' + this.sprite_kind + '" id="sprite' + this.sprite_name + '" style="position:absolute;"></div>';
            document.getElementById(this.field.field_name).innerHTML += sprite_tag;
            document.getElementById("sprite" + this.sprite_name).style.backgroundPosition = String(this.shape_array[shape][0]) + 'px ' + String(this.shape_array[shape][1]) + 'px'
            document.getElementById("sprite" + this.sprite_name).style.width = String(this.size) + 'px'
            document.getElementById("sprite" + this.sprite_name).style.height = String(this.size) + 'px'
            document.getElementById("sprite" + this.sprite_name).style.left = String(this.position_x - this.off_x) + "px";
            document.getElementById("sprite" + this.sprite_name).style.top = String(this.position_y - this.off_y) + "px";
            document.getElementById("sprite" + this.sprite_name).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.zIndex);
            document.getElementById("sprite" + this.sprite_name).style.display = "block";

        }

        sprite.prototype.move_to = function (x, y) {
            this.position_x = x;
            this.position_y = y;
            document.getElementById("sprite" + this.sprite_name).style.left = String(this.position_x - this.off_x) + "px";
            document.getElementById("sprite" + this.sprite_name).style.top = String(this.position_y - this.off_y) + "px";
            document.getElementById("sprite" + this.sprite_name).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.zIndex + this.z_adjust);
        }
        sprite.prototype.z_index = function (z) {
            this.z_adjust = z;

        }

        sprite.prototype.rotate = function (r) {
            document.getElementById("sprite" + this.sprite_name).style.transform = "rotate(" + r + "deg)"
        }

        sprite.prototype.scale = function (magnitude) {
            this.magnitude = magnitude;
            this.size = this.original_size * this.magnitude;
            this.off_x = this.original_off_x - (this.original_size - this.size) / 2;
            this.off_y = this.original_off_y - (this.original_size - this.size) / 2;
            document.getElementById("sprite" + this.sprite_name).style.width = String(this.size) + "px";
            document.getElementById("sprite" + this.sprite_name).style.height = String(this.size) + "px";
            document.getElementById("sprite" + this.sprite_name).style.left = String(this.position_x - this.off_x) + "px";
            document.getElementById("sprite" + this.sprite_name).style.top = String(this.position_y - this.off_y) + "px";
        }

        sprite.prototype.jump = function (x, y) {
            this.off_x = this.original_off_x + x;
            this.off_y = this.original_off_y + y;
            document.getElementById("sprite" + this.sprite_name).style.left = String(this.position_x - this.off_x) + "px";
            document.getElementById("sprite" + this.sprite_name).style.top = String(this.position_y - this.off_y) + "px";
        }

        sprite.prototype.change_kind = function (shape) {
            this.shape = shape;
            document.getElementById("sprite" + this.sprite_name).style.backgroundPosition = String(this.shape_array[shape][0]) + 'px ' + String(this.shape_array[shape][1]) + 'px'
        }
        sprite.prototype.change_spritekind = function (sprite_kind, shape_array, shape) {
            this.sprite_kind = sprite_kind;
            this.shape_array = shape_array;
            document.getElementById("sprite" + this.sprite_name).className = sprite_kind;
            this.change_kind(shape);
        }
        sprite.prototype.visible = function (visible_F) {
            if (visible_F) {
                document.getElementById("sprite" + this.sprite_name).style.display = "block";
            } else {
                document.getElementById("sprite" + this.sprite_name).style.display = "none";
            }
        }

        sprite.prototype.erase = function () {
            let child = document.getElementById("sprite" + this.sprite_name);
            if (child != null) {
                child.parentNode.removeChild(child);
            } else {
                err_ms("sprite erase canceled")
            }
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　爆弾生成と消去　　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        var bomb = function (field, position_x, position_y, size, player_num, burst_distance, bomb_id, display_size, ghost_F) {
            this.field = field;
            this.position_x = position_x;
            this.position_y = position_y;
            this.player_num = player_num;
            this.burst_distance = burst_distance;
            this.bomb_id = bomb_id;
            this.destroy = false;
            this.timeout_ID = [];
            this.kickedtime_ID = [];
            this.punchedtime_ID = [];
            this.size = size;
            this.display_size = display_size;
            this.ghost_F = ghost_F;
            this.bomb_id = bomb_id;
            this.kicked_F = false;
            this.kickedend_F = false;
            this.punched_F = false;
            this.burstwait_F = false;
            this.burst_vanish_F = false;
            this.die_F = false;

            let s = -this.display_size * 2;
            let s_array = [[0, 0], [s, 0], [s * 2, 0], [s * 3, 0], [s * 4, 0], [s * 5, 0]]
            this.sprite = new sprite(this.field, "bomb" + bomb_counter, "bomb", this.position_x, this.position_y, this.display_size, this.display_size * 1.2, this.display_size * 2, 1, s_array, 0);
            this.field.put_conv_bomb(this.position_x, this.position_y, this.bomb_id)

            for (let i = 0; i < 5; i++) {
                this.timeout_ID.push(setTimeout(function () {
                    this.sprite.change_kind(i + 1)
                }.bind(this), 500 * (i + 1)))
            }
            this.timeout_ID.push(setTimeout(function () {
                this.die();
            }.bind(this), 3000))

        }

        bomb.prototype.die = function () {
            if (this.die_F) {
                return;
            }
            if (this.punched_F) {
                this.burstwait_F = true;
            } else {
                if (singlemode_F) {
                    this.burst();
                } else {
                    if (this.player_num == 0) {
                        this.die_F = true;
                        call_emit(battle_code + my_username + "burst", [this.bomb_id, this.position_x, this.position_y]);
                        //this.timeout_ID.push(setTimeout(function () { err_ms("auto burst "+this.bomb_id); this.burst() }.bind(this), 500));
                    }
                }
            }
        }

        bomb.prototype.burst = function () {
            if (this.burst_vanish_F) {
                err_ms("burst canceled")
                return;
            }
            this.burst_vanish_F = true;
            while (this.timeout_ID.length > 0) {
                clearTimeout(this.timeout_ID.shift());
            }
            while (this.kickedtime_ID.length > 0) {
                clearTimeout(this.kickedtime_ID.shift());
            }
            while (this.punchedtime_ID.length > 0) {
                clearTimeout(this.punchedtime_ID.shift());
            }
            this.field.bomb_field.forEach((value0, y) => {
                value0.forEach((value1, x) => {
                    if (value1 == this.bomb_id) {
                        this.field.put_bombfield(x, y, 0);
                    }
                })
            })
            this.sprite.erase();
            this.destroy = true;
            [this.position_x, this.position_y] = this.field.std_xy(this.position_x, this.position_y);
            burst_put(this.field, this.position_x, this.position_y, 5, this.field.block_size / 2, this.burst_distance, this.player_num, this.bomb_id, this.ghost_F)
            bomb_erase();
        }

        bomb.prototype.misfire = function () {
            if (singlemode_F) {
                this.vanish();
            } else {
                if (this.player_num == 0) {
                    call_emit(battle_code + my_username + "vanish", this.bomb_id);
                }
            }
        }

        bomb.prototype.vanish = function () {
            if (this.burst_vanish_F) {
                err_ms("vanish canceled")
                return;
            }
            this.burst_vanish_F = true;
            while (this.timeout_ID.length > 0) {
                clearTimeout(this.timeout_ID.shift());
            }
            while (this.kickedtime_ID.length > 0) {
                clearTimeout(this.kickedtime_ID.shift());
            }
            while (this.punchedtime_ID.length > 0) {
                clearTimeout(this.punchedtime_ID.shift());
            }
            this.field.bomb_field.forEach((value0, y) => {
                value0.forEach((value1, x) => {
                    if (value1 == this.bomb_id) {
                        this.field.put_bombfield(x, y, 0);

                    }
                })
            })
            this.sprite.erase();
            this.destroy = true;
            bomb_erase();
        }

        bomb.prototype.kicked = function (speed_x, speed_y) {
            let offset_x = this.field.block_size / 2 * Math.sign(speed_x) + speed_x;
            let offset_y = this.field.block_size / 2 * Math.sign(speed_y) + speed_y;
            this.field.bomb_field.forEach((value0, y) => {
                value0.forEach((value1, x) => {
                    if (value1 == this.bomb_id) {
                        this.field.put_bombfield(x, y, 0);
                    }
                })
            })
            let burst_id = this.field.get_conv_burst(this.position_x, this.position_y);
            let block = this.field.get_block(this.position_x, this.position_y);
            let [collision_adjust_x, collision_adjust_y, bomb_id] = this.field.collision_detect2(this.position_x, this.position_y, offset_x, offset_y);
            if ((collision_adjust_x != speed_x || collision_adjust_y != speed_y) && this.player_collision(this.position_x + offset_x, this.position_y + offset_y)) {
                this.kicked_F = true;
                this.position_x += speed_x - collision_adjust_x;
                this.position_y += speed_y - collision_adjust_y;
                if (block >= 4500 && block < 5000) {
                    this.misfire();
                    return;
                }
                if (burst_id > 0) {
                    this.kicked_F = false;
                    this.position_x += this.field.block_size / 2 * Math.sign(speed_x) + speed_x;
                    this.position_y += this.field.block_size / 2 * Math.sign(speed_y) + speed_y;
                    [this.position_x, this.position_y] = this.field.std_xy(this.position_x, this.position_y);
                    this.die();
                    return
                }

            } else {
                this.kicked_F = false;
                [this.position_x, this.position_y] = this.field.std_xy(this.position_x, this.position_y);
            }
            this.sprite.move_to(this.position_x, this.position_y);
            this.field.put_conv_bomb(this.position_x, this.position_y, this.bomb_id)
            if (this.kicked_F) {
                this.kickedtime_ID.push(setTimeout(function () { this.kicked(speed_x, speed_y) }.bind(this), 25));
            }
        }
        bomb.prototype.player_collision = function (x, y) {
            let [x1, y1] = this.field.conv_xy(x, y)
            return player_array.every((value) => {
                let [x2, y2] = value.field.conv_xy(value.position_x, value.position_y);
                return x1 != x2 || y1 != y2;
            })
        }
        bomb.prototype.punched = function (distance_x, distance_y, playerghost_F) {
            this.playerghost_F = playerghost_F;
            this.punch_counter = Math.abs(distance_x + distance_y);
            this.punched_F = true;
            this.field.bomb_field.forEach((value0, y) => {
                value0.forEach((value1, x) => {
                    if (value1 == this.bomb_id) {
                        this.field.put_bombfield(x, y, 0);
                    }
                })
            })
            this.jump(distance_x, distance_y, 18, 50, 25, function () {
                let block = this.field.get_block(this.position_x, this.position_y);
                let bomb_id = this.field.get_conv_bomb(this.position_x, this.position_y);
                if (block >= 4500 & block < 5000) {
                    this.misfire()
                } else if (block > 0 || bomb_id > 0) {
                    this.after_jump(Math.sign(distance_x), Math.sign(distance_y));
                } else {
                    this.punch_end();
                }
            }.bind(this));
        }
        bomb.prototype.after_jump = function (distance_x, distance_y) {
            this.jump(distance_x, distance_y, 6, 20, 25, function () {
                let block = this.field.get_block(this.position_x, this.position_y);
                let bomb_id = this.field.get_conv_bomb(this.position_x, this.position_y);
                if (block > 0 || bomb_id > 0) {
                    this.punch_counter += 1;
                    if ((this.punch_counter > this.field.field_size_x - 5 && this.punch_counter > this.field.field_size_y - 5) || (block >= 4500 && block < 5000)) {
                        this.misfire();
                    } else {
                        this.after_jump(Math.sign(distance_x), Math.sign(distance_y));
                    }
                } else {
                    this.punch_end();
                }
            }.bind(this))
        }

        bomb.prototype.jump = function (distance_x, distance_y, n, h, t, callback) {
            this.sprite.z_index(1000);
            let tx = this.position_x;
            let ty = this.position_y;
            [this.position_x, this.position_y] = this.cal_position(this.position_x, this.position_y, distance_x * this.field.block_size, distance_y * this.field.block_size)
            for (let i = 0; i < n + 1; i++) {
                this.punchedtime_ID.push(setTimeout(function () {
                    let oy = -(h - h / n / n * 4 * (i - n / 2) * (i - n / 2)) + distance_y * this.field.block_size / n * i
                    let [x1, y1] = this.cal_position(tx, ty, distance_x * this.field.block_size / n * i, oy);
                    if (distance_y == 0) {
                        y1 = ty + oy
                    }
                    this.sprite.move_to(x1, y1);
                }.bind(this), i * t))
            }
            this.punchedtime_ID.push(setTimeout(function () {
                this.sprite.z_index(0);
                callback()
            }.bind(this), t * (n + 2)));
        }
        bomb.prototype.punch_end = function () {
            this.sprite.z_index(0);
            this.sprite.move_to(this.position_x, this.position_y);
            this.punched_F = false;
            if (this.field.get_conv_burst(this.position_x, this.position_y) > 0 || this.burstwait_F) {
                this.burstwait_F = false;
                this.die();
            } else {
                this.field.put_conv_bomb(this.position_x, this.position_y, this.bomb_id)
            }
        }

        bomb.prototype.cal_position = function (x, y, ox, oy) {
            let x1, y1;
            if (this.playerghost_F) {
                x1 = (x + ox + this.field.block_size * (this.field.field_size_x - 3)) % (this.field.block_size * (this.field.field_size_x - 2)) + this.field.block_size * 1;
                y1 = (y + oy + this.field.block_size * (this.field.field_size_y - 3)) % (this.field.block_size * (this.field.field_size_y - 2)) + this.field.block_size * 1;
            } else {
                x1 = (x + ox + this.field.block_size * (this.field.field_size_x - 6)) % (this.field.block_size * (this.field.field_size_x - 4)) + this.field.block_size * 2;
                y1 = (y + oy + this.field.block_size * (this.field.field_size_y - 6)) % (this.field.block_size * (this.field.field_size_y - 4)) + this.field.block_size * 2;
            }
            return [x1, y1]
        }

        function bomb_put(field, x, y, size, player_num, burst_distance, bomb_id, display_size, ghost_F) {
            let block = field.get_block(x, y);
            if (block > 0 && block != 999) {
                return;
            }
            let bx = Math.floor(x / size + 0.5) * size;
            let by = Math.floor(y / size + 0.5) * size;
            if (bomb_array.every((value, index) => bomb_array[index].position_x != bx || bomb_array[index].position_y != by)) {
                bomb_array.push(new bomb(field, bx, by, size, player_num, burst_distance, bomb_id, display_size, ghost_F));
                bomb_counter = bomb_counter % 100 + 1;
            }
        }

        function bomb_erase() {
            bomb_array.forEach((value, index) => {
                if (bomb_array[index].destroy) {

                    bomb_array.splice(index, 1);
                }
            })
        }

        var burst = function (field, position_x, position_y, size, display_size, burst_distance, player_num, bomb_id, ghost_F) {
            this.field = field;
            this.position_x = position_x;
            this.position_y = position_y;
            this.size = size;
            this.display_size = display_size;
            this.burst_distance = burst_distance;
            this.player_num = player_num;
            this.bomb_id = bomb_id;
            this.ghost_F = ghost_F;
            this.destroy = false;

            let ox = [0, 1, 0, -1];
            let oy = [-1, 0, 1, 0];
            this.bursts = [];
            if (this.field.get_block(this.position_x, this.position_y) == 0 && this.field.get_conv_burst(this.position_x, this.position_y) == 0) {
                this.bursts = [this.field.conv_xy(this.position_x, this.position_y)];
                this.field.put_burstfield(this.bursts[0][0], this.bursts[0][1], this.bomb_id);
            }
            this.burns = [];

            for (let i = 0; i < 4; i++) {
                let count = 0;
                let [sx, sy] = this.field.conv_xy(this.position_x, this.position_y)
                let burstend_F = false;
                while (count < this.burst_distance && burstend_F == false) {
                    sx += ox[i];
                    sy += oy[i];
                    let block = this.field.field_array[sy][sx];
                    let bomb_id = this.field.bomb_field[sy][sx];
                    let burst_id = this.field.burst_field[sy][sx];
                    if (block == 0) {  // --------- 平地
                        if (bomb_id > 0) {   //------ ボム
                            burstend_F = true;
                            bomb_array.forEach((value) => {
                                if (value.bomb_id == bomb_id) {
                                    value.die();
                                }
                            })
                            burstend_F = true;
                        } if (burst_id > 0) {
                            burstend_F = true;
                        } else {
                            this.bursts.push([sx, sy])
                            this.field.put_burstfield(sx, sy, this.bomb_id);
                        }
                    } else if (block >= 1 && block < 999) {   //------ アイテム
                        this.burns.push([sx, sy, 0])
                        burstend_F = true;
                    } else if (block >= 1000 && block < 2000) {   //------ ソフトブロック
                        this.burns.push([sx, sy, block % 100]);
                        burstend_F = true;
                    } else if ((block >= 2000 && block < 3000) || block == 999) {   //------ ハードブロック
                        burstend_F = true;
                    } else if (block >= 3000 && block < 4000) {   //------ 貫通ソフトブロック
                        this.bursts.push([sx, sy]);
                        this.field.put_burstfield(sx, sy, this.bomb_id);
                        this.burns.push([sx, sy, block % 100])
                    } else if (block >= 4000 && block < 5000) {   //------ 貫通ハードブロック
                        this.bursts.push([sx, sy]);
                        this.field.put_burstfield(sx, sy, this.bomb_id);
                    }
                    count += 1;
                }
            }
            document.getElementById(this.field.field_name).innerHTML += '<div id="burst' + this.bomb_id + '"></div>'
            for (let i = 0; i < 4; i++) {
                setTimeout(function () {
                    document.getElementById('burst' + this.bomb_id).innerHTML = this.burst_html(this.bursts, this.burns, this.field.block_size * (i * 0.25 + 0.25), this.field.block_size, i + 1);
                    this.player_collision();
                }.bind(this), (i + 1) * 50)
            }

            setTimeout(function () {
                this.player_collision();
                this.field.burst_field.forEach((value0, y) => {
                    value0.forEach((value1, x) => {
                        if (value1 == this.bomb_id) {
                            this.field.put_burstfield(x, y, 0);
                        }
                    })
                })
                this.burns.forEach(value => {
                    this.field.put_array(value[0], value[1], value[2])
                })
                let child = document.getElementById('burst' + this.bomb_id);
                child.parentNode.removeChild(child);
                this.die();
            }.bind(this), 400)
        }
        burst.prototype.player_collision = function () {
            if (player_array[0].die_F == false) {
                this.bursts.forEach(value0 => {
                    let dx = Math.abs((value0[0] + 0.5) * this.field.block_size - player_array[0].position_x);
                    let dy = Math.abs((value0[1] + 0.5) * this.field.block_size - player_array[0].position_y);
                    if (dx < this.size + player_array[0].size && dy < this.size + player_array[0].size && player_array[0].star_F == false) {
                        if (singlemode_F) {
                            player_array[0].die();
                        } else {
                            call_emit(battle_code + my_username + "end", { died: true, items: player_array[0].items, ghost_F: this.ghost_F, player: user_names[this.player_num], position: [player_array[this.player_num].position_x, player_array[this.player_num].position_y] })
                        }
                    }

                })
            }
        }

        burst.prototype.burst_html = function (bursts, burns, size, original_size, num) {
            let burst_tag = '';
            for (let i = 0; i < burns.length; i++) {
                burst_tag += '<div class="burn" style="position:absolute;width:' + original_size + 'px;height:' + original_size + 'px;left:' + burns[i][0] * original_size + 'px;top:' + (burns[i][1] - 0.125) * original_size + 'px;background-position:-' + num * original_size + 'px;z-index:' + String(burns[i][1] * 30 + 41) + '"></div>';
            }
            for (let i = 0; i < bursts.length; i++) {
                burst_tag += '<div class="burst" style="position:absolute;width:' + size + 'px;height:' + size + 'px;left:' + ((original_size - size) / 2 + bursts[i][0] * original_size) + 'px;top:' + ((original_size - size) / 2 + bursts[i][1] * original_size) + 'px;z-index:' + String(bursts[i][1] * 30 + 11) + '"></div>';
            }
            return burst_tag;
        }

        burst.prototype.die = function () {
            this.destroy = true;
            burst_erase();
        }

        function burst_put(field, x, y, size, display_size, burst_distance, player_num, bomb_id, ghost_F) {
            burst_array.push(new burst(field, x, y, size, display_size, burst_distance, player_num, bomb_id, ghost_F));
        }

        function burst_erase() {
            burst_array.forEach((value, index) => {
                if (burst_array[index].destroy) {
                    burst_array.splice(index, 1);
                }
            })
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　Player オブジェクト　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        var player = function (options) {
            this.field = options.field;
            this.player_num = options.player_number;
            this.sprite_kind = options.sprite_kind;
            this.off_x = options.offset_x;
            this.off_y = options.offset_y;
            this.size = options.size;
            this.block_size = this.field.block_size;
            this.display_size = options.display_size;
            this.initial_status = options.initial_status;
            this.ghost_status = options.ghost_status;
            this.ghost_F = false;
            this.revive_F = true;

            this.star_F = false;
            this.startimeout_ID = [];

            [this.position_x, this.position_y] = [this.initial_x, this.initial_y] = this.field.std_xy(options.position_x * this.block_size, options.position_y * this.block_size);
            [this.ghost_x, this.ghost_y] = this.field.std_xy(options.ghost_x * this.block_size, options.ghost_y * this.block_size);

            this.die_F = false;

            this.items = [];
            this.move_speed = this.initial_status.move_speed;
            this.bomb_max = this.initial_status.bomb_max;
            this.burst_distance = this.initial_status.burst_distance;
            this.kick_F = this.initial_status.kick_F;
            this.punch_F = this.initial_status.punch_F;
            this.powerglove_F = this.initial_status.powerglove_F;
            this.powerglove_power = this.initial_status.powerglove_power;

            this.item_display();

            this.bombholding_F = false;

            this.sp_num = [[9, 9, 10, 10, 11, 11, 10, 10], [6, 6, 7, 7, 8, 8, 7, 7], [0, 0, 1, 1, 2, 2, 1, 1], [3, 3, 4, 4, 5, 5, 4, 4]];
            this.sp_angle = 2;

            let s = -this.display_size * 2;
            let s_array = [[0, 0], [s, 0], [s * 2, 0], [0, s], [s, s], [s * 2, s], [0, s * 2], [s, s * 2], [s * 2, s * 2], [0, s * 3], [s, s * 3], [s * 2, s * 3]];
            this.s_array = s_array;
            this.sprite = new sprite(this.field, this.player_num, this.sprite_kind, this.position_x, this.position_y, this.off_x, this.off_y, this.display_size * 2, 5, s_array, 1);
            this.bomb_sprite = new sprite(this.field, "playerbomb" + this.player_num, "bomb", this.position_x, this.position_y, this.off_x * 0.45, this.off_y * 0.40, this.field.block_size, 6, [0, 0], 0);
            this.bomb_sprite.visible(false);
            document.getElementById(this.field.field_name).innerHTML += '<div id="playername' + this.player_num + '" class="playername"></div>'
            document.getElementById("playername0").style.color = "red";
            document.getElementById("playername" + this.player_num).innerHTML = user_names[this.player_num].substr(0, 3);
            document.getElementById("playername" + this.player_num).style.left = String(this.position_x - this.display_size / 2) + "px";
            document.getElementById("playername" + this.player_num).style.top = String(this.position_y - this.display_size * 1.7) + "px";
            document.getElementById("playername" + this.player_num).style.display = "block";
            document.getElementById("playername" + this.player_num).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.sprite.z_adjust + 6)
        }

        player.prototype.star = function () {
            this.star_F = true;
            for (let i = 0; i < 30; i++) {
                setTimeout(function () { this.sprite.visible(i % 2 == 0 ? false : true) }.bind(this), (i + 1) * 100)
            }
            setTimeout(function () { this.star_F = false }.bind(this), 3000)
        }

        player.prototype.move = function (offset_x, offset_y) {
            this.scroll_offset_x = offset_x;
            this.scroll_offset_y = offset_y;
            let tx = this.position_x;
            let ty = this.position_y;
            let [collision_adjust_x, collision_adjust_y, bomb_id] = this.field.collision_detect(tx, ty, this.block_size / 2 * Math.sign(offset_x) + offset_x, this.block_size / 2 * Math.sign(offset_y) + offset_y)
            let sx = tx % this.block_size - this.block_size / 2;
            let sy = ty % this.block_size - this.block_size / 2;
            let upper, lower, left, right

            if (Math.abs(collision_adjust_x - offset_x) < 0.1 && Math.abs(collision_adjust_y - offset_y) < 0.1 && bomb_id > 0 && this.kick_F) {   // ------キック判定
                this.kick(Math.sign(offset_x) * 4, Math.sign(offset_y) * 4, bomb_id);
            }
            if (offset_x != 0) {  //------ 横向きに衝突したときの補正
                upper = this.field.get_block(tx + this.block_size / 2 * Math.sign(offset_x) + offset_x, ty - this.size) < 1000; //--Player上端壁側
                lower = this.field.get_block(tx + this.block_size / 2 * Math.sign(offset_x) + offset_x, ty + this.size) < 1000;; //--Player下端壁側

                if (upper == true && lower == false && this.field.get_block(tx, ty - this.block_size / 2) < 1000) { //--Player上側が空いているとき
                    collision_adjust_y = Math.abs(offset_x);
                    collision_adjust_x = offset_x;
                } else if (upper == false && lower == true && this.field.get_block(tx, ty + this.block_size / 2) < 1000) { //--Player下側が空いているとき
                    collision_adjust_y = -Math.abs(offset_x);
                    collision_adjust_x = offset_x;
                } else if (upper == true && lower == true) {
                    if (Math.abs(sy) > Math.abs(offset_x)) {  //--Player上下が空いているときは通路の真ん中を通るように補正
                        collision_adjust_y = Math.abs(offset_x) * Math.sign(sy);
                        collision_adjust_x = offset_x;
                    } else if (Math.abs(sy) > 0) {
                        collision_adjust_y = sy;
                        collision_adjust_x = offset_x;
                    }
                }
            } else if (offset_y != 0) {  //------ 縦向きに衝突したときの補正
                left = this.field.get_block(tx - this.size, ty + this.block_size / 2 * Math.sign(offset_y) + offset_y) < 1000; //--Player上端壁側
                right = this.field.get_block(tx + this.size, ty + this.block_size / 2 * Math.sign(offset_y) + offset_y) < 1000;; //--Player下端壁側

                if (left == true && right == false && this.field.get_block(tx - this.block_size / 2, ty) < 1000) { //--Player左側が空いているとき
                    collision_adjust_x = Math.abs(offset_y);
                    collision_adjust_y = offset_y;
                } else if (left == false && right == true && this.field.get_block(tx + this.block_size / 2, ty) < 1000) { //--Player右側が空いているとき
                    collision_adjust_x = -Math.abs(offset_y);
                    collision_adjust_y = offset_y;
                } else if (right == true && left == true) {
                    if (Math.abs(sx) > Math.abs(offset_y)) {  //--Player左右が空いているときは通路の真ん中を通るように補正
                        collision_adjust_x = Math.abs(offset_y) * Math.sign(sx);
                        collision_adjust_y = offset_y;
                    } else if (Math.abs(sx) > 0) {
                        collision_adjust_x = sx;
                        collision_adjust_y = offset_y;
                    }
                }
            }
            tx = tx + offset_x - collision_adjust_x;
            ty = ty + offset_y - collision_adjust_y;
            this.sprite.move_to(tx, ty);

            let az, ax;
            if (this.ghost_F) {
                this.sp_angle = (ty < this.block_size * 2 ? 2 : (tx < this.block_size * 2 ? 1 : (ty > (this.field.field_size_y - 2) * this.block_size ? 0 : 3)));
                [az, ax] = [[49, 0.45], [51, -0.1], [51, 0.45], [51, 1]][this.sp_angle];
            } else {
                this.sp_angle = (offset_y <= 0 ? 0 : 2) + (offset_x > 0 ? 1 : (offset_x == 0 ? 0 : 3));
                [az, ax] = [[-2, 0.45], [0, 0.2], [0, 0.45], [0, 0.7]][this.sp_angle];
            }
            this.bomb_sprite.z_index(az);
            this.bomb_sprite.off_x = this.off_x * ax;
            this.bomb_sprite.move_to(tx, ty);

            this.position_x = tx;
            this.position_y = ty;
            document.getElementById("playername" + this.player_num).style.left = String(this.position_x - this.display_size / 2) + "px";
            document.getElementById("playername" + this.player_num).style.top = String(this.position_y - this.display_size * 1.7) + "px";
            document.getElementById("playername" + this.player_num).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.sprite.z_adjust + 6);
            this.sprite.change_kind(this.sp_num[this.sp_angle][Math.floor(key_counter[this.player_num] % 8)]);

            let block = this.field.get_block(tx, ty);
            if (block > 0 && block < 100) {
                this.field.put_block(tx, ty, 0);
                this.item_action(block);
                call_emit(battle_code + my_username + "item", [tx, ty]);
            }
        }

        player.prototype.kick = function (speed_x, speed_y, bomb_id) {
            bomb_array.forEach((value) => {
                if (value.bomb_id == bomb_id && value.kicked_F == false && value.punched_F == false) {
                    value.kicked_F = true;
                    call_emit(battle_code + my_username + "kick", [value.bomb_id, speed_x, speed_y, value.position_x, value.position_y])
                    value.kicked(speed_x, speed_y);
                }
            })
        }

        player.prototype.punch = function (distance_x, distance_y, bomb_id) {
            bomb_array.forEach((value) => {
                if (value.bomb_id == bomb_id && value.punched_F == false && value.kicked_F == false) {
                    call_emit(battle_code + my_username + "punch", [value.bomb_id, distance_x, distance_y, value.position_x, value.position_y])
                    value.punched(distance_x, distance_y, this.ghost_F);
                }
            })
        }

        player.prototype.powerglove = function () {
            if (this.powerglove_F == false) {
                return
            }
            let [x, y] = this.field.conv_xy(this.position_x, this.position_y)
            let block = this.field.bomb_field[y][x];
            if (block > 0) {
                bomb_array.forEach(value => {
                    if (value.bomb_id == block) {
                        this.bombholding_F = true;
                        while (value.timeout_ID.length > 0) {
                            clearTimeout(value.timeout_ID.shift());
                        }
                        value.field.bomb_field.forEach((value0, y) => {
                            value0.forEach((value1, x) => {
                                if (value1 == value.bomb_id) {
                                    this.field.put_bombfield(x, y, 0)
                                }
                            })
                        })
                        call_emit(battle_code + my_username + "powerglove", value.bomb_id)
                        value.sprite.erase();
                        value.destroy = true;
                        bomb_erase();
                        this.bomb_sprite.visible(true);
                    }
                })
            }
        }

        player.prototype.powerglove_end = function (power, ghost_F) {
            let [x, y, size] = [this.position_x, this.position_y, this.block_size];
            let [x_size, y_size] = [(this.field.field_size_x - 3), (this.field.field_size_y - 3)];
            if ((x > size * 3 && x < size * x_size) || (y > size * 3 && y < size * y_size)) {
                this.bombholding_F = false;
                let bomb_id = user_order.indexOf(my_username) * 100 + bomb_counter;
                let [ox, oy] = [[0, -1], [1, 0], [0, 1], [-1, 0]][this.sp_angle];
                let [x, y] = this.field.std_xy(this.position_x, this.position_y);
                bomb_put(this.field, x, y, this.block_size / 4, this.player_num, this.burst_distance, bomb_id, this.block_size / 2, ghost_F);
                bomb_array.forEach((value) => {
                    if (value.bomb_id == bomb_id) {
                        if (singlemode_F) {
                            value.punched(ox * power, oy * power, this.ghost_F);
                            this.bomb_sprite.visible(false);
                        } else {
                            call_emit(battle_code + my_username + "powerglove_end", [x, y, bomb_id, this.sp_angle, power, ghost_F])
                            value.punched(ox * power, oy * power, this.ghost_F);
                            this.bomb_sprite.visible(false);
                        }
                    }
                })
            }
        }

        player.prototype.die = function (x, y) {
            if (this.die_F) {
                return
            }
            this.die_F = true;
            let blank = shuffle_array(this.field.get_spaceposition(0));
            let b = (blank == undefined ? 0 : blank.length);
            let l = (this.items == undefined ? 0 : this.items.length)
            for (let i = 0; i < Math.min(b, l); i++) {
                if (this.field.field_array[blank[i][1]][blank[i][0]] == 0) {
                    this.field.put_array(blank[i][0], blank[i][1], this.items[i])
                }
            }
            this.items = [];

            this.sprite.change_kind(0);
            for (let i = 0; i < 5; i++) {
                setTimeout(function () {
                    this.sprite.jump(0, (i + 1) * 8);
                }.bind(this), i * 25)
            }
            for (let i = 0; i < 5; i++) {
                setTimeout(function () {
                    this.sprite.jump(0, (40 - (i + 1) * 8));
                }.bind(this), 125 + i * 25)
            }
            setTimeout(function () {
                this.sprite.rotate(90);
                this.sprite.jump(-15, -8);
            }.bind(this), 275)
            setTimeout(function () {
                if (singlemode_F) {
                    this.move_speed = this.initial_status.move_speed;
                    this.bomb_max = this.initial_status.bomb_max;
                    this.burst_distance = this.initial_status.burst_distance;
                    this.kick_F = this.initial_status.kick_F;
                    this.punch_F = this.initial_status.punch_F;
                    this.powerglove_F = this.initial_status.powerglove_F;
                    this.bomb_sprite.visible(false);
                    this.item_display();
                    controller_change(controller_display == "block")

                    this.die_F = false;
                    this.sprite.rotate(0);
                    this.sprite.jump(0, 0);
                    let position_num = user_order.indexOf(user_names[this.player_num])
                    this.position_x = this.initial_x;
                    this.position_y = this.initial_y;
                    this.sprite.move_to(this.position_x, this.position_y)
                    document.getElementById("playername" + this.player_num).style.left = String(this.position_x - this.display_size / 2) + "px";
                    document.getElementById("playername" + this.player_num).style.top = String(this.position_y - this.display_size * 1.7) + "px";
                    document.getElementById("playername" + this.player_num).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.sprite.z_adjust + 6)
                } else {
                    this.ghost(x, y)
                }
            }.bind(this), 2000)
        }
        player.prototype.ghost = function (x, y) {
            if (this.ghost_F) {
                err_ms("ghost canceled")
                return;
            }
            this.ghost_F = true;
            this.move_speed = this.ghost_status.move_speed;
            this.bomb_max = this.ghost_status.bomb_max;
            this.burst_distance = this.ghost_status.burst_distance;
            this.kick_F = false;
            this.punch_F = false;
            this.powerglove_F = true;
            this.powerglove_power = this.ghost_status.powerglove_power;

            this.item_display();
            controller_change(controller_display == "block");

            this.bomb_sprite.visible(false);

            this.position_x = x;
            this.position_y = y;
            this.sprite.rotate(0);
            this.sprite.jump(0, 0);
            this.sp_angle = (y < this.block_size * 2 ? 2 : (x < this.block_size * 2 ? 1 : (y > (this.field.field_size_y - 2) * this.block_size ? 0 : 3)));
            this.sprite.change_spritekind("ghost" + users[user_names[this.player_num]].player_kind, this.s_array, this.sp_num[this.sp_angle][0]);
            this.sprite.z_index(51);
            this.sprite.move_to(this.position_x, this.position_y);
            let [az, ax] = [[49, 0.45], [51, -0.1], [51, 0.45], [51, 1]][this.sp_angle];
            this.bomb_sprite.z_index(az);
            this.bomb_sprite.off_x = this.off_x * ax;
            this.bomb_sprite.move_to(this.position_x, this.position_y);
            document.getElementById("playername" + this.player_num).style.left = String(this.position_x - this.display_size / 2) + "px";
            document.getElementById("playername" + this.player_num).style.top = String(this.position_y - this.display_size * 1.7) + "px";
            document.getElementById("playername" + this.player_num).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.sprite.z_adjust + 6)
            this.die_F = false;
            this.revive_F = false;
        }

        player.prototype.revive = function (x, y) {
            if (this.revive_F) {
                err_ms("revive canceled")
                return;
            }
            this.revive_F = true;
            this.die_F = true;
            this.items = [];
            this.move_speed = this.initial_status.move_speed;
            this.bomb_max = this.initial_status.bomb_max;
            this.burst_distance = this.initial_status.burst_distance;
            this.kick_F = this.initial_status.kick_F;
            this.punch_F = this.initial_status.punch_F;
            this.powerglove_F = this.initial_status.powerglove_F;
            this.powerglove_power = this.initial_status.powerglove_power;
            this.bomb_sprite.visible(false);

            setTimeout(function () {
                this.position_x = x;
                this.position_y = y;
                this.sprite.change_spritekind(this.sprite_kind, this.s_array, this.sp_num[2][0])
                this.sprite.move_to(this.position_x, this.position_y)
                this.sprite.z_index(0);
                document.getElementById("playername" + this.player_num).style.left = String(this.position_x - this.display_size / 2) + "px";
                document.getElementById("playername" + this.player_num).style.top = String(this.position_y - this.display_size * 1.7) + "px";
                document.getElementById("playername" + this.player_num).style.zIndex = String(Math.floor(this.position_y / this.field.block_size) * 30 + this.sprite.z_adjust + 6)
                this.star();
                this.item_display();
                controller_change(controller_display == "block");
                this.die_F = false;
                this.ghost_F = false;
            }.bind(this), 2000);
        }

        player.prototype.item_action = function (block) {
            this.items.push(block)
            switch (block) {
                case 1:
                    this.burst_distance += 1;
                    break;
                case 2:
                    this.bomb_max += 1;
                    break
                case 3:
                    this.move_speed += 1;
                    break;
                case 4:
                    this.kick_F = true;
                    break;
                case 5:
                    this.punch_F = true;
                    controller_change(controller_display == "block")
                    break;
                case 6:
                    this.powerglove_F = true;
                    break;
            }
            this.item_display();
        }
        player.prototype.item_display = function () {
            if (this.player_num == 0) {
                document.getElementById("icon_layer").style.display = "block";
                document.getElementById("bomb_num").innerHTML = String(this.bomb_max);
                document.getElementById("fire_num").innerHTML = String(this.burst_distance);
                document.getElementById("speed_num").innerHTML = String(this.move_speed - this.initial_status.move_speed);
                if (this.kick_F) {
                    document.getElementById("kick_icon").style.display = "block";
                } else {
                    document.getElementById("kick_icon").style.display = "none";
                }
                if (this.punch_F) {
                    document.getElementById("punch_icon").style.display = "block";
                } else {
                    document.getElementById("punch_icon").style.display = "none";
                }
                if (this.powerglove_F) {
                    document.getElementById("powerglove_icon").style.display = "block";
                } else {
                    document.getElementById("powerglove_icon").style.display = "none";
                }
            }
        }


        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　変数初期化　　　　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        var player_array = [];
        var bomb_array = [];
        var bomb_counter = 1;
        var burst_array = [];
        var burst_counter = 0;
        var burn_array = [];
        var burn_counter = 0;
        var key_input = [];
        var key_counter = [];
        var interval = 50;

        var game_name = "bomber"
        var users = {};
        var user_names = [];
        var user_order = [];
        var user_num = 5;
        var joining_F = false;
        var gamestart_F = false;
        var gameend_F = false;
        var singlemode_F = false;

        var spacetime = 1000;
        var spacetime_ID = [];

        var Field;
        var stage_order = [];

        var debug_F = (localStorage.getItem(game_name + "debug_F") == "true" ? true : false);
        if (debug_F == null) {
            debug_F = false;
        }

        var field_data = []
        field_data[0] = {
            title: "いつものステージ",
            field_array: [[2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004],
            [2004, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2004],
            [2004, 999, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 999, 2004],
            [2004, 999, 2004, 100, 100, 0, 0, 0, 0, 0, 0, 0, 100, 100, 2004, 999, 2004],
            [2004, 999, 2004, 100, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 100, 2004, 999, 2004],
            [2004, 999, 2004, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 2004, 0, 2004, 100, 2004, 0, 2004, 0, 2004, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 0, 0, 0, 100, 100, 0, 0, 0, 0, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 999, 2004],
            [2004, 999, 2004, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2004, 999, 2004],
            [2004, 999, 2004, 100, 2004, 0, 2004, 0, 2004, 0, 2004, 0, 2004, 100, 2004, 999, 2004],
            [2004, 999, 2004, 100, 100, 0, 0, 0, 0, 0, 0, 0, 100, 100, 2004, 999, 2004],
            [2004, 999, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 999, 2004],
            [2004, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2004],
            [2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004, 2004]],
            ground_block: "field3",
            background_block: "field3",
            wall_block: 2004,
            block_size: 27,
            display_size: 54,
            softblock: 1100,
            softblock_rate: 0.4,
            items: [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6],
            initial_status: { move_speed: 4, bomb_max: 1, burst_distance: 1, kick_F: false, punch_F: false, powerglove_F: false, powerglove_power: 5 },
            ghost_status: { move_speed: 6, bomb_max: 1, burst_distance: 2, powerglove_F: false, powerglove_power: 4 },
            initial_position: [[3, 3], [13, 15], [13, 3], [3, 15], [8, 9]],
            ghost_position: [[1, 3], [15, 15], [15, 3], [1, 15], [1, 9]],
            hurryblock_reverse: false
        }


        field_data[1] = {
            title: "ばくふうとおりぬけ",
            field_array: [[2008, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2008],
            [2008, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2008],
            [2008, 999, 2002, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2002, 999, 2008],
            [2008, 999, 2008, 100, 100, 0, 0, 0, 0, 0, 0, 0, 100, 100, 2008, 999, 2008],
            [2008, 999, 2008, 100, 2000, 0, 2000, 0, 2000, 0, 2000, 0, 2000, 100, 2008, 999, 2008],
            [2008, 999, 2008, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 2000, 0, 2000, 0, 4000, 0, 2000, 0, 2000, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 2000, 0, 4000, 100, 4000, 0, 4000, 0, 2000, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 0, 0, 0, 100, 100, 0, 0, 0, 0, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 2000, 0, 4000, 0, 4000, 0, 4000, 0, 2000, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 2000, 0, 2000, 0, 4000, 0, 2000, 0, 2000, 0, 2008, 999, 2008],
            [2008, 999, 2008, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2008, 999, 2008],
            [2008, 999, 2008, 100, 2000, 0, 2000, 0, 2000, 0, 2000, 0, 2000, 100, 2008, 999, 2008],
            [2008, 999, 2008, 100, 100, 0, 0, 0, 0, 0, 0, 0, 100, 100, 2008, 999, 2008],
            [2008, 999, 2008, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2008, 999, 2008],
            [2008, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2008],
            [2008, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2008]],
            ground_block: "field1",
            background_block: "field1",
            wall_block: 2000,
            block_size: 27,
            display_size: 54,
            softblock: 3000,
            softblock_rate: 0.6,
            items: [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6],
            initial_status: { move_speed: 4, bomb_max: 1, burst_distance: 2, kick_F: false, punch_F: false, powerglove_F: false, powerglove_power: 5 },
            ghost_status: { move_speed: 6, bomb_max: 1, burst_distance: 2, powerglove_F: false, powerglove_power: 4 },
            initial_position: [[3, 3], [13, 15], [13, 3], [3, 15], [8, 9]],
            ghost_position: [[1, 3], [15, 15], [15, 3], [1, 15], [1, 9]],
            hurryblock_reverse: false
        }
        field_data[2] = {
            title: "ギンギンパワー",
            field_array: [[2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003],
            [2003, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2003],
            [2003, 999, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 999, 2003],
            [2003, 999, 2003, 100, 100, 0, 0, 0, 0, 0, 0, 0, 100, 100, 2003, 999, 2003],
            [2003, 999, 2003, 100, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 100, 2003, 999, 2003],
            [2003, 999, 2003, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 2003, 0, 2003, 100, 2003, 0, 2003, 0, 2003, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 0, 0, 0, 100, 100, 0, 0, 0, 0, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 999, 2003],
            [2003, 999, 2003, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2003, 999, 2003],
            [2003, 999, 2003, 100, 2003, 0, 2003, 0, 2003, 0, 2003, 0, 2003, 100, 2003, 999, 2003],
            [2003, 999, 2003, 100, 100, 0, 0, 0, 0, 0, 0, 0, 100, 100, 2003, 999, 2003],
            [2003, 999, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 999, 2003],
            [2003, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2003],
            [2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003, 2003]],
            ground_block: "field2",
            background_block: "field2",
            wall_block: 2003,
            block_size: 27,
            display_size: 54,
            softblock: 0,
            softblock_rate: 0,
            items: [],
            initial_status: { move_speed: 6, bomb_max: 6, burst_distance: 8, kick_F: true, punch_F: true, powerglove_F: true, powerglove_power: 5 },
            ghost_status: { move_speed: 6, bomb_max: 1, burst_distance: 2, powerglove_F: false, powerglove_power: 4 },
            initial_position: [[3, 3], [13, 15], [13, 3], [3, 15], [8, 9]],
            ghost_position: [[1, 3], [15, 15], [15, 3], [1, 15], [1, 9]],
            hurryblock_reverse: false
        }

        field_data[3] = {
            title: "かくれんぼ",
            field_array: [[2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006],
            [2006, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2006],
            [2006, 999, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 999, 2006],
            [2006, 999, 2006, 100, 100, 0, 0, 0, 6003, 6005, 6002, 0, 100, 100, 2006, 999, 2006],
            [2006, 999, 2006, 100, 2005, 0, 2005, 0, 2005, 6001, 2005, 0, 2005, 100, 2006, 999, 2006],
            [2006, 999, 2006, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100, 2006, 999, 2006],
            [2006, 999, 2006, 6000, 2005, 0, 2005, 0, 2005, 0, 2005, 0, 2005, 0, 2006, 999, 2006],
            [2006, 999, 2006, 6004, 6002, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2006, 999, 2006],
            [2006, 999, 2006, 6001, 2005, 0, 2005, 6000, 2005, 6000, 2005, 0, 2005, 0, 2006, 999, 2006],
            [2006, 999, 2006, 0, 0, 0, 6003, 6005, 6005, 6005, 6002, 0, 0, 0, 2006, 999, 2006],
            [2006, 999, 2006, 0, 2005, 0, 2005, 6001, 2005, 6001, 2005, 0, 2005, 6000, 2006, 999, 2006],
            [2006, 999, 2006, 0, 0, 0, 0, 100, 100, 100, 0, 0, 6003, 6004, 2006, 999, 2006],
            [2006, 999, 2006, 0, 2005, 0, 2005, 0, 2005, 0, 2005, 0, 2005, 6001, 2006, 999, 2006],
            [2006, 999, 2006, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2006, 999, 2006],
            [2006, 999, 2006, 100, 2005, 0, 2005, 6000, 2005, 0, 2005, 0, 2005, 100, 2006, 999, 2006],
            [2006, 999, 2006, 100, 100, 0, 6003, 6005, 6002, 0, 0, 0, 100, 100, 2006, 999, 2006],
            [2006, 999, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 999, 2006],
            [2006, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2006],
            [2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006, 2006]],
            ground_block: "field1",
            background_block: "field1",
            wall_block: 2006,
            block_size: 27,
            display_size: 54,
            softblock: 1200,
            softblock_rate: 0.4,
            items: [4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3,],
            initial_status: { move_speed: 4, bomb_max: 1, burst_distance: 1, kick_F: false, punch_F: false, powerglove_F: false, powerglove_power: 5 },
            ghost_status: { move_speed: 6, bomb_max: 1, burst_distance: 2, powerglove_F: false, powerglove_power: 4 },
            initial_position: [[3, 3], [13, 15], [13, 3], [3, 15], [8, 11]],
            ghost_position: [[1, 3], [15, 15], [15, 3], [1, 15], [1, 9]],
            hurryblock_reverse: false
        }
        field_data[4] = {
            title: "がけっぷち",
            field_array: [[2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001],
            [2001, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2001],
            [2001, 999, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 4500, 999, 2001],
            [2001, 999, 4501, 100, 100, 0, 0, 0, 4501, 0, 0, 0, 100, 100, 4501, 999, 2001],
            [2001, 999, 4501, 100, 0, 0, 0, 0, 4501, 0, 0, 0, 0, 100, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 4500, 4500, 4500, 4501, 4500, 4500, 4500, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 4501, 0, 0, 0, 0, 0, 4501, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 101, 0, 4000, 0, 4000, 0, 101, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 4501, 0, 0, 0, 0, 0, 4501, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 4500, 4500, 4501, 0, 100, 4000, 0, 0, 4501, 4500, 4500, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 4501, 0, 100, 100, 0, 0, 4501, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 101, 0, 4000, 0, 4000, 0, 101, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 4501, 0, 0, 0, 0, 0, 4501, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 0, 0, 4501, 4500, 4500, 4500, 4500, 4500, 4501, 0, 0, 4501, 999, 2001],
            [2001, 999, 4501, 100, 0, 0, 0, 0, 4501, 0, 0, 0, 0, 100, 4501, 999, 2001],
            [2001, 999, 4501, 100, 100, 0, 0, 0, 4501, 0, 0, 0, 100, 100, 4501, 999, 2001],
            [2001, 999, 4501, 4500, 4500, 4500, 4500, 4500, 4501, 4500, 4500, 4500, 4500, 4500, 4501, 999, 2001],
            [2001, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2001],
            [2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001, 2001]],
            ground_block: "field1",
            background_block: "field1",
            wall_block: 4501,
            block_size: 27,
            display_size: 54,
            softblock: 3000,
            softblock_rate: 0.8,
            items: [1, 1, 1, 1, 1, 4, 4, 4, 4, 4, 2, 2, 2, 2, 2, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 3, 3, 3, 3, 3],
            initial_status: { move_speed: 4, bomb_max: 1, burst_distance: 1, kick_F: false, punch_F: false, powerglove_F: false, powerglove_power: 5 },
            ghost_status: { move_speed: 6, bomb_max: 1, burst_distance: 2, powerglove_F: false, powerglove_power: 5 },
            initial_position: [[3, 3], [13, 15], [13, 3], [3, 15], [7, 10]],
            ghost_position: [[1, 3], [15, 15], [15, 3], [1, 15], [1, 9]],
            hurryblock_reverse: false
        }
        field_data[5] = {
            title: "ばくだんほうりなげ",
            field_array: [[2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007],
            [2007, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2007],
            [2007, 999, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 999, 2007],
            [2007, 999, 2007, 0, 0, 0, 0, 100, 100, 100, 0, 0, 0, 2007, 2007, 999, 2007],
            [2007, 999, 2007, 2007, 0, 0, 0, 0, 100, 0, 0, 0, 2007, 0, 2007, 999, 2007],
            [2007, 999, 2007, 0, 2007, 0, 0, 0, 0, 0, 0, 2007, 0, 0, 2007, 999, 2007],
            [2007, 999, 2007, 0, 0, 2007, 0, 0, 0, 0, 2007, 0, 0, 0, 2007, 999, 2007],
            [2007, 999, 2007, 0, 0, 0, 2007, 0, 0, 2007, 0, 0, 0, 0, 2007, 999, 2007],
            [2007, 999, 2007, 100, 0, 0, 100, 2007, 0, 2007, 0, 0, 0, 100, 2007, 999, 2007],
            [2007, 999, 2007, 100, 100, 0, 100, 100, 2007, 0, 0, 0, 100, 100, 2007, 999, 2007],
            [2007, 999, 2007, 100, 0, 0, 0, 2007, 0, 2007, 0, 0, 0, 100, 2007, 999, 2007],
            [2007, 999, 2007, 0, 0, 0, 0, 2007, 0, 0, 2007, 0, 0, 0, 2007, 999, 2007],
            [2007, 999, 2007, 0, 0, 0, 2007, 0, 0, 0, 0, 2007, 0, 0, 2007, 999, 2007],
            [2007, 999, 2007, 0, 0, 2007, 0, 0, 0, 0, 0, 0, 2007, 0, 2007, 999, 2007],
            [2007, 999, 2007, 0, 2007, 0, 0, 0, 100, 0, 0, 0, 0, 2007, 2007, 999, 2007],
            [2007, 999, 2007, 2007, 0, 0, 0, 100, 100, 100, 0, 0, 0, 0, 2007, 999, 2007],
            [2007, 999, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 999, 2007],
            [2007, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 2007],
            [2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007]],
            ground_block: "field4",
            background_block: "field4",
            wall_block: 2007,
            block_size: 27,
            display_size: 54,
            softblock: 1300,
            softblock_rate: 0.5,
            items: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3],
            initial_status: { move_speed: 3, bomb_max: 3, burst_distance: 1, kick_F: false, punch_F: true, powerglove_F: true, powerglove_power: 5 },
            ghost_status: { move_speed: 6, bomb_max: 1, burst_distance: 2, powerglove_F: false, powerglove_power: 4 },
            initial_position: [[3, 9], [13, 9], [8, 3], [8, 15], [7, 9]],
            ghost_position: [[1, 9], [15, 9], [8, 1], [8, 17], [1, 9]],
            hurryblock_reverse: false
        }

        // 1: 爆風, 2: ボム, 3: スピードアップ, 4: キック, 5: パンチ, 6: パワーグローブ


        var battle_code = localStorage.getItem(game_name + "battle_code");
        if (battle_code == null) {
            battle_code = ("00000" + Math.floor(Math.random() * 1000)).slice(-5)
        }
        insert_chara("battle_code", battle_code)

        var user_name = localStorage.getItem(game_name + "user_name");
        if (user_name == null) {
            user_name = "AAA"
        }
        insert_chara("user_name", user_name)

        var player_kind = localStorage.getItem(game_name + "player_kind");
        if (player_kind == null) {
            player_kind = "0"
        }
        document.getElementById("player_kind0").innerHTML = '<div class="player' + player_kind + '" style="position:absolute;top:-5px;left:0px;display:block;width:50px;height:50px;"></div>'
        //insert_chara("player_kind", player_kind)

        var controller_display = localStorage.getItem(game_name + "controllerdisplay");
        if (controller_display == null) {
            controller_display = "none";
        }
        controller_change(controller_display == "block");

        document.getElementById("fade_layer").style.display = "block";
        document.getElementById("title").style.display = "block";


        function start_cancel() {
            joining_F = false;
            document.getElementById("join_dialog").style.display = "none";
            document.getElementById("wait_dialog").style.display = "none";
            call_emit(battle_code + "join", { [my_username]: { users: 0 } })
            user_wait();

        }

        function start() {
            if (Object.keys(users).some(value => users[my_username].users != users[value].users)) {
                return
            } else {
                joining_F = false;
                document.getElementById("join_dialog").style.display = "none";
            }

            let seed = 0;
            for (i in users) {
                seed += parseInt(i.slice(3))
            }
            initialize_random();
            Math.random.seed(seed);
            user_names = Object.keys(users)
            user_order = user_names.slice().sort((a, b) => parseInt(a.slice(3)) - parseInt(b.slice(3)));
            if (user_names.length == 1) {
                singlemode_F = true;
                gamestart_F = true;
                game_start(users[my_username].stage);

            } else {
                initialize_snapshot();
                document.getElementById("wait_dialog").style.display = "block";
                call_emit(battle_code + my_username + "start", null);
            }
        }

        function game_start(stage_num) {
            document.getElementById("wait_dialog").style.display = "none";
            document.getElementById("fade_layer").style.display = "none";
            document.getElementById("item_help2").style.display = "block";
            //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
            //～～～～～～～～～　　　　インスタンス生成　　　～～～～～～～～～
            //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
            Field = new field("field_layer", "main_field", 0, 0, field_data[stage_num])
            Field.refresh_field();

            for (let i = 0; i < user_names.length; i++) {
                let options = {
                    field: Field,
                    player_number: i,
                    sprite_kind: "player" + users[user_names[i]].player_kind,
                    position_x: field_data[stage_num].initial_position[user_order.indexOf(user_names[i])][0],
                    position_y: field_data[stage_num].initial_position[user_order.indexOf(user_names[i])][1],
                    ghost_x: field_data[stage_num].ghost_position[user_order.indexOf(user_names[i])][0],
                    ghost_y: field_data[stage_num].ghost_position[user_order.indexOf(user_names[i])][1],
                    offset_x: field_data[stage_num].block_size,
                    offset_y: field_data[stage_num].block_size * 1.5,
                    size: field_data[stage_num].block_size * 0.3,
                    display_size: field_data[stage_num].display_size / 2,
                    initial_status: field_data[stage_num].initial_status,
                    ghost_status: field_data[stage_num].ghost_status
                }
                player_array.push(new player(options));
                key_counter[i] = 0;
            }

            if (player_array[0].punch_F) {
                controller_change(controller_display == "block")
            }
            if (singlemode_F == false) {
                Field.set_hurryblock(57, field_data[stage_num].hurryblock_reverse);
            }
        }

        function initialize_random() {
            Math.random.seed = (function me(s) {
                // Xorshift128 (init seed with Xorshift32)
                s ^= s << 13; s ^= 2 >>> 17; s ^= s << 5;
                let x = 123456789 ^ s;
                s ^= s << 13; s ^= 2 >>> 17; s ^= s << 5;
                let y = 362436069 ^ s;
                s ^= s << 13; s ^= 2 >>> 17; s ^= s << 5;
                let z = 521288629 ^ s;
                s ^= s << 13; s ^= 2 >>> 17; s ^= s << 5;
                let w = 88675123 ^ s;
                let t;
                Math.random = function () {
                    t = x ^ (x << 11);
                    x = y; y = z; z = w;
                    // >>>0 means 'cast to uint32'
                    w = ((w ^ (w >>> 19)) ^ (t ^ (t >>> 8))) >>> 0;
                    return w / 0x100000000;
                };
                Math.random.seed = me;
                return me;
            })(0);
        }

        function game_end() {
            while (Field.hurryblocks_time_ID.length > 0) {
                clearTimeout(Field.hurryblocks_time_ID.shift());
            }
            document.onkeydown = "";
            let ranks = Object.keys(users).sort((a, b) => users[b].endtime - users[a].endtime);


            for (let i = 0; i < ranks.length; i++) {
                let player_num = users[ranks[i]].player_kind
                let user_list = '<div  style="position:absolute;display:block;top:22px;left:10px;font-size:15px;">' + (i + 1) + '位 ' + '</div>'
                user_list += '<div class="player' + player_num + '" style="position:absolute;display:block;left:40px;top:5px;width:50px;height:40px;background-position: 0 -10px;"></div><div style="position:absolute;display:block;top:26px;left:93px;font-size:15px;">';
                user_list += ranks[i].substr(0, 3) + "&nbsp;</div>";
                document.getElementById("ranking" + i).innerHTML = user_list;
                if (ranks[i] == my_username) {
                    document.getElementById("ranking" + i).style.border = "1px solid black";
                }
            }


            document.getElementById("fade_layer").style.display = "block";
            document.getElementById("end_dialog").style.display = "block"
            document.getElementById("end_dialog").style.height = String(ranks.length * 50 + 120) + "px"
            document.getElementById("end_message").innerHTML += (ranks.indexOf(my_username) + 1) + " 位"
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　Socket.io 処理　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        function call_emit(code, data) {
            if (singlemode_F == false) {
                socket.emit("call", { [code]: data })
            }
        }

        function initialize_snapshot() {
            for (let i = 0; i < user_names.length - 1; i++) {
                socket.on(battle_code + user_names[i + 1] + "move", function (doc) {
                    let p = player_array[i + 1]
                    p.sprite.move_to(doc[0], doc[1]);
                    p.position_x = doc[0];
                    p.position_y = doc[1];
                    document.getElementById("playername" + p.player_num).style.left = String(p.position_x - p.display_size / 2) + "px";
                    document.getElementById("playername" + p.player_num).style.top = String(p.position_y - p.display_size * 1.7) + "px";
                    document.getElementById("playername" + p.player_num).style.zIndex = String(Math.floor(p.position_y / p.field.block_size) * 30 + p.sprite.z_adjust + 6);
                    let block = p.field.get_block(doc[0], doc[1])
                    p.sprite.change_kind(doc[2]);
                    let az, ax;
                    if (p.ghost_F) {
                        [az, ax] = [[49, 0.45], [51, -0.1], [51, 0.45], [51, 1]][doc[3]];
                    } else {
                        [az, ax] = [[-2, 0.45], [0, 0.2], [0, 0.45], [0, 0.7]][doc[3]];
                    }
                    p.bomb_sprite.z_index(az);
                    p.bomb_sprite.off_x = p.off_x * ax;
                    p.bomb_sprite.move_to(doc[0], doc[1]);
                })
                socket.on(battle_code + user_names[i + 1] + "bomb", function (doc) {
                    let p = player_array[i + 1]
                    let x, y
                    [x, y] = p.field.conv_xy(doc[0], doc[1]).map(value => value * p.field.block_size + p.field.block_size / 2)
                    bomb_put(p.field, x, y, p.block_size / 4, i + 1, doc[2], doc[3], p.block_size / 2, doc[4]);
                })

                socket.on(battle_code + user_names[i + 1] + "item", function (doc) {
                    player_array[i + 1].field.put_block(doc[0], doc[1], 0);
                })
                socket.on(battle_code + user_names[i + 1] + "punch", function (doc) {
                    let [bomb_id, distance_x, distance_y, x, y] = doc;
                    bomb_array.forEach((value) => {
                        if (value.bomb_id == bomb_id) {
                            while (value.punchedtime_ID.length > 0) {
                                clearTimeout(value.punchedtime_ID.shift());
                            }
                            while (value.kickedtime_ID.length > 0) {
                                clearTimeout(value.kickedtime_ID.shift());
                            }
                            value.position_x = x;
                            value.position_y = y;
                            value.punched(distance_x, distance_y, player_array[i + 1].ghost_F);
                        }
                    })
                })
                socket.on(battle_code + user_names[i + 1] + "kick", function (doc) {
                    let [bomb_id, speed_x, speed_y, x, y] = doc;
                    bomb_array.forEach((value) => {
                        if (value.bomb_id == bomb_id) {
                            while (value.kickedtime_ID.length > 0) {
                                clearTimeout(value.kickedtime_ID.shift());
                            }
                            while (value.punchedtime_ID.length > 0) {
                                clearTimeout(value.punchedtime_ID.shift());
                            }
                            value.position_x = x;
                            value.position_y = y;
                            value.kicked(speed_x, speed_y);
                        }
                    })
                })
                socket.on(battle_code + user_names[i + 1] + "powerglove_end", function (doc) {
                    let p = player_array[i + 1]
                    let [ox, oy] = [[0, -1], [1, 0], [0, 1], [-1, 0]][doc[3]];
                    bomb_put(p.field, doc[0], doc[1], p.block_size / 4, p.player_num, p.burst_distance, doc[2], p.block_size / 2, doc[5]);
                    bomb_array.forEach((value) => {
                        if (value.bomb_id == doc[2]) {
                            value.punched(ox * doc[4], oy * doc[4], p.ghost_F);
                        }
                    })
                    p.bomb_sprite.visible(false);
                })


                socket.on(battle_code + user_names[i + 1] + "powerglove", function (doc) {
                    bomb_array.forEach((value) => {
                        if (value.bomb_id == doc) {
                            while (value.timeout_ID.length > 0) {
                                clearTimeout(value.timeout_ID.shift());
                            }
                            value.field.bomb_field.forEach((value0, y) => {
                                value0.forEach((value1, x) => {
                                    if (value1 == value.bomb_id) {
                                        value.field.put_bombfield(x, y, 0);
                                    }
                                })
                            })
                            value.sprite.erase();
                            value.destroy = true;
                            bomb_erase();
                        }
                    })
                    player_array[i + 1].bomb_sprite.visible(true);
                })

            }

            for (let i = 0; i < user_names.length; i++) {
                socket.on(battle_code + user_names[i] + "start", function (doc) {
                    users[user_names[i]].start = true;
                    if (Object.keys(users).map(value => users[value].start).every(value => value) == true) {
                        call_emit(battle_code + user_names[i] + "allstarted", Object.keys(users).map(value => users[value].stage));
                    }
                })
                socket.on(battle_code + user_names[i] + "allstarted", function (doc) {
                    stage_order = shuffle_array(doc)
                    if (gamestart_F == false) {
                        gamestart_F = true;
                        game_start(stage_order[0]);
                    }
                })
                socket.on(battle_code + user_names[i] + "end", function (doc) {
                    if (gameend_F == true) {
                        return;
                    }
                    let [x, y] = [player_array[i].ghost_x, player_array[i].ghost_y];
                    if (users[doc["player"]] != undefined) {
                        if (users[doc["player"]].end && doc["ghost_F"]) {
                            users[doc["player"]].end = undefined;
                            [x, y] = [doc["position"][0], doc["position"][1]];
                            if (doc["player"] == my_username && player_array[0].ghost_F) {
                                call_emit(battle_code + my_username + "revive", [player_array[i].position_x, player_array[i].position_y])
                            }
                        }
                    }
                    users[user_names[i]].endtime = performance.now();
                    users[user_names[i]].end = doc["died"];      // true: died  false: end without death
                    if (doc["items"] == undefined) {
                        player_array[i].items = [];
                    } else {
                        player_array[i].items = doc["items"];
                    }
                    if (users[user_names[i]].end) {
                        player_array[i].die(x, y);
                    }
                    if (Object.keys(users).map(value => users[value].end).every(value => value == true || value == false)) {   //生死を問わず全員ゲーム終了
                        gameend_F = true;
                        setTimeout(game_end, 750);
                    } else if (users[my_username].end == undefined && Object.keys(users).map(value => users[value].end).filter(value => value).length == user_names.length - 1) {
                        //自分は終わっていないが、敵が全員死亡した場合
                        call_emit(battle_code + my_username + "end", { died: false, player: undefined, ghost_F: false })
                    }
                })

                socket.on(battle_code + user_names[i] + "burst", function (doc) {
                    bomb_array.forEach(value => {
                        if (value.bomb_id == doc[0]) {
                            value.position_x = doc[1];
                            value.position_y = doc[2];
                            value.burst();
                        }
                    })
                })
                socket.on(battle_code + user_names[i] + "vanish", function (doc) {
                    bomb_array.forEach(value => {
                        if (value.bomb_id == doc) {
                            value.vanish();
                        }
                    })
                })
                socket.on(battle_code + user_names[i] + "revive", function (doc) {
                    player_array[i].revive(doc[0], doc[1]);
                })


            }

        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　Playerのアクション　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        function input_to_action(player_num) {
            let move_F = false;
            let p = player_array[player_num]

            if (player_array[player_num].die_F) {
                return
            }
            if (key_input[player_num]["up"]) {
                p.move(0, -p.move_speed * key_input[player_num]["strength"]);
                move_F = true;
            }
            if (key_input[player_num]["down"]) {
                p.move(0, p.move_speed * key_input[player_num]["strength"]);
                move_F = true;
            }
            if (key_input[player_num]["right"]) {
                p.move(p.move_speed * key_input[player_num]["strength"], 0);
                move_F = true;
            }
            if (key_input[player_num]["left"]) {
                p.move(- p.move_speed * key_input[player_num]["strength"], 0);
                move_F = true;
            }

            if (player_num == 0 && move_F) {
                call_emit(battle_code + my_username + "move", [p.position_x, p.position_y, p.sp_num[p.sp_angle][Math.floor(key_counter[0] % 8)], p.sp_angle]);
            }
        }

        function space_to_action(player_num) {
            if (player_array[player_num].die_F) {
                return
            }
            let p = player_array[player_num]
            let bomb_id = user_order.indexOf(my_username) * 100 + bomb_counter;
            if (p.ghost_F) {
                let bomb_num = bomb_array.filter((value) => value.player_num == player_num).length;
                if (bomb_num < p.bomb_max) {
                    let x, y
                    [x, y] = p.field.conv_xy(p.position_x, p.position_y).map(value => value * p.field.block_size + p.field.block_size / 2)
                    player_array[player_num].bombholding_F = true;
                    player_array[player_num].bomb_sprite.visible(true);
                    call_emit(battle_code + my_username + "powerglove", bomb_id)
                }
            } else {
                spacetime_ID.push(setTimeout(function () { player_array[player_num].powerglove() }.bind(this), spacetime));
                let bomb_num = bomb_array.filter((value) => value.player_num == player_num).length;
                if (bomb_num < p.bomb_max) {
                    let [x, y] = p.field.std_xy(p.position_x, p.position_y);
                    bomb_put(p.field, x, y, p.block_size / 4, player_num, p.burst_distance, bomb_id, p.block_size / 2, false);
                    call_emit(battle_code + my_username + "bomb", [p.position_x, p.position_y, p.burst_distance, bomb_id, p.ghost_F]);
                }
            }
        }

        function punch_action(player_num) {
            let p = player_array[player_num]
            if (p.punch_F) {
                let [ox, oy] = [[0, -1], [1, 0], [0, 1], [-1, 0]][p.sp_angle];
                let [x, y] = p.field.conv_xy(p.position_x, p.position_y)
                let bomb_id = p.field.bomb_field[y + oy][x + ox]
                if (bomb_id > 0) {
                    p.punch(ox * 3, oy * 3, bomb_id)
                }
            }
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　ボタン設置　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        function active_button_set(button_name, callback1, callback2) {
            if (!navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)) {
                document.getElementById(button_name).onmousedown = callback1;
                document.getElementById(button_name).onmouseup = callback2;
            }

            let touch_target = document.getElementById(button_name);
            touch_target.addEventListener("touchstart", function (event) {
                event.target.classList.add('pressed')
                callback1()
            }, false);
            touch_target.addEventListener("touchend", function (event) {
                event.target.classList.remove('pressed')
                callback2();
            }, false);
        }


        function button_set(button_name, callback) {
            if (!navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)) {
                document.getElementById(button_name).onmouseup = callback;
            }
            document.getElementById(button_name).addEventListener("touchstart", function (event) {
                event.target.classList.add('pressed')
            }, false);
            document.getElementById(button_name).addEventListener("touchend", function (event) {
                event.target.classList.remove('pressed')
                callback();
            }, false);

        }

        function controller_change(controller_F) {
            if (controller_F) {
                document.getElementById("controller").style.display = "block";
                document.getElementById("slide_controller").style.display = "none";
                document.getElementById("bomb_button").style.display = "none";
                document.getElementById("controller_change").innerHTML = "Slide pad";
                if (player_array[0] != undefined) {
                    if (player_array[0].punch_F) {
                        document.getElementById("punch_button").style.display = "none";
                        document.getElementById("punch_key").style.display = "block";
                    } else {
                        document.getElementById("punch_button").style.display = "none";
                        document.getElementById("punch_key").style.display = "none";
                    }

                }
            } else {
                document.getElementById("controller").style.display = "none";
                document.getElementById("slide_controller").style.display = "block"
                document.getElementById("bomb_button").style.display = "block";
                document.getElementById("controller_change").innerHTML = "Controller";
                if (player_array[0] != undefined) {
                    if (player_array[0].punch_F) {
                        document.getElementById("punch_button").style.display = "block";
                        document.getElementById("punch_key").style.display = "none";
                    } else {
                        document.getElementById("punch_button").style.display = "none";
                        document.getElementById("punch_key").style.display = "none";
                    }
                }
            }
            localStorage.setItem(game_name + "controllerdisplay", controller_display);
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　キーボード入力　　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～

        var key_event_ID;
        key_input[0] = { space: false, n: false };

        document.onkeydown = function () { keyboard(event.keyCode) }

        function keyboard(keycode) {
            if (gamestart_F == false) {
                return;
            }
            let key_change_F = false;
            let key_space_F = false;
            switch (keycode) {
                case 38:	// 上
                    key_change_F = (key_input[0]["up"] ? false : true);
                    key_input[0]["up"] = true;
                    key_input[0]["strength"] = 1;
                    break;
                case 40:	//下
                    key_change_F = (key_input[0]["down"] ? false : true);
                    key_input[0]["down"] = true;
                    key_input[0]["strength"] = 1;
                    break;
                case 39:	//右
                    key_change_F = (key_input[0]["right"] ? false : true);
                    key_input[0]["right"] = true;
                    key_input[0]["strength"] = 1;
                    break;
                case 37:	//左
                    key_change_F = (key_input[0]["left"] ? false : true);
                    key_input[0]["left"] = true;
                    key_input[0]["strength"] = 1;
                    break;
                case 32:	//スペース
                    if (key_input[0]["space"] == false) {
                        key_input[0]["space"] = true;
                        space_to_action(0);
                    }
                    break;
                case 78:	// n パンチ
                    if (key_input[0]["n"] == false) {
                        key_input[0]["n"] = true;
                        punch_action(0);
                    }
                    break;
            }
            if (key_change_F) {
                clearTimeout(key_event_ID);
                key_press(0);
            }
        }


        document.onkeyup = function () { keyboardup(event.keyCode) }
        function keyboardup(keycode) {
            switch (keycode) {
                case 38:	// 上
                    key_input[0]["up"] = false;
                    break;
                case 40:	//下
                    key_input[0]["down"] = false;
                    break;
                case 39:	//右
                    key_input[0]["right"] = false;
                    break;
                case 37:	//左
                    key_input[0]["left"] = false;
                    break;
                case 32:	//スーペース
                    if (key_input[0]["space"] == true) {
                        while (spacetime_ID.length > 0) {
                            clearTimeout(spacetime_ID.shift());
                        }
                        key_input[0]["space"] = false;
                        if (player_array[0].bombholding_F && player_array[0].powerglove_F) {
                            player_array[0].powerglove_end(player_array[0].powerglove_power, player_array[0].ghost_F);
                        }
                    }
                    break;
                case 78:	// n パンチ
                    key_input[0]["n"] = false;
                    break;
            }
            if (Object.keys(key_input[0]).every(value => value == "strength" || value == "space" || value == "n" || key_input[0][value] == false)) {
                key_unpress(0);
            }
        }

        function key_press(player_num) {
            input_to_action(player_num);
            key_counter[player_num] += key_input[0]["strength"];
            key_event_ID = setTimeout(function () { key_press(player_num) }, 25);
        }

        function key_unpress(player_num) {
            clearTimeout(key_event_ID);
            key_counter[player_num] = 0;
        }

        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        //～～～～～～～～～　　　　タッチパネル入力　　　　～～～～～～～～～
        //～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
        document.getElementById("whole").addEventListener('touchstart', function (event) {
            event.preventDefault();
        }, { passive: false });

        var touch_area = document.getElementById('touch_area');

        let move_sense = 1;
        let movesense_max = 25;
        let touch_start_x, touch_start_y, touch_move_x, touch_move_y, slidepadback_x, slidepadback_y;
        let touch_adjust_x = 20;

        touch_area.addEventListener('touchstart', function (event) {
            touch_start_x = slidepadback_x = event.targetTouches[0].pageX;
            touch_start_y = slidepadback_y = event.targetTouches[0].pageY;
            document.getElementById("slidepadback").style.left = String(touch_start_x - 52 + touch_adjust_x) + "px"
            document.getElementById("slidepadback").style.top = String(touch_start_y - 52) + "px"
            document.getElementById("slidepad").style.left = String(touch_start_x - 25 + touch_adjust_x) + "px"
            document.getElementById("slidepad").style.top = String(touch_start_y - 25) + "px"
        }, false);


        touch_area.addEventListener('touchmove', function (event) {
            event.preventDefault(); // タッチによる画面スクロールを止める
            touch_move_x = event.targetTouches[0].pageX;
            touch_move_y = event.targetTouches[0].pageY;
            let strength = 0;
            let l = Math.sqrt(Math.pow(touch_move_x - slidepadback_x, 2) + Math.pow(touch_move_y - slidepadback_y, 2));
            if (l > 25) {
                slidepadback_x += touch_move_x - slidepadback_x - (touch_move_x - slidepadback_x) * 25 / l;
                slidepadback_y += touch_move_y - slidepadback_y - (touch_move_y - slidepadback_y) * 25 / l;
                document.getElementById("slidepadback").style.left = String(slidepadback_x - 52 + touch_adjust_x) + "px"
                document.getElementById("slidepadback").style.top = String(slidepadback_y - 52) + "px"
            }
            document.getElementById("slidepad").style.left = String(touch_move_x - 25 + touch_adjust_x) + "px"
            document.getElementById("slidepad").style.top = String(touch_move_y - 25) + "px"
            let key_change_F = false;

            let a = (touch_move_y - (slidepadback_y + 0)) / (touch_move_x - slidepadback_x)

            if ((a > 1 || a < -1) && (slidepadback_y + 0) - touch_move_y > move_sense) {
                if (key_input[0]["up"] != true) {
                    key_change_F = true;
                }
                key_input[0]["up"] = true;
                key_input[0]["left"] = false;
                key_input[0]["right"] = false;
                key_input[0]["down"] = false;

                strength = (slidepadback_y + 0) - touch_move_y;
                strength = (strength > movesense_max ? movesense_max : strength) / movesense_max;
                key_input[0]["strength"] = strength;
                touch_start_x = touch_move_x;
                touch_start_y = touch_move_y;

            } else if ((a > 1 || a < -1) && touch_move_y - (slidepadback_y + 0) > move_sense) {
                if (key_input[0]["down"] != true) {
                    key_change_F = true;
                }
                key_input[0]["down"] = true;
                key_input[0]["left"] = false;
                key_input[0]["up"] = false;
                key_input[0]["right"] = false;

                strength = touch_move_y - (slidepadback_y + 0);
                strength = (strength > movesense_max ? movesense_max : strength) / movesense_max;
                key_input[0]["strength"] = strength;
                touch_start_x = touch_move_x;
                touch_start_y = touch_move_y;

            } else if ((a <= 1 && a >= -1) && (slidepadback_x + 0) - touch_move_x > move_sense) {
                if (key_input[0]["left"] != true) {
                    key_change_F = true;
                }
                key_input[0]["left"] = true;
                key_input[0]["right"] = false;
                key_input[0]["up"] = false;
                key_input[0]["down"] = false;

                strength = (slidepadback_x + 0) - touch_move_x;
                strength = (strength > movesense_max ? movesense_max : strength) / movesense_max;
                key_input[0]["strength"] = strength;
                touch_start_x = touch_move_x;
                touch_start_y = touch_move_y;

            } else if ((a <= 1 && a >= -1) && touch_move_x - (slidepadback_x + 0) > move_sense) {
                if (key_input[0]["right"] != true) {
                    key_change_F = true;
                }
                key_input[0]["right"] = true;
                key_input[0]["left"] = false;
                key_input[0]["up"] = false;
                key_input[0]["down"] = false;

                strength = touch_move_x - (slidepadback_x + 0);
                strength = (strength > movesense_max ? movesense_max : strength) / movesense_max;
                key_input[0]["strength"] = strength;
                touch_start_x = touch_move_x;
                touch_start_y = touch_move_y;
            }

            if (key_change_F) {
                clearTimeout(key_event_ID);
                key_press(0);
            }
        }, false);

        touch_area.addEventListener('touchend', function (event) {
            key_input[0]["right"] = false;
            key_input[0]["left"] = false;
            key_input[0]["up"] = false;
            key_input[0]["down"] = false;
            document.getElementById("slidepadback").style.left = "30px"
            document.getElementById("slidepadback").style.top = ""
            document.getElementById("slidepadback").style.bottom = "50px"
            document.getElementById("slidepad").style.left = "57px"
            document.getElementById("slidepad").style.top = ""
            document.getElementById("slidepad").style.bottom = "77px"
            key_unpress(0);

        }, false);

    </script>

</body>

</html>